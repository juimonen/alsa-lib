cscope 15 $HOME/work/sof/alsa-lib/src/topology               0000226094
	@builder.c

20 
	~"li¡.h
"

21 
	~"lg_loÿl.h
"

24 
	$v”bo£
(
¢d_lg_t
 *
lg
, cÚ¡ *
fmt
, ...)

26 
off£t
;

27 
va_li¡
 
va
;

29 ià(!
lg
->
v”bo£
)

32 
off£t
 = 
	`l£ek
(
lg
->
out_fd
, 0, 
SEEK_CUR
);

34 
	`va_¡¬t
(
va
, 
fmt
);

35 
	`årštf
(
¡dout
, "0x%6.6x/%6.6d -", 
off£t
, offset);

36 
	`vårštf
(
¡dout
, 
fmt
, 
va
);

37 
	`va_’d
(
va
);

38 
	}
}

41 
	$wr™e_block_h—d”
(
¢d_lg_t
 *
lg
, 
ty³
,

42 
v’dÜ_ty³
, 
v”siÚ
, 
šdex
,

43 
size_t
 
·ylßd_size
, 
couÁ
)

45 
¢d_soc_lg_hdr
 
hdr
;

46 
size_t
 
by‹s
;

47 
off£t
 = 
	`l£ek
(
lg
->
out_fd
, 0, 
SEEK_CUR
);

49 
	`mem£t
(&
hdr
, 0, (hdr));

50 
hdr
.
magic
 = 
SND_SOC_TPLG_MAGIC
;

51 
hdr
.
abi
 = 
SND_SOC_TPLG_ABI_VERSION
;

52 
hdr
.
ty³
 =ype;

53 
hdr
.
v’dÜ_ty³
 = vendor_type;

54 
hdr
.
v”siÚ
 = version;

55 
hdr
.
·ylßd_size
 =…ayload_size;

56 
hdr
.
šdex
 = index;

57 
hdr
.
size
 = (hdr);

58 
hdr
.
couÁ
 = count;

61 ià(()
off£t
 !ğ
lg
->
Ãxt_hdr_pos
) {

62 
	`SNDERR
("error: New header is‡t offset 0x%x but file"

64 
lg
->
Ãxt_hdr_pos
, 
off£t
,

65 ()
off£t
 > 
lg
->
Ãxt_hdr_pos
 ? "ahead" : "behind",

66 
	`abs
(
off£t
 - 
lg
->
Ãxt_hdr_pos
));

67 
	`ex™
(-
EINVAL
);

70 
	`v”bo£
(
lg
, " header index %dype %d count %d size 0x%lx/%ld vendor %d "

71 "v”siÚ %d\n", 
šdex
, 
ty³
, 
couÁ
,

72 ()
·ylßd_size
, ()payload_size,

73 
v’dÜ_ty³
, 
v”siÚ
);

75 
lg
->
Ãxt_hdr_pos
 +ğ
hdr
.
·ylßd_size
 + (hdr);

77 
by‹s
 = 
	`wr™e
(
lg
->
out_fd
, &
hdr
, (hdr));

78 ià(
by‹s
 !ğ(
hdr
)) {

79 
	`SNDERR
("error: can't write section header %lu\n",

80 ()
by‹s
);

81  
by‹s
;

84  
by‹s
;

85 
	}
}

87 
	$wr™e_–em_block
(
¢d_lg_t
 *
lg
,

88 
li¡_h—d
 *
ba£
, 
size
, 
lg_ty³
, cÚ¡ *
obj_Çme
)

90 
li¡_h—d
 *
pos
, *
sub_pos
, *
sub_ba£
;

91 
lg_–em
 *
–em
, *
–em_Ãxt
;

92 
»t
, 
wsize
 = 0, 
tÙ®_size
 = 0, 
couÁ
 = 0, 
block_size
 = 0;

94 
sub_ba£
 = 
ba£
;

95 
	`li¡_fÜ_—ch
(
pos
, 
ba£
) {

97 
–em
 = 
	`li¡_’Œy
(
pos
, 
lg_–em
, 
li¡
);

99 ià(
–em
->
compound_–em
)

102 
–em_Ãxt
 = 
	`li¡_’Œy
(
pos
->
Ãxt
, 
lg_–em
, 
li¡
);

103 
block_size
 +ğ
–em
->
size
;

104 
couÁ
++;

106 ià((
pos
->
Ãxt
 =ğ
ba£
è|| (
–em_Ãxt
->
šdex
 !ğ
–em
->index)) {

108 
»t
 = 
	`wr™e_block_h—d”
(
lg
, 
lg_ty³
, 
–em
->
v’dÜ_ty³
,

109 
lg
->
v”siÚ
, 
–em
->
šdex
, 
block_size
, 
couÁ
);

110 ià(
»t
 < 0) {

111 
	`SNDERR
("error: failedo write %s block %d\n",

112 
obj_Çme
, 
»t
);

113  
»t
;

117 
	`li¡_fÜ_—ch
(
sub_pos
, 
sub_ba£
) {

118 
–em
 = 
	`li¡_’Œy
(
sub_pos
, 
lg_–em
, 
li¡
);

120 ià(
–em
->
compound_–em
)

123 ià(
–em
->
ty³
 !ğ
SND_TPLG_TYPE_DAPM_GRAPH
)

124 
	`v”bo£
(
lg
, " %s '%s': write %d bytes\n",

125 
obj_Çme
, 
–em
->
id
,ƒËm->
size
);

127 
	`v”bo£
(
lg
, " %s '%s -> %s -> %s': write %d bytes\n",

128 
obj_Çme
, 
–em
->
rou‹
->
sourû
,

129 
–em
->
rou‹
->
cÚŒŞ
,

130 
–em
->
rou‹
->
sšk
,ƒËm->
size
);

132 
wsize
 = 
	`wr™e
(
lg
->
out_fd
, 
–em
->
obj
,ƒËm->
size
);

133 ià(
wsize
 < 0) {

134 
	`SNDERR
("error: failedo write %s %d\n",

135 
obj_Çme
, 
»t
);

136  
»t
;

139 
tÙ®_size
 +ğ
wsize
;

141 ià(
sub_pos
 =ğ
pos
)

146 
sub_ba£
 = 
pos
;

147 
couÁ
 = 0;

148 
block_size
 = 0;

153 ià(
tÙ®_size
 !ğ
size
) {

154 
	`SNDERR
("error: size mismatch. Expected %d wrote %d\n",

155 
size
, 
tÙ®_size
);

156  -
EIO
;

160 
	}
}

162 
	$ÿlc_block_size
(
li¡_h—d
 *
ba£
)

164 
li¡_h—d
 *
pos
;

165 
lg_–em
 *
–em
;

166 
size
 = 0;

168 
	`li¡_fÜ_—ch
(
pos
, 
ba£
) {

170 
–em
 = 
	`li¡_’Œy
(
pos
, 
lg_–em
, 
li¡
);

173 ià(
–em
->
compound_–em
)

176 
size
 +ğ
–em
->size;

179  
size
;

180 
	}
}

182 
	$wr™e_block
(
¢d_lg_t
 *
lg
, 
li¡_h—d
 *
ba£
,

183 
ty³
)

185 
size
;

188 
size
 = 
	`ÿlc_block_size
(
ba£
);

189 ià(
size
 <= 0)

190  
size
;

192 
	`v”bo£
(
lg
, " block sizfÜy³ %d i %d\n", 
ty³
, 
size
);

195 
ty³
) {

196 
SND_TPLG_TYPE_MIXER
:

197  
	`wr™e_–em_block
(
lg
, 
ba£
, 
size
,

198 
SND_SOC_TPLG_TYPE_MIXER
, "mixer");

199 
SND_TPLG_TYPE_BYTES
:

200  
	`wr™e_–em_block
(
lg
, 
ba£
, 
size
,

201 
SND_SOC_TPLG_TYPE_BYTES
, "bytes");

202 
SND_TPLG_TYPE_ENUM
:

203  
	`wr™e_–em_block
(
lg
, 
ba£
, 
size
,

204 
SND_SOC_TPLG_TYPE_ENUM
, "enum");

205 
SND_TPLG_TYPE_DAPM_GRAPH
:

206  
	`wr™e_–em_block
(
lg
, 
ba£
, 
size
,

207 
SND_SOC_TPLG_TYPE_DAPM_GRAPH
, "route");

208 
SND_TPLG_TYPE_DAPM_WIDGET
:

209  
	`wr™e_–em_block
(
lg
, 
ba£
, 
size
,

210 
SND_SOC_TPLG_TYPE_DAPM_WIDGET
, "widget");

211 
SND_TPLG_TYPE_PCM
:

212  
	`wr™e_–em_block
(
lg
, 
ba£
, 
size
,

213 
SND_SOC_TPLG_TYPE_PCM
, "pcm");

214 
SND_TPLG_TYPE_BE
:

215  
	`wr™e_–em_block
(
lg
, 
ba£
, 
size
,

216 
SND_SOC_TPLG_TYPE_BACKEND_LINK
, "be");

217 
SND_TPLG_TYPE_CC
:

218  
	`wr™e_–em_block
(
lg
, 
ba£
, 
size
,

219 
SND_SOC_TPLG_TYPE_CODEC_LINK
, "cc");

220 
SND_TPLG_TYPE_DATA
:

221  
	`wr™e_–em_block
(
lg
, 
ba£
, 
size
,

222 
SND_SOC_TPLG_TYPE_PDATA
, "data");

223 
SND_TPLG_TYPE_DAI
:

224  
	`wr™e_–em_block
(
lg
, 
ba£
, 
size
,

225 
SND_SOC_TPLG_TYPE_DAI
, "dai");

227  -
EINVAL
;

231 
	}
}

234 
	$wr™e_mªiã¡_d©a
(
¢d_lg_t
 *
lg
)

236 
»t
;

239 
»t
 = 
	`wr™e_block_h—d”
(
lg
, 
SND_SOC_TPLG_TYPE_MANIFEST
, 0,

240 
lg
->
v”siÚ
, 0,

241 (
lg
->
mªiã¡
è+¶g->mªiã¡.
´iv
.
size
, 1);

242 ià(
»t
 < 0) {

243 
	`SNDERR
("”rÜ: faedØwr™mªiã¡ block %d\n", 
»t
);

244  
»t
;

247 
	`v”bo£
(
lg
, "mªiã¡ : wr™%d by‹s\n", Ñ¶g->
mªiã¡
));

248 
»t
 = 
	`wr™e
(
lg
->
out_fd
, &lg->
mªiã¡
, (tplg->manifest));

249 ià(
»t
 < 0) {

250 
	`SNDERR
("”rÜ: faedØwr™mªiã¡ %d\n", 
»t
);

251  
»t
;

254 
	`v”bo£
(
lg
, "mªiã¡ : wr™%d…riv by‹s\n",¶g->
mªiã¡
.
´iv
.
size
);

255 
»t
 = 
	`wr™e
(
lg
->
out_fd
,¶g->
mªiã¡_pd©a
,¶g->
mªiã¡
.
´iv
.
size
);

256 ià(
»t
 < 0) {

257 
	`SNDERR
("”rÜ: faedØwr™mªiã¡…riv d©¨%d\n", 
»t
);

258  
»t
;

262 
	}
}

264 
	$lg_wr™e_d©a
(
¢d_lg_t
 *
lg
)

266 
»t
;

269 
»t
 = 
	`wr™e_mªiã¡_d©a
(
lg
);

270 ià(
»t
 < 0) {

271 
	`SNDERR
("çedØwr™mªiã¡ %d\n", 
»t
);

272  
»t
;

276 
»t
 = 
	`wr™e_block
(
lg
, &lg->
mix”_li¡
,

277 
SND_TPLG_TYPE_MIXER
);

278 ià(
»t
 < 0) {

279 
	`SNDERR
("çedØwr™cÚŒŞƒËm %d\n", 
»t
);

280  
»t
;

284 
»t
 = 
	`wr™e_block
(
lg
, &lg->
’um_li¡
,

285 
SND_TPLG_TYPE_ENUM
);

286 ià(
»t
 < 0) {

287 
	`SNDERR
("çedØwr™cÚŒŞƒËm %d\n", 
»t
);

288  
»t
;

292 
»t
 = 
	`wr™e_block
(
lg
, &lg->
by‹s_ext_li¡
,

293 
SND_TPLG_TYPE_BYTES
);

294 ià(
»t
 < 0) {

295 
	`SNDERR
("çedØwr™cÚŒŞƒËm %d\n", 
»t
);

296  
»t
;

300 
»t
 = 
	`wr™e_block
(
lg
, &lg->
widg‘_li¡
,

301 
SND_TPLG_TYPE_DAPM_WIDGET
);

302 ià(
»t
 < 0) {

303 
	`SNDERR
("çedØwr™widg‘ƒËm %d\n", 
»t
);

304  
»t
;

308 
»t
 = 
	`wr™e_block
(
lg
, &lg->
pcm_li¡
,

309 
SND_TPLG_TYPE_PCM
);

310 ià(
»t
 < 0) {

311 
	`SNDERR
("çedØwr™pcmƒËm %d\n", 
»t
);

312  
»t
;

316 
»t
 = 
	`wr™e_block
(
lg
, &lg->
dai_li¡
,

317 
SND_TPLG_TYPE_DAI
);

318 ià(
»t
 < 0) {

319 
	`SNDERR
("çedØwr™physiÿÈda˜–em %d\n", 
»t
);

320  
»t
;

324 
»t
 = 
	`wr™e_block
(
lg
, &lg->
be_li¡
,

325 
SND_TPLG_TYPE_BE
);

326 ià(
»t
 < 0) {

327 
	`SNDERR
("çedØwr™b–em %d\n", 
»t
);

328  
»t
;

332 
»t
 = 
	`wr™e_block
(
lg
, &lg->
cc_li¡
,

333 
SND_TPLG_TYPE_CC
);

334 ià(
»t
 < 0) {

335 
	`SNDERR
("çedØwr™cø–em %d\n", 
»t
);

336  
»t
;

340 
»t
 = 
	`wr™e_block
(
lg
, &lg->
rou‹_li¡
,

341 
SND_TPLG_TYPE_DAPM_GRAPH
);

342 ià(
»t
 < 0) {

343 
	`SNDERR
("çedØwr™g¿phƒËm %d\n", 
»t
);

344  
»t
;

348 
»t
 = 
	`wr™e_block
(
lg
, &lg->
pd©a_li¡
,

349 
SND_TPLG_TYPE_DATA
);

350 ià(
»t
 < 0) {

351 
	`SNDERR
("çedØwr™´iv©d©¨%d\n", 
»t
);

352  
»t
;

356 
	}
}

	@channel.c

20 
	~"li¡.h
"

21 
	~"lg_loÿl.h
"

24 cÚ¡ 
m­_–em
 
	gchªÃl_m­
[] = {

25 {"mÚo", 
SNDRV_CHMAP_MONO
},

26 {"æ", 
SNDRV_CHMAP_FL
},

27 {"ä", 
SNDRV_CHMAP_FR
},

28 {"¾", 
SNDRV_CHMAP_RL
},

29 {"¼", 
SNDRV_CHMAP_RR
},

30 {"fc", 
SNDRV_CHMAP_FC
},

31 {"lã", 
SNDRV_CHMAP_LFE
},

32 {"¦", 
SNDRV_CHMAP_SL
},

33 {"¤", 
SNDRV_CHMAP_SR
},

34 {"rc", 
SNDRV_CHMAP_RC
},

35 {"æc", 
SNDRV_CHMAP_FLC
},

36 {"äc", 
SNDRV_CHMAP_FRC
},

37 {"¾c", 
SNDRV_CHMAP_RLC
},

38 {"¼c", 
SNDRV_CHMAP_RRC
},

39 {"æw", 
SNDRV_CHMAP_FLW
},

40 {"äw", 
SNDRV_CHMAP_FRW
},

41 {"æh", 
SNDRV_CHMAP_FLH
},

42 {"fch", 
SNDRV_CHMAP_FCH
},

43 {"äh", 
SNDRV_CHMAP_FRH
},

44 {"tc", 
SNDRV_CHMAP_TC
},

45 {"tæ", 
SNDRV_CHMAP_TFL
},

46 {"tä", 
SNDRV_CHMAP_TFR
},

47 {"tfc", 
SNDRV_CHMAP_TFC
},

48 {"Œl", 
SNDRV_CHMAP_TRL
},

49 {"Œr", 
SNDRV_CHMAP_TRR
},

50 {"Œc", 
SNDRV_CHMAP_TRC
},

51 {"tæc", 
SNDRV_CHMAP_TFLC
},

52 {"täc", 
SNDRV_CHMAP_TFRC
},

53 {"t¦", 
SNDRV_CHMAP_TSL
},

54 {"t¤", 
SNDRV_CHMAP_TSR
},

55 {"Îã", 
SNDRV_CHMAP_LLFE
},

56 {"¾ã", 
SNDRV_CHMAP_RLFE
},

57 {"bc", 
SNDRV_CHMAP_BC
},

58 {"blc", 
SNDRV_CHMAP_BLC
},

59 {"brc", 
SNDRV_CHMAP_BRC
},

63 
	$lookup_chªÃl
(cÚ¡ *
c
)

65 
i
;

67 
i
 = 0; i < 
	`ARRAY_SIZE
(
chªÃl_m­
); i++) {

68 ià(
	`¡rÿ£cmp
(
chªÃl_m­
[
i
].
Çme
, 
c
) == 0) {

69  
chªÃl_m­
[
i
].
id
;

73  -
EINVAL
;

74 
	}
}

77 
	$lg_·r£_chªÃl
(
¢d_lg_t
 *
lg
,

78 
¢d_cÚfig_t
 *
cfg
, *
´iv©e
)

80 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

81 
¢d_cÚfig_t
 *
n
;

82 
¢d_soc_lg_chªÃl
 *
chªÃl
 = 
´iv©e
;

83 cÚ¡ *
id
, *
v®ue
;

84 
chªÃl_id
;

86 ià(
lg
->
chªÃl_idx
 >ğ
SND_SOC_TPLG_MAX_CHAN
)

87  -
EINVAL
;

89 
chªÃl
 +ğ
lg
->
chªÃl_idx
;

90 
	`¢d_cÚfig_g‘_id
(
cfg
, &
id
);

91 
	`lg_dbg
("\tChªÃÈ% © index %d\n", 
id
, 
lg
->
chªÃl_idx
);

93 
chªÃl_id
 = 
	`lookup_chªÃl
(
id
);

94 ià(
chªÃl_id
 < 0) {

95 
	`SNDERR
("”rÜ: inv®id chªÃÈ%s\n", 
id
);

96  -
EINVAL
;

99 
chªÃl
->
id
 = 
chªÃl_id
;

100 
chªÃl
->
size
 = (*channel);

101 
	`lg_dbg
("\tChª % ğ%d\n", 
id
, 
chªÃl
->id);

103 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

105 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

108 ià(
	`¢d_cÚfig_g‘_id
(
n
, &
id
) < 0)

112 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®ue
) < 0)

115 ià(
	`¡rcmp
(
id
, "reg") == 0)

116 
chªÃl
->
»g
 = 
	`©oi
(
v®ue
);

117 ià(
	`¡rcmp
(
id
, "shift") == 0)

118 
chªÃl
->
shiá
 = 
	`©oi
(
v®ue
);

120 
	`lg_dbg
("\t\t% ğ%s\n", 
id
, 
v®ue
);

123 
lg
->
chªÃl_idx
++;

125 
	}
}

	@ctl.c

20 
	~"li¡.h
"

21 
	~"lg_loÿl.h
"

23 
	#ENUM_VAL_SIZE
 (
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
 >> 2)

	)

25 
	sùl_acûss_–em
 {

26 cÚ¡ *
	mÇme
;

27 
	mv®ue
;

31 cÚ¡ 
ùl_acûss_–em
 
	gùl_acûss
[] = {

32 {"»ad", 
SNDRV_CTL_ELEM_ACCESS_READ
},

33 {"wr™e", 
SNDRV_CTL_ELEM_ACCESS_WRITE
},

34 {"»ad_wr™e", 
SNDRV_CTL_ELEM_ACCESS_READWRITE
},

35 {"vŞ©e", 
SNDRV_CTL_ELEM_ACCESS_VOLATILE
},

36 {"time¡amp", 
SNDRV_CTL_ELEM_ACCESS_TIMESTAMP
},

37 {"v_»ad", 
SNDRV_CTL_ELEM_ACCESS_TLV_READ
},

38 {"v_wr™e", 
SNDRV_CTL_ELEM_ACCESS_TLV_WRITE
},

39 {"v_»ad_wr™e", 
SNDRV_CTL_ELEM_ACCESS_TLV_READWRITE
},

40 {"v_commªd", 
SNDRV_CTL_ELEM_ACCESS_TLV_COMMAND
},

41 {"šaùive", 
SNDRV_CTL_ELEM_ACCESS_INACTIVE
},

42 {"lock", 
SNDRV_CTL_ELEM_ACCESS_LOCK
},

43 {"owÃr", 
SNDRV_CTL_ELEM_ACCESS_OWNER
},

44 {"v_ÿÎback", 
SNDRV_CTL_ELEM_ACCESS_TLV_CALLBACK
},

48 
	$·r£_acûss_v®ues
(
¢d_cÚfig_t
 *
cfg
,

49 
¢d_soc_lg_ùl_hdr
 *
hdr
)

51 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

52 
¢d_cÚfig_t
 *
n
;

53 cÚ¡ *
v®ue
 = 
NULL
;

54 
j
;

56 
	`lg_dbg
(" Access:\n");

58 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

59 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

62 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®ue
) < 0)

66 
j
 = 0; j < 
	`ARRAY_SIZE
(
ùl_acûss
); j++) {

67 ià(
	`¡rcmp
(
v®ue
, 
ùl_acûss
[
j
].
Çme
) == 0) {

68 
hdr
->
acûss
 |ğ
ùl_acûss
[
j
].
v®ue
;

69 
	`lg_dbg
("\t%s\n", 
v®ue
);

76 
	}
}

79 
	$·r£_acûss
(
¢d_cÚfig_t
 *
cfg
,

80 
¢d_soc_lg_ùl_hdr
 *
hdr
)

82 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

83 
¢d_cÚfig_t
 *
n
;

84 cÚ¡ *
id
;

85 
”r
 = 0;

87 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

89 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

90 ià(
	`¢d_cÚfig_g‘_id
(
n
, &
id
) < 0)

93 ià(
	`¡rcmp
(
id
, "access") == 0) {

94 
”r
 = 
	`·r£_acûss_v®ues
(
n
, 
hdr
);

95 ià(
”r
 < 0) {

96 
	`SNDERR
("error: failedo…arse‡ccess");

97  
”r
;

103  
”r
;

104 
	}
}

107 
	$cİy_v
(
lg_–em
 *
–em
, lg_–em *
»f
)

109 
¢d_soc_lg_mix”_cÚŒŞ
 *
mix”_ù¾
 = 
–em
->mixer_ctrl;

110 
¢d_soc_lg_ùl_v
 *
v
 = 
»f
->tlv;

112 
	`lg_dbg
("TLV '%s' u£d by '%s\n", 
»f
->
id
, 
–em
->id);

115 
mix”_ù¾
->
hdr
.
v
 = *tlv;

117 
	}
}

120 
	$lg_bud_mix”_cÚŒŞ
(
¢d_lg_t
 *
lg
,

121 
lg_–em
 *
–em
)

123 
lg_»f
 *
»f
;

124 
li¡_h—d
 *
ba£
, *
pos
;

125 
”r
 = 0;

127 
ba£
 = &
–em
->
»f_li¡
;

130 
	`li¡_fÜ_—ch
(
pos
, 
ba£
) {

132 
»f
 = 
	`li¡_’Œy
(
pos
, 
lg_»f
, 
li¡
);

133 ià(
»f
->
–em
)

136 ià(
»f
->
ty³
 =ğ
SND_TPLG_TYPE_TLV
) {

137 
»f
->
–em
 = 
	`lg_–em_lookup
(&
lg
->
v_li¡
,

138 
»f
->
id
, 
SND_TPLG_TYPE_TLV
, 
–em
->
šdex
);

139 ià(
»f
->
–em
)

140 
”r
 = 
	`cİy_v
(
–em
, 
»f
->elem);

142 } ià(
»f
->
ty³
 =ğ
SND_TPLG_TYPE_DATA
) {

143 
”r
 = 
	`lg_cİy_d©a
(
lg
, 
–em
, 
»f
);

144 ià(
”r
 < 0)

145  
”r
;

148 ià(!
»f
->
–em
) {

149 
	`SNDERR
("error: cannot find '%s'„eferenced by"

150 " cÚŒŞ '%s'\n", 
»f
->
id
, 
–em
->id);

151  -
EINVAL
;

152 } ià(
”r
 < 0)

153  
”r
;

157 
	}
}

159 
	$cİy_’um_‹xts
(
lg_–em
 *
’um_–em
,

160 
lg_–em
 *
»f_–em
)

162 
¢d_soc_lg_’um_cÚŒŞ
 *
ec
 = 
’um_–em
->
’um_ù¾
;

163 
lg_‹xts
 *
‹xts
 = 
»f_–em
->texts;

165 
	`memıy
(
ec
->
‹xts
,exts->
™ems
,

166 
SND_SOC_TPLG_NUM_TEXTS
 * 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

167 
ec
->
™ems
 +ğ
‹xts
->
num_™ems
;

168 
	}
}

171 
	$lg_bud_’um_cÚŒŞ
(
¢d_lg_t
 *
lg
,

172 
lg_–em
 *
–em
)

174 
lg_»f
 *
»f
;

175 
li¡_h—d
 *
ba£
, *
pos
;

176 
”r
;

178 
ba£
 = &
–em
->
»f_li¡
;

180 
	`li¡_fÜ_—ch
(
pos
, 
ba£
) {

182 
»f
 = 
	`li¡_’Œy
(
pos
, 
lg_»f
, 
li¡
);

183 ià(
»f
->
–em
)

186 ià(
»f
->
ty³
 =ğ
SND_TPLG_TYPE_TEXT
) {

187 
»f
->
–em
 = 
	`lg_–em_lookup
(&
lg
->
‹xt_li¡
,

188 
»f
->
id
, 
SND_TPLG_TYPE_TEXT
, 
–em
->
šdex
);

189 ià(
»f
->
–em
)

190 
	`cİy_’um_‹xts
(
–em
, 
»f
->elem);

192 } ià(
»f
->
ty³
 =ğ
SND_TPLG_TYPE_DATA
) {

193 
”r
 = 
	`lg_cİy_d©a
(
lg
, 
–em
, 
»f
);

194 ià(
”r
 < 0)

195  
”r
;

197 ià(!
»f
->
–em
) {

198 
	`SNDERR
("error: cannot find '%s'„eferenced by"

199 " cÚŒŞ '%s'\n", 
»f
->
id
, 
–em
->id);

200  -
EINVAL
;

205 
	}
}

208 
	$lg_bud_by‹s_cÚŒŞ
(
¢d_lg_t
 *
lg
, 
lg_–em
 *
–em
)

210 
lg_»f
 *
»f
;

211 
li¡_h—d
 *
ba£
, *
pos
;

212 
”r
;

214 
ba£
 = &
–em
->
»f_li¡
;

216 
	`li¡_fÜ_—ch
(
pos
, 
ba£
) {

218 
»f
 = 
	`li¡_’Œy
(
pos
, 
lg_»f
, 
li¡
);

219 ià(
»f
->
–em
)

222 ià(
»f
->
ty³
 =ğ
SND_TPLG_TYPE_DATA
) {

223 
”r
 = 
	`lg_cİy_d©a
(
lg
, 
–em
, 
»f
);

224 ià(
”r
 < 0)

225  
”r
;

230 
	}
}

232 
	$lg_bud_cÚŒŞs
(
¢d_lg_t
 *
lg
)

234 
li¡_h—d
 *
ba£
, *
pos
;

235 
lg_–em
 *
–em
;

236 
”r
 = 0;

238 
ba£
 = &
lg
->
mix”_li¡
;

239 
	`li¡_fÜ_—ch
(
pos
, 
ba£
) {

241 
–em
 = 
	`li¡_’Œy
(
pos
, 
lg_–em
, 
li¡
);

242 
”r
 = 
	`lg_bud_mix”_cÚŒŞ
(
lg
, 
–em
);

243 ià(
”r
 < 0)

244  
”r
;

247 
lg
->
mªiã¡
.
cÚŒŞ_–ems
++;

250 
ba£
 = &
lg
->
’um_li¡
;

251 
	`li¡_fÜ_—ch
(
pos
, 
ba£
) {

253 
–em
 = 
	`li¡_’Œy
(
pos
, 
lg_–em
, 
li¡
);

254 
”r
 = 
	`lg_bud_’um_cÚŒŞ
(
lg
, 
–em
);

255 ià(
”r
 < 0)

256  
”r
;

259 
lg
->
mªiã¡
.
cÚŒŞ_–ems
++;

262 
ba£
 = &
lg
->
by‹s_ext_li¡
;

263 
	`li¡_fÜ_—ch
(
pos
, 
ba£
) {

265 
–em
 = 
	`li¡_’Œy
(
pos
, 
lg_–em
, 
li¡
);

266 
”r
 = 
	`lg_bud_by‹s_cÚŒŞ
(
lg
, 
–em
);

267 ià(
”r
 < 0)

268  
”r
;

271 
lg
->
mªiã¡
.
cÚŒŞ_–ems
++;

275 
	}
}

283 
	$lg_·r£_v_dbsÿË
(
¢d_cÚfig_t
 *
cfg
, 
lg_–em
 *
–em
)

285 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

286 
¢d_cÚfig_t
 *
n
;

287 
¢d_soc_lg_ùl_v
 *
lg_v
;

288 
¢d_soc_lg_v_dbsÿË
 *
sÿË
;

289 cÚ¡ *
id
 = 
NULL
, *
v®ue
 = NULL;

291 
	`lg_dbg
(" sÿË: %s\n", 
–em
->
id
);

293 
lg_v
 = 
	`ÿÎoc
(1, (*tplg_tlv));

294 ià(!
lg_v
)

295  -
ENOMEM
;

297 
–em
->
v
 = 
lg_v
;

298 
lg_v
->
size
 = (
¢d_soc_lg_ùl_v
);

299 
lg_v
->
ty³
 = 
SNDRV_CTL_TLVT_DB_SCALE
;

300 
sÿË
 = &
lg_v
->scale;

302 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

304 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

307 ià(
	`¢d_cÚfig_g‘_id
(
n
, &
id
) < 0) {

308 
	`SNDERR
("error: cant get ID\n");

309  -
EINVAL
;

313 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®ue
) < 0)

316 
	`lg_dbg
("\t% ğ%s\n", 
id
, 
v®ue
);

319 ià(
	`¡rcmp
(
id
, "min") == 0)

320 
sÿË
->
mš
 = 
	`©oi
(
v®ue
);

321 ià(
	`¡rcmp
(
id
, "step") == 0)

322 
sÿË
->
¡•
 = 
	`©oi
(
v®ue
);

323 ià(
	`¡rcmp
(
id
, "mute") == 0)

324 
sÿË
->
mu‹
 = 
	`©oi
(
v®ue
);

326 
	`SNDERR
("”rÜ: unknowÀkey %s\n", 
id
);

330 
	}
}

333 
	$lg_·r£_v
(
¢d_lg_t
 *
lg
, 
¢d_cÚfig_t
 *
cfg
,

334 *
´iv©e
 
ATTRIBUTE_UNUSED
)

336 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

337 
¢d_cÚfig_t
 *
n
;

338 cÚ¡ *
id
;

339 
”r
 = 0;

340 
lg_–em
 *
–em
;

342 
–em
 = 
	`lg_–em_Ãw_commÚ
(
lg
, 
cfg
, 
NULL
, 
SND_TPLG_TYPE_TLV
);

343 ià(!
–em
)

344  -
ENOMEM
;

346 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

348 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

349 ià(
	`¢d_cÚfig_g‘_id
(
n
, &
id
) < 0)

352 ià(
	`¡rcmp
(
id
, "scale") == 0) {

353 
”r
 = 
	`lg_·r£_v_dbsÿË
(
n
, 
–em
);

354 ià(
”r
 < 0) {

355 
	`SNDERR
("error: failedo DBScale");

356  
”r
;

362  
”r
;

363 
	}
}

365 
	$·r£_’um_‹xt_»fs
(
¢d_lg_t
 *
lg
 
ATTRIBUTE_UNUSED
,

366 
¢d_cÚfig_t
 *
cfg
,

367 
lg_–em
 *
–em
)

369 
¢d_soc_lg_’um_cÚŒŞ
 *
ec
 = 
–em
->
’um_ù¾
;

370 
¢d_cÚfig_ty³_t
 
ty³
;

371 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

372 
¢d_cÚfig_t
 *
n
;

373 cÚ¡ *
id
;

375 ià(
	`¢d_cÚfig_g‘_id
(
cfg
, &
id
) < 0)

376  -
EINVAL
;

377 
ty³
 = 
	`¢d_cÚfig_g‘_ty³
(
cfg
);

379 ià(
ty³
 !ğ
SND_CONFIG_TYPE_COMPOUND
) {

380 
	`SNDERR
("”rÜ: compoundy³ƒx³ùed fÜ %s", 
id
);

381  -
EINVAL
;

385 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

386 cÚ¡ *
v®
;

387 
”r
;

389 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

390 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

393 ià(
ec
->
™ems
 >ğ
SND_SOC_TPLG_NUM_TEXTS
) {

394 
	`SNDERR
("”rÜ:ƒxûed max hw cÚfig fÜ†šk %s", 
id
);

395  -
EINVAL
;

398 
ec
->
™ems
++;

399 
”r
 = 
	`lg_»f_add
(
–em
, 
SND_TPLG_TYPE_TEXT
, 
v®
);

400 ià(
”r
 < 0)

401  
”r
;

403 
	`lg_dbg
("\t%s: %s\n", 
id
, 
v®
);

407 
	}
}

410 
	$lg_·r£_cÚŒŞ_by‹s
(
¢d_lg_t
 *
lg
,

411 
¢d_cÚfig_t
 *
cfg
, *
´iv©e
 
ATTRIBUTE_UNUSED
)

413 
¢d_soc_lg_by‹s_cÚŒŞ
 *
be
;

414 
lg_–em
 *
–em
;

415 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

416 
¢d_cÚfig_t
 *
n
;

417 cÚ¡ *
id
, *
v®
 = 
NULL
;

418 
”r
;

419 
boŞ
 
acûss_£t
 = 
çl£
, 
v_£t
 = false;

421 
–em
 = 
	`lg_–em_Ãw_commÚ
(
lg
, 
cfg
, 
NULL
, 
SND_TPLG_TYPE_BYTES
);

422 ià(!
–em
)

423  -
ENOMEM
;

425 
be
 = 
–em
->
by‹s_ext
;

426 
be
->
size
 = 
–em
->size;

427 
	`–em_cİy_‹xt
(
be
->
hdr
.
Çme
, 
–em
->
id
, 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

428 
be
->
hdr
.
ty³
 = 
SND_SOC_TPLG_TYPE_BYTES
;

430 
	`lg_dbg
(" CÚŒŞ By‹s: %s\n", 
–em
->
id
);

432 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

433 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

434 ià(
	`¢d_cÚfig_g‘_id
(
n
, &
id
) < 0)

438 ià(
	`¡rcmp
(
id
, "comment") == 0)

440 ià(
id
[0] == '#')

443 ià(
	`¡rcmp
(
id
, "base") == 0) {

444 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

445  -
EINVAL
;

447 
be
->
ba£
 = 
	`©oi
(
v®
);

448 
	`lg_dbg
("\t%s: %d\n", 
id
, 
be
->
ba£
);

452 ià(
	`¡rcmp
(
id
, "num_regs") == 0) {

453 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

454  -
EINVAL
;

456 
be
->
num_»gs
 = 
	`©oi
(
v®
);

457 
	`lg_dbg
("\t%s: %d\n", 
id
, 
be
->
num_»gs
);

461 ià(
	`¡rcmp
(
id
, "max") == 0) {

462 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

463  -
EINVAL
;

465 
be
->
max
 = 
	`©oi
(
v®
);

466 
	`lg_dbg
("\t%s: %d\n", 
id
, 
be
->
max
);

470 ià(
	`¡rcmp
(
id
, "mask") == 0) {

471 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

472  -
EINVAL
;

474 
be
->
mask
 = 
	`¡¹Ş
(
v®
, 
NULL
, 16);

475 
	`lg_dbg
("\t%s: %d\n", 
id
, 
be
->
mask
);

479 ià(
	`¡rcmp
(
id
, "data") == 0) {

480 
”r
 = 
	`lg_·r£_d©a_»fs
(
n
, 
–em
);

481 ià(
”r
 < 0)

482  
”r
;

486 ià(
	`¡rcmp
(
id
, "tlv") == 0) {

487 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

488  -
EINVAL
;

490 
”r
 = 
	`lg_»f_add
(
–em
, 
SND_TPLG_TYPE_TLV
, 
v®
);

491 ià(
”r
 < 0)

492  
”r
;

494 
v_£t
 = 
Œue
;

495 
	`lg_dbg
("\t%s: %s\n", 
id
, 
v®
);

499 ià(
	`¡rcmp
(
id
, "ops") == 0) {

500 
”r
 = 
	`lg_·r£_compound
(
lg
, 
n
, 
lg_·r£_İs
,

501 &
be
->
hdr
);

502 ià(
”r
 < 0)

503  
”r
;

507 ià(
	`¡rcmp
(
id
, "extops") == 0) {

508 
”r
 = 
	`lg_·r£_compound
(
lg
, 
n
, 
lg_·r£_ext_İs
,

509 
be
);

510 ià(
”r
 < 0)

511  
”r
;

515 ià(
	`¡rcmp
(
id
, "access") == 0) {

516 
”r
 = 
	`·r£_acûss
(
cfg
, &
be
->
hdr
);

517 ià(
”r
 < 0)

518  
”r
;

519 
acûss_£t
 = 
Œue
;

525 ià(!
acûss_£t
) {

527 
be
->
hdr
.
acûss
 = 
SNDRV_CTL_ELEM_ACCESS_READWRITE
;

528 ià(
v_£t
)

529 
be
->
hdr
.
acûss
 |ğ
SNDRV_CTL_ELEM_ACCESS_TLV_READ
;

533 
	}
}

536 
	$lg_·r£_cÚŒŞ_’um
(
¢d_lg_t
 *
lg
, 
¢d_cÚfig_t
 *
cfg
,

537 *
´iv©e
 
ATTRIBUTE_UNUSED
)

539 
¢d_soc_lg_’um_cÚŒŞ
 *
ec
;

540 
lg_–em
 *
–em
;

541 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

542 
¢d_cÚfig_t
 *
n
;

543 cÚ¡ *
id
;

544 
”r
, 
j
;

545 
boŞ
 
acûss_£t
 = 
çl£
;

547 
–em
 = 
	`lg_–em_Ãw_commÚ
(
lg
, 
cfg
, 
NULL
, 
SND_TPLG_TYPE_ENUM
);

548 ià(!
–em
)

549  -
ENOMEM
;

551 
ec
 = 
–em
->
’um_ù¾
;

552 
	`–em_cİy_‹xt
(
ec
->
hdr
.
Çme
, 
–em
->
id
, 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

553 
ec
->
hdr
.
ty³
 = 
SND_SOC_TPLG_TYPE_ENUM
;

554 
ec
->
size
 = 
–em
->size;

555 
lg
->
chªÃl_idx
 = 0;

558 
j
 = 0; j < 
SND_SOC_TPLG_MAX_CHAN
; j++)

559 
ec
->
chªÃl
[
j
].
»g
 = -1;

561 
	`lg_dbg
(" CÚŒŞ Enum: %s\n", 
–em
->
id
);

563 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

565 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

566 ià(
	`¢d_cÚfig_g‘_id
(
n
, &
id
) < 0)

570 ià(
	`¡rcmp
(
id
, "comment") == 0)

572 ià(
id
[0] == '#')

575 ià(
	`¡rcmp
(
id
, "texts") == 0) {

576 
”r
 = 
	`·r£_’um_‹xt_»fs
(
lg
, 
n
, 
–em
);

577 ià(
”r
 < 0)

578  
”r
;

582 ià(
	`¡rcmp
(
id
, "channel") == 0) {

583 ià(
ec
->
num_chªÃls
 >ğ
SND_SOC_TPLG_MAX_CHAN
) {

584 
	`SNDERR
("error:oo many channels %s\n",

585 
–em
->
id
);

586  -
EINVAL
;

589 
”r
 = 
	`lg_·r£_compound
(
lg
, 
n
, 
lg_·r£_chªÃl
,

590 
ec
->
chªÃl
);

591 ià(
”r
 < 0)

592  
”r
;

594 
ec
->
num_chªÃls
 = 
lg
->
chªÃl_idx
;

598 ià(
	`¡rcmp
(
id
, "ops") == 0) {

599 
”r
 = 
	`lg_·r£_compound
(
lg
, 
n
, 
lg_·r£_İs
,

600 &
ec
->
hdr
);

601 ià(
”r
 < 0)

602  
”r
;

606 ià(
	`¡rcmp
(
id
, "data") == 0) {

607 
”r
 = 
	`lg_·r£_d©a_»fs
(
n
, 
–em
);

608 ià(
”r
 < 0)

609  
”r
;

613 ià(
	`¡rcmp
(
id
, "access") == 0) {

614 
”r
 = 
	`·r£_acûss
(
cfg
, &
ec
->
hdr
);

615 ià(
”r
 < 0)

616  
”r
;

617 
acûss_£t
 = 
Œue
;

623 ià(!
acûss_£t
) {

624 
ec
->
hdr
.
acûss
 = 
SNDRV_CTL_ELEM_ACCESS_READWRITE
;

628 
	}
}

634 
	$lg_·r£_cÚŒŞ_mix”
(
¢d_lg_t
 *
lg
,

635 
¢d_cÚfig_t
 *
cfg
, *
´iv©e
 
ATTRIBUTE_UNUSED
)

637 
¢d_soc_lg_mix”_cÚŒŞ
 *
mc
;

638 
lg_–em
 *
–em
;

639 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

640 
¢d_cÚfig_t
 *
n
;

641 cÚ¡ *
id
, *
v®
 = 
NULL
;

642 
”r
, 
j
;

643 
boŞ
 
acûss_£t
 = 
çl£
, 
v_£t
 = false;

645 
–em
 = 
	`lg_–em_Ãw_commÚ
(
lg
, 
cfg
, 
NULL
, 
SND_TPLG_TYPE_MIXER
);

646 ià(!
–em
)

647  -
ENOMEM
;

650 
mc
 = 
–em
->
mix”_ù¾
;

651 
	`–em_cİy_‹xt
(
mc
->
hdr
.
Çme
, 
–em
->
id
, 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

652 
mc
->
hdr
.
ty³
 = 
SND_SOC_TPLG_TYPE_MIXER
;

653 
mc
->
size
 = 
–em
->size;

654 
lg
->
chªÃl_idx
 = 0;

657 
j
 = 0; j < 
SND_SOC_TPLG_MAX_CHAN
; j++)

658 
mc
->
chªÃl
[
j
].
»g
 = -1;

660 
	`lg_dbg
(" CÚŒŞ Mix”: %s\n", 
–em
->
id
);

663 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

664 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

665 ià(
	`¢d_cÚfig_g‘_id
(
n
, &
id
) < 0)

669 ià(
	`¡rcmp
(
id
, "comment") == 0)

671 ià(
id
[0] == '#')

674 ià(
	`¡rcmp
(
id
, "channel") == 0) {

675 ià(
mc
->
num_chªÃls
 >ğ
SND_SOC_TPLG_MAX_CHAN
) {

676 
	`SNDERR
("error:oo many channels %s\n",

677 
–em
->
id
);

678  -
EINVAL
;

681 
”r
 = 
	`lg_·r£_compound
(
lg
, 
n
, 
lg_·r£_chªÃl
,

682 
mc
->
chªÃl
);

683 ià(
”r
 < 0)

684  
”r
;

686 
mc
->
num_chªÃls
 = 
lg
->
chªÃl_idx
;

690 ià(
	`¡rcmp
(
id
, "max") == 0) {

691 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

692  -
EINVAL
;

694 
mc
->
max
 = 
	`©oi
(
v®
);

695 
	`lg_dbg
("\t%s: %d\n", 
id
, 
mc
->
max
);

699 ià(
	`¡rcmp
(
id
, "invert") == 0) {

700 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

701  -
EINVAL
;

703 ià(
	`¡rcmp
(
v®
, "true") == 0)

704 
mc
->
šv”t
 = 1;

705 ià(
	`¡rcmp
(
v®
, "false") == 0)

706 
mc
->
šv”t
 = 0;

708 
	`lg_dbg
("\t%s: %d\n", 
id
, 
mc
->
šv”t
);

712 ià(
	`¡rcmp
(
id
, "ops") == 0) {

713 
”r
 = 
	`lg_·r£_compound
(
lg
, 
n
, 
lg_·r£_İs
,

714 &
mc
->
hdr
);

715 ià(
”r
 < 0)

716  
”r
;

720 ià(
	`¡rcmp
(
id
, "tlv") == 0) {

721 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

722  -
EINVAL
;

724 
”r
 = 
	`lg_»f_add
(
–em
, 
SND_TPLG_TYPE_TLV
, 
v®
);

725 ià(
”r
 < 0)

726  
”r
;

728 
v_£t
 = 
Œue
;

729 
	`lg_dbg
("\t%s: %s\n", 
id
, 
v®
);

733 ià(
	`¡rcmp
(
id
, "data") == 0) {

734 
”r
 = 
	`lg_·r£_d©a_»fs
(
n
, 
–em
);

735 ià(
”r
 < 0)

736  
”r
;

740 ià(
	`¡rcmp
(
id
, "access") == 0) {

741 
”r
 = 
	`·r£_acûss
(
cfg
, &
mc
->
hdr
);

742 ià(
”r
 < 0)

743  
”r
;

744 
acûss_£t
 = 
Œue
;

750 ià(!
acûss_£t
) {

752 
mc
->
hdr
.
acûss
 = 
SNDRV_CTL_ELEM_ACCESS_READWRITE
;

753 ià(
v_£t
)

754 
mc
->
hdr
.
acûss
 |ğ
SNDRV_CTL_ELEM_ACCESS_TLV_READ
;

758 
	}
}

760 
	$š™_ùl_hdr
(
¢d_soc_lg_ùl_hdr
 *
hdr
,

761 
¢d_lg_ùl_‹m¶©e
 *
t
)

763 
hdr
->
size
 = (
¢d_soc_lg_ùl_hdr
);

764 
hdr
->
ty³
 = 
t
->type;

766 
	`–em_cİy_‹xt
(
hdr
->
Çme
, 
t
->name,

767 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

770 ià(
t
->
acûss
 == 0)

771 
t
->
acûss
 = 
SNDRV_CTL_ELEM_ACCESS_READWRITE
;

772 
t
->
acûss
 &ğ(
SNDRV_CTL_ELEM_ACCESS_READWRITE
 |

773 
SNDRV_CTL_ELEM_ACCESS_VOLATILE
 |

774 
SNDRV_CTL_ELEM_ACCESS_INACTIVE
 |

775 
SNDRV_CTL_ELEM_ACCESS_TLV_READWRITE
 |

776 
SNDRV_CTL_ELEM_ACCESS_TLV_COMMAND
 |

777 
SNDRV_CTL_ELEM_ACCESS_TLV_CALLBACK
);

779 
hdr
->
acûss
 = 
t
->access;

780 
hdr
->
İs
.
g‘
 = 
t
->ops.get;

781 
hdr
->
İs
.
put
 = 
t
->ops.put;

782 
hdr
->
İs
.
šfo
 = 
t
->ops.info;

785 ià(
hdr
->
acûss
 & 
SNDRV_CTL_ELEM_ACCESS_TLV_READWRITE


786 && !(
hdr
->
acûss
 & 
SNDRV_CTL_ELEM_ACCESS_TLV_CALLBACK
)) {

788 
¢d_lg_v_‹m¶©e
 *
vt
 = 
t
->
v
;

789 
¢d_soc_lg_ùl_v
 *
v
 = &
hdr
->tlv;

790 
¢d_lg_v_dbsÿË_‹m¶©e
 *
sÿËt
;

791 
¢d_soc_lg_v_dbsÿË
 *
sÿË
;

793 ià(!
vt
) {

794 
	`SNDERR
("error: missing TLV data\n");

795  -
EINVAL
;

798 
v
->
size
 = (
¢d_soc_lg_ùl_v
);

799 
v
->
ty³
 = 
vt
->type;

801 
vt
->
ty³
) {

802 
SNDRV_CTL_TLVT_DB_SCALE
:

803 
sÿËt
 = 
	`cÚš”_of
(
vt
,

804 
¢d_lg_v_dbsÿË_‹m¶©e
, 
hdr
);

805 
sÿË
 = &
v
->scale;

806 
sÿË
->
mš
 = 
sÿËt
->min;

807 
sÿË
->
¡•
 = 
sÿËt
->step;

808 
sÿË
->
mu‹
 = 
sÿËt
->mute;

813 
	`SNDERR
("”rÜ: unsuµÜ‹d TLVy³ %d\n", 
v
->
ty³
);

819 
	}
}

821 
	$lg_add_mix”
(
¢d_lg_t
 *
lg
, 
¢d_lg_mix”_‹m¶©e
 *
mix”
,

822 
lg_–em
 **
e
)

824 
¢d_soc_lg_´iv©e
 *
´iv
 = 
mix”
->priv;

825 
¢d_soc_lg_mix”_cÚŒŞ
 *
mc
;

826 
lg_–em
 *
–em
;

827 
»t
, 
i
, 
num_chªÃls
;

829 
	`lg_dbg
(" CÚŒŞ Mix”: %s\n", 
mix”
->
hdr
.
Çme
);

831 ià(
mix”
->
hdr
.
ty³
 !ğ
SND_SOC_TPLG_TYPE_MIXER
) {

832 
	`SNDERR
("”rÜ: inv®id mix”y³ %d\n", 
mix”
->
hdr
.
ty³
);

833  -
EINVAL
;

836 
–em
 = 
	`lg_–em_Ãw_commÚ
(
lg
, 
NULL
, 
mix”
->
hdr
.
Çme
,

837 
SND_TPLG_TYPE_MIXER
);

838 ià(!
–em
)

839  -
ENOMEM
;

842 
mc
 = 
–em
->
mix”_ù¾
;

843 
mc
->
size
 = 
–em
->size;

844 
»t
 = 
	`š™_ùl_hdr
(&
mc
->
hdr
, &
mix”
->hdr);

845 ià(
»t
 < 0) {

846 
	`lg_–em_ä“
(
–em
);

847  
»t
;

850 
mc
->
mš
 = 
mix”
->min;

851 
mc
->
max
 = 
mix”
->max;

852 
mc
->
¶©fÜm_max
 = 
mix”
->platform_max;

853 
mc
->
šv”t
 = 
mix”
->invert;

856 
i
 = 0; i < 
SND_SOC_TPLG_MAX_CHAN
; i++)

857 
mc
->
chªÃl
[
i
].
»g
 = -1;

859 
num_chªÃls
 = 
mix”
->
m­
 ? mixer->map->num_channels : 0;

860 
mc
->
num_chªÃls
 =‚um_channels;

862 
i
 = 0; i < 
num_chªÃls
; i++) {

863 
¢d_lg_chªÃl_–em
 *
chªÃl
 = &
mix”
->
m­
->chªÃl[
i
];

865 
mc
->
chªÃl
[
i
].
size
 = channel->size;

866 
mc
->
chªÃl
[
i
].
»g
 = channel->reg;

867 
mc
->
chªÃl
[
i
].
shiá
 = channel->shift;

868 
mc
->
chªÃl
[
i
].
id
 = channel->id;

872 ià(
´iv
) {

873 
mc
 = 
	`»®loc
(mc, 
–em
->
size
 + 
´iv
->size);

874 ià(!
mc
) {

875 
	`lg_–em_ä“
(
–em
);

876  -
ENOMEM
;

879 
–em
->
mix”_ù¾
 = 
mc
;

880 
–em
->
size
 +ğ
´iv
->size;

881 
mc
->
´iv
.
size
 =…riv->size;

882 
	`memıy
(
mc
->
´iv
.
d©a
,…riv->d©a,…riv->
size
);

885 ià(
e
)

886 *
e
 = 
–em
;

888 
	}
}

890 
	$lg_add_’um
(
¢d_lg_t
 *
lg
, 
¢d_lg_’um_‹m¶©e
 *
’um_ùl
,

891 
lg_–em
 **
e
)

893 
¢d_soc_lg_’um_cÚŒŞ
 *
ec
;

894 
lg_–em
 *
–em
;

895 
»t
, 
i
, 
num_™ems
;

897 
	`lg_dbg
(" CÚŒŞ Enum: %s\n", 
’um_ùl
->
hdr
.
Çme
);

899 ià(
’um_ùl
->
hdr
.
ty³
 !ğ
SND_SOC_TPLG_TYPE_ENUM
) {

900 
	`SNDERR
("”rÜ: inv®idƒnumy³ %d\n", 
’um_ùl
->
hdr
.
ty³
);

901  -
EINVAL
;

904 
–em
 = 
	`lg_–em_Ãw_commÚ
(
lg
, 
NULL
, 
’um_ùl
->
hdr
.
Çme
,

905 
SND_TPLG_TYPE_ENUM
);

906 ià(!
–em
)

907  -
ENOMEM
;

909 
ec
 = 
–em
->
’um_ù¾
;

910 
ec
->
size
 = 
–em
->size;

911 
»t
 = 
	`š™_ùl_hdr
(&
ec
->
hdr
, &
’um_ùl
->hdr);

912 ià(
»t
 < 0) {

913 
	`lg_–em_ä“
(
–em
);

914  
»t
;

917 
num_™ems
 = 
’um_ùl
->
™ems
 < 
SND_SOC_TPLG_NUM_TEXTS
 ?

918 
’um_ùl
->
™ems
 : 
SND_SOC_TPLG_NUM_TEXTS
;

919 
ec
->
™ems
 = 
num_™ems
;

920 
ec
->
mask
 = 
’um_ùl
->mask;

921 
ec
->
couÁ
 = 
’um_ùl
->
™ems
;

923 ià(
’um_ùl
->
‹xts
 !ğ
NULL
) {

924 
i
 = 0; i < 
num_™ems
; i++) {

925 ià(
’um_ùl
->
‹xts
[
i
] !ğ
NULL
)

926 
	`¡ºıy
(
ec
->
‹xts
[
i
], 
’um_ùl
->texts[i],

927 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

931 ià(
’um_ùl
->
v®ues
 !ğ
NULL
) {

932 
i
 = 0; i < 
num_™ems
; i++) {

933 ià(
’um_ùl
->
v®ues
[
i
] =ğ
NULL
)

936 
	`memıy
(&
ec
->
v®ues
[
i
 * (è* 
ENUM_VAL_SIZE
],

937 
’um_ùl
->
v®ues
[
i
],

938 (è* 
ENUM_VAL_SIZE
);

942 ià(
’um_ùl
->
´iv
 !ğ
NULL
) {

943 
ec
 = 
	`»®loc
(ec,

944 
–em
->
size
 + 
’um_ùl
->
´iv
->size);

945 ià(!
ec
) {

946 
	`lg_–em_ä“
(
–em
);

947  -
ENOMEM
;

950 
–em
->
’um_ù¾
 = 
ec
;

951 
–em
->
size
 +ğ
’um_ùl
->
´iv
->size;

953 
	`memıy
(
ec
->
´iv
.
d©a
, 
’um_ùl
->priv->data,

954 
’um_ùl
->
´iv
->
size
);

956 
ec
->
´iv
.
size
 = 
’um_ùl
->priv->size;

959 ià(
e
)

960 *
e
 = 
–em
;

962 
	}
}

964 
	$lg_add_by‹s
(
¢d_lg_t
 *
lg
, 
¢d_lg_by‹s_‹m¶©e
 *
by‹s_ùl
,

965 
lg_–em
 **
e
)

967 
¢d_soc_lg_by‹s_cÚŒŞ
 *
be
;

968 
lg_–em
 *
–em
;

969 
»t
;

971 
	`lg_dbg
(" CÚŒŞ By‹s: %s\n", 
by‹s_ùl
->
hdr
.
Çme
);

973 ià(
by‹s_ùl
->
hdr
.
ty³
 !ğ
SND_SOC_TPLG_TYPE_BYTES
) {

974 
	`SNDERR
("”rÜ: inv®id by‹ ty³ %d\n", 
by‹s_ùl
->
hdr
.
ty³
);

975  -
EINVAL
;

978 
–em
 = 
	`lg_–em_Ãw_commÚ
(
lg
, 
NULL
, 
by‹s_ùl
->
hdr
.
Çme
,

979 
SND_TPLG_TYPE_BYTES
);

980 ià(!
–em
)

981  -
ENOMEM
;

983 
be
 = 
–em
->
by‹s_ext
;

984 
be
->
size
 = 
–em
->size;

985 
»t
 = 
	`š™_ùl_hdr
(&
be
->
hdr
, &
by‹s_ùl
->hdr);

986 ià(
»t
 < 0) {

987 
	`lg_–em_ä“
(
–em
);

988  
»t
;

991 
be
->
max
 = 
by‹s_ùl
->max;

992 
be
->
mask
 = 
by‹s_ùl
->mask;

993 
be
->
ba£
 = 
by‹s_ùl
->base;

994 
be
->
num_»gs
 = 
by‹s_ùl
->num_regs;

995 
be
->
ext_İs
.
put
 = 
by‹s_ùl
->ext_ops.put;

996 
be
->
ext_İs
.
g‘
 = 
by‹s_ùl
->ext_ops.get;

998 ià(
by‹s_ùl
->
´iv
 !ğ
NULL
) {

999 
be
 = 
	`»®loc
(be,

1000 
–em
->
size
 + 
by‹s_ùl
->
´iv
->size);

1001 ià(!
be
) {

1002 
	`lg_–em_ä“
(
–em
);

1003  -
ENOMEM
;

1005 
–em
->
by‹s_ext
 = 
be
;

1006 
–em
->
size
 +ğ
by‹s_ùl
->
´iv
->size;

1008 
	`memıy
(
be
->
´iv
.
d©a
, 
by‹s_ùl
->priv->data,

1009 
by‹s_ùl
->
´iv
->
size
);

1011 
be
->
´iv
.
size
 = 
by‹s_ùl
->priv->size;

1015 ià(
be
->
hdr
.
acûss
 & 
SNDRV_CTL_ELEM_ACCESS_TLV_CALLBACK
) {

1016 ià((
be
->
hdr
.
acûss
 & 
SNDRV_CTL_ELEM_ACCESS_TLV_READWRITE
)

1017 !ğ
SNDRV_CTL_ELEM_ACCESS_TLV_READWRITE
) {

1018 
	`SNDERR
("error: Invalid TLV bytes control‡ccess 0x%x\n",

1019 
be
->
hdr
.
acûss
);

1020 
	`lg_–em_ä“
(
–em
);

1021  -
EINVAL
;

1024 ià(!
be
->
max
) {

1025 
	`lg_–em_ä“
(
–em
);

1026  -
EINVAL
;

1030 ià(
e
)

1031 *
e
 = 
–em
;

1033 
	}
}

1035 
	$lg_add_mix”_objeù
(
¢d_lg_t
 *
lg
, 
¢d_lg_obj_‹m¶©e_t
 *
t
)

1037  
	`lg_add_mix”
(
lg
, 
t
->
mix”
, 
NULL
);

1038 
	}
}

1040 
	$lg_add_’um_objeù
(
¢d_lg_t
 *
lg
, 
¢d_lg_obj_‹m¶©e_t
 *
t
)

1042  
	`lg_add_’um
(
lg
, 
t
->
’um_ùl
, 
NULL
);

1043 
	}
}

1045 
	$lg_add_by‹s_objeù
(
¢d_lg_t
 *
lg
, 
¢d_lg_obj_‹m¶©e_t
 *
t
)

1047  
	`lg_add_by‹s
(
lg
, 
t
->
by‹s_ùl
, 
NULL
);

1048 
	}
}

	@dapm.c

20 
	~"li¡.h
"

21 
	~"lg_loÿl.h
"

24 cÚ¡ 
m­_–em
 
	gwidg‘_m­
[] = {

25 {"šput", 
SND_SOC_TPLG_DAPM_INPUT
},

26 {"ouut", 
SND_SOC_TPLG_DAPM_OUTPUT
},

27 {"mux", 
SND_SOC_TPLG_DAPM_MUX
},

28 {"mix”", 
SND_SOC_TPLG_DAPM_MIXER
},

29 {"pga", 
SND_SOC_TPLG_DAPM_PGA
},

30 {"out_drv", 
SND_SOC_TPLG_DAPM_OUT_DRV
},

31 {"adc", 
SND_SOC_TPLG_DAPM_ADC
},

32 {"dac", 
SND_SOC_TPLG_DAPM_DAC
},

33 {"sw™ch", 
SND_SOC_TPLG_DAPM_SWITCH
},

34 {"´e", 
SND_SOC_TPLG_DAPM_PRE
},

35 {"po¡", 
SND_SOC_TPLG_DAPM_POST
},

36 {"aif_š", 
SND_SOC_TPLG_DAPM_AIF_IN
},

37 {"aif_out", 
SND_SOC_TPLG_DAPM_AIF_OUT
},

38 {"dai_š", 
SND_SOC_TPLG_DAPM_DAI_IN
},

39 {"dai_out", 
SND_SOC_TPLG_DAPM_DAI_OUT
},

40 {"dai_lšk", 
SND_SOC_TPLG_DAPM_DAI_LINK
},

41 {"bufãr", 
SND_SOC_TPLG_DAPM_BUFFER
},

42 {"scheduËr", 
SND_SOC_TPLG_DAPM_SCHEDULER
},

43 {"efãù", 
SND_SOC_TPLG_DAPM_EFFECT
},

44 {"sigg’", 
SND_SOC_TPLG_DAPM_SIGGEN
},

45 {"sigg’", 
SND_SOC_TPLG_DAPM_SINK
},

46 {"¤c", 
SND_SOC_TPLG_DAPM_SRC
},

47 {"a¤c", 
SND_SOC_TPLG_DAPM_ASRC
},

48 {"’cod”", 
SND_SOC_TPLG_DAPM_ENCODER
},

49 {"decod”", 
SND_SOC_TPLG_DAPM_DECODER
},

52 
	$lookup_widg‘
(cÚ¡ *
w
)

54 
i
;

56 
i
 = 0; i < 
	`ARRAY_SIZE
(
widg‘_m­
); i++) {

57 ià(
	`¡rcmp
(
widg‘_m­
[
i
].
Çme
, 
w
) == 0)

58  
widg‘_m­
[
i
].
id
;

61  -
EINVAL
;

62 
	}
}

64 
	$lg_·r£_d­m_mix”s
(
¢d_cÚfig_t
 *
cfg
, 
lg_–em
 *
–em
)

66 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

67 
¢d_cÚfig_t
 *
n
;

68 cÚ¡ *
v®ue
 = 
NULL
;

70 
	`lg_dbg
(" DAPM Mix” CÚŒŞs: %s\n", 
–em
->
id
);

72 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

73 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

76 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®ue
) < 0)

79 
	`lg_»f_add
(
–em
, 
SND_TPLG_TYPE_MIXER
, 
v®ue
);

80 
	`lg_dbg
("\t\ˆ%s\n", 
v®ue
);

84 
	}
}

86 
	$lg_·r£_d­m_’ums
(
¢d_cÚfig_t
 *
cfg
, 
lg_–em
 *
–em
)

88 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

89 
¢d_cÚfig_t
 *
n
;

90 cÚ¡ *
v®ue
 = 
NULL
;

92 
	`lg_dbg
(" DAPM Enum CÚŒŞs: %s\n", 
–em
->
id
);

94 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

95 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

98 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®ue
) < 0)

101 
	`lg_»f_add
(
–em
, 
SND_TPLG_TYPE_ENUM
, 
v®ue
);

102 
	`lg_dbg
("\t\ˆ%s\n", 
v®ue
);

106 
	}
}

108 
	$lg_·r£_d­m_by‹s
(
¢d_cÚfig_t
 *
cfg
, 
lg_–em
 *
–em
)

110 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

111 
¢d_cÚfig_t
 *
n
;

112 cÚ¡ *
v®ue
 = 
NULL
;

114 
	`lg_dbg
(" DAPM By‹ CÚŒŞs: %s\n", 
–em
->
id
);

116 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

117 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

120 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®ue
) < 0)

123 
	`lg_»f_add
(
–em
, 
SND_TPLG_TYPE_BYTES
, 
v®ue
);

124 
	`lg_dbg
("\t\ˆ%s\n", 
v®ue
);

128 
	}
}

131 
	$cİy_d­m_cÚŒŞ
(
lg_–em
 *
–em
, lg_–em *
»f
)

133 
¢d_soc_lg_d­m_widg‘
 *
widg‘
 = 
–em
->widget;

135 
	`lg_dbg
("CÚŒŞ '%s' u£d by '%s'\n", 
»f
->
id
, 
–em
->id);

136 
	`lg_dbg
("\tparent size: %d + %d -> %d,…riv size -> %d\n",

137 
–em
->
size
, 
»f
->size,ƒlem->size +„ef->size,

138 
widg‘
->
´iv
.
size
);

140 
widg‘
 = 
	`»®loc
(widg‘, 
–em
->
size
 + 
»f
->size);

141 ià(!
widg‘
)

142  -
ENOMEM
;

144 
–em
->
widg‘
 = widget;

147 
	`memıy
((*)
widg‘
 + 
–em
->
size
, 
»f
->
obj
,„ef->size);

148 
–em
->
size
 +ğ
»f
->size;

150 
widg‘
->
num_kcÚŒŞs
++;

151 
»f
->
compound_–em
 = 1;

153 
	}
}

156 
	$lg_bud_widg‘
(
¢d_lg_t
 *
lg
,

157 
lg_–em
 *
–em
)

159 
lg_»f
 *
»f
;

160 
li¡_h—d
 *
ba£
, *
pos
;

161 
”r
 = 0;

163 
ba£
 = &
–em
->
»f_li¡
;

168 
	`li¡_fÜ_—ch
(
pos
, 
ba£
) {

169 
»f
 = 
	`li¡_’Œy
(
pos
, 
lg_»f
, 
li¡
);

171 ià(
»f
->
ty³
 !ğ
SND_TPLG_TYPE_DATA
)

174 
”r
 = 
	`lg_cİy_d©a
(
lg
, 
–em
, 
»f
);

175 ià(
”r
 < 0)

176  
”r
;

180 
	`li¡_fÜ_—ch
(
pos
, 
ba£
) {

182 
»f
 = 
	`li¡_’Œy
(
pos
, 
lg_»f
, 
li¡
);

184 
»f
->
ty³
) {

185 
SND_TPLG_TYPE_MIXER
:

186 ià(!
»f
->
–em
)

187 
»f
->
–em
 = 
	`lg_–em_lookup
(&
lg
->
mix”_li¡
,

188 
»f
->
id
, 
SND_TPLG_TYPE_MIXER
, 
–em
->
šdex
);

189 ià(
»f
->
–em
)

190 
”r
 = 
	`cİy_d­m_cÚŒŞ
(
–em
, 
»f
->elem);

193 
SND_TPLG_TYPE_ENUM
:

194 ià(!
»f
->
–em
)

195 
»f
->
–em
 = 
	`lg_–em_lookup
(&
lg
->
’um_li¡
,

196 
»f
->
id
, 
SND_TPLG_TYPE_ENUM
, 
–em
->
šdex
);

197 ià(
»f
->
–em
)

198 
”r
 = 
	`cİy_d­m_cÚŒŞ
(
–em
, 
»f
->elem);

201 
SND_TPLG_TYPE_BYTES
:

202 ià(!
»f
->
–em
)

203 
»f
->
–em
 = 
	`lg_–em_lookup
(&
lg
->
by‹s_ext_li¡
,

204 
»f
->
id
, 
SND_TPLG_TYPE_BYTES
, 
–em
->
šdex
);

205 ià(
»f
->
–em
)

206 
”r
 = 
	`cİy_d­m_cÚŒŞ
(
–em
, 
»f
->elem);

213 ià(!
»f
->
–em
) {

214 
	`SNDERR
("error: cannot find '%s'"

216 
»f
->
id
, 
–em
->id);

217  -
EINVAL
;

220 ià(
”r
 < 0)

221  
”r
;

225 
	}
}

227 
	$lg_bud_widg‘s
(
¢d_lg_t
 *
lg
)

230 
li¡_h—d
 *
ba£
, *
pos
;

231 
lg_–em
 *
–em
;

232 
”r
;

234 
ba£
 = &
lg
->
widg‘_li¡
;

235 
	`li¡_fÜ_—ch
(
pos
, 
ba£
) {

237 
–em
 = 
	`li¡_’Œy
(
pos
, 
lg_–em
, 
li¡
);

238 ià(!
–em
->
widg‘
 ||ƒËm->
ty³
 !ğ
SND_TPLG_TYPE_DAPM_WIDGET
) {

239 
	`SNDERR
("error: invalid widget '%s'\n",

240 
–em
->
id
);

241  -
EINVAL
;

244 
”r
 = 
	`lg_bud_widg‘
(
lg
, 
–em
);

245 ià(
”r
 < 0)

246  
”r
;

249 
lg
->
mªiã¡
.
widg‘_–ems
++;

253 
	}
}

255 
	$lg_bud_rou‹s
(
¢d_lg_t
 *
lg
)

257 
li¡_h—d
 *
ba£
, *
pos
;

258 
lg_–em
 *
–em
;

259 
¢d_soc_lg_d­m_g¿ph_–em
 *
rou‹
;

261 
ba£
 = &
lg
->
rou‹_li¡
;

263 
	`li¡_fÜ_—ch
(
pos
, 
ba£
) {

264 
–em
 = 
	`li¡_’Œy
(
pos
, 
lg_–em
, 
li¡
);

266 ià(!
–em
->
rou‹
 ||ƒËm->
ty³
 !ğ
SND_TPLG_TYPE_DAPM_GRAPH
) {

267 
	`SNDERR
("error: invalid„oute '%s'\n",

268 
–em
->
id
);

269  -
EINVAL
;

272 
rou‹
 = 
–em
->route;

273 
	`lg_dbg
("\nCheck„oute: sink '%s', control '%s', source '%s'\n",

274 
rou‹
->
sšk
,„ou‹->
cÚŒŞ
,„ou‹->
sourû
);

277 ià(
	`¡¾’
(
rou‹
->
sšk
) <= 0) {

278 
	`SNDERR
("error:‚o sink\n");

279  -
EINVAL
;

282 ià(!
	`lg_–em_lookup
(&
lg
->
widg‘_li¡
, 
rou‹
->
sšk
,

283 
SND_TPLG_TYPE_DAPM_WIDGET
, 
SND_TPLG_INDEX_ALL
)) {

284 
	`SNDERR
("warning: undefined sink widget/stream '%s'\n",

285 
rou‹
->
sšk
);

289 ià(
	`¡¾’
(
rou‹
->
cÚŒŞ
)) {

290 ià(!
	`lg_–em_lookup
(&
lg
->
mix”_li¡
, 
rou‹
->
cÚŒŞ
,

291 
SND_TPLG_TYPE_MIXER
, 
–em
->
šdex
) &&

292 !
	`lg_–em_lookup
(&
lg
->
’um_li¡
, 
rou‹
->
cÚŒŞ
,

293 
SND_TPLG_TYPE_ENUM
, 
–em
->
šdex
)) {

294 
	`SNDERR
("warning: Undefined mixer/enum control '%s'\n",

295 
rou‹
->
cÚŒŞ
);

300 ià(
	`¡¾’
(
rou‹
->
sourû
) <= 0) {

301 
	`SNDERR
("error:‚o source\n");

302  -
EINVAL
;

305 ià(!
	`lg_–em_lookup
(&
lg
->
widg‘_li¡
, 
rou‹
->
sourû
,

306 
SND_TPLG_TYPE_DAPM_WIDGET
, 
SND_TPLG_INDEX_ALL
)) {

307 
	`SNDERR
("warning: Undefined source widget/stream '%s'\n",

308 
rou‹
->
sourû
);

312 
lg
->
mªiã¡
.
g¿ph_–ems
++;

316 
	}
}

318 
lg_–em
* 
	$lg_–em_Ãw_rou‹
(
¢d_lg_t
 *
lg
)

320 
lg_–em
 *
–em
;

321 
¢d_soc_lg_d­m_g¿ph_–em
 *
lše
;

323 
–em
 = 
	`lg_–em_Ãw
();

324 ià(!
–em
)

325  
NULL
;

327 
	`li¡_add_
(&
–em
->
li¡
, &
lg
->
rou‹_li¡
);

328 
	`¡rıy
(
–em
->
id
, "line");

329 
–em
->
ty³
 = 
SND_TPLG_TYPE_DAPM_GRAPH
;

330 
–em
->
size
 = (*
lše
);

332 
lše
 = 
	`ÿÎoc
(1, (*line));

333 ià(!
lše
) {

334 
	`lg_–em_ä“
(
–em
);

335  
NULL
;

337 
–em
->
rou‹
 = 
lše
;

339  
–em
;

340 
	}
}

342 
	#LINE_SIZE
 1024

	)

345 
	$lg_·r£_lše
(cÚ¡ *
‹xt
,

346 
¢d_soc_lg_d­m_g¿ph_–em
 *
lše
)

348 
buf
[
LINE_SIZE
];

349 
Ën
, 
i
;

350 cÚ¡ *
sourû
 = 
NULL
, *
sšk
 = NULL, *
cÚŒŞ
 = NULL;

352 
	`–em_cİy_‹xt
(
buf
, 
‹xt
, 
LINE_SIZE
);

354 
Ën
 = 
	`¡¾’
(
buf
);

355 ià(
Ën
 <= 2) {

356 
	`SNDERR
("”rÜ: inv®id„ou‹ \"%s\"\n", 
buf
);

357  -
EINVAL
;

361 
i
 = 1; i < 
Ën
; i++) {

362 ià(
buf
[
i
] == ',')

363 
£cÚd
;

365 
	`SNDERR
("”rÜ: inv®id„ou‹ \"%s\"\n", 
buf
);

366  -
EINVAL
;

368 
£cÚd
:

370 
sšk
 = 
buf
;

371 
cÚŒŞ
 = &
buf
[
i
 + 2];

372 
buf
[
i
] = 0;

374 ; 
i
 < 
Ën
; i++) {

375 ià(
buf
[
i
] == ',')

376 
dÚe
;

379 
	`SNDERR
("”rÜ: inv®id„ou‹ \"%s\"\n", 
buf
);

380  -
EINVAL
;

382 
dÚe
:

383 
buf
[
i
] = 0;

384 
sourû
 = &
buf
[
i
 + 2];

386 
	`¡rıy
(
lše
->
sourû
, source);

387 
	`¡rıy
(
lše
->
cÚŒŞ
, control);

388 
	`¡rıy
(
lše
->
sšk
, sink);

390 
	}
}

393 
	$lg_·r£_rou‹s
(
¢d_lg_t
 *
lg
, 
¢d_cÚfig_t
 *
cfg
, 
šdex
)

395 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

396 
¢d_cÚfig_t
 *
n
;

397 
lg_–em
 *
–em
;

398 
¢d_soc_lg_d­m_g¿ph_–em
 *
lše
;

399 
”r
;

401 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

402 cÚ¡ *
v®
;

404 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

405 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

408 
–em
 = 
	`lg_–em_Ãw_rou‹
(
lg
);

409 ià(!
–em
)

410  -
ENOMEM
;

411 
–em
->
šdex
 = index;

412 
lše
 = 
–em
->
rou‹
;

414 
”r
 = 
	`lg_·r£_lše
(
v®
, 
lše
);

415 ià(
”r
 < 0)

416  
”r
;

418 
	`lg_dbg
("route: sink '%s', control '%s', source '%s'\n",

419 
lše
->
sšk
,†še->
cÚŒŞ
,†še->
sourû
);

423 
	}
}

425 
	$lg_·r£_d­m_g¿ph
(
¢d_lg_t
 *
lg
, 
¢d_cÚfig_t
 *
cfg
,

426 *
´iv©e
 
ATTRIBUTE_UNUSED
)

428 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

429 
¢d_cÚfig_t
 *
n
;

430 
”r
;

431 cÚ¡ *
g¿ph_id
, *
v®
 = 
NULL
;

432 
šdex
 = -1;

434 ià(
	`¢d_cÚfig_g‘_ty³
(
cfg
è!ğ
SND_CONFIG_TYPE_COMPOUND
) {

435 
	`SNDERR
("error: compound isƒxpected for dapm graph definition\n");

436  -
EINVAL
;

439 
	`¢d_cÚfig_g‘_id
(
cfg
, &
g¿ph_id
);

441 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

442 cÚ¡ *
id
;

444 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

445 ià(
	`¢d_cÚfig_g‘_id
(
n
, &
id
) < 0) {

449 ià(
	`¡rcmp
(
id
, "index") == 0) {

450 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

451  -
EINVAL
;

452 
šdex
 = 
	`©oi
(
v®
);

455 ià(
	`¡rcmp
(
id
, "lines") == 0) {

456 ià(
šdex
 < 0) {

457 
	`SNDERR
("error: failedo…arse dapm graph %s, missing index\n",

458 
g¿ph_id
);

459  -
EINVAL
;

461 
”r
 = 
	`lg_·r£_rou‹s
(
lg
, 
n
, 
šdex
);

462 ià(
”r
 < 0) {

463 
	`SNDERR
("error: failedo…arse dapm graph %s\n",

464 
g¿ph_id
);

465  
”r
;

472 
	}
}

475 
	$lg_·r£_d­m_widg‘
(
¢d_lg_t
 *
lg
,

476 
¢d_cÚfig_t
 *
cfg
, *
´iv©e
 
ATTRIBUTE_UNUSED
)

478 
¢d_soc_lg_d­m_widg‘
 *
widg‘
;

479 
lg_–em
 *
–em
;

480 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

481 
¢d_cÚfig_t
 *
n
;

482 cÚ¡ *
id
, *
v®
 = 
NULL
;

483 
widg‘_ty³
, 
”r
;

485 
–em
 = 
	`lg_–em_Ãw_commÚ
(
lg
, 
cfg
, 
NULL
, 
SND_TPLG_TYPE_DAPM_WIDGET
);

486 ià(!
–em
)

487  -
ENOMEM
;

489 
	`lg_dbg
(" Widg‘: %s\n", 
–em
->
id
);

491 
widg‘
 = 
–em
->widget;

492 
	`–em_cİy_‹xt
(
widg‘
->
Çme
, 
–em
->
id
, 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

493 
widg‘
->
size
 = 
–em
->size;

495 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

497 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

498 ià(
	`¢d_cÚfig_g‘_id
(
n
, &
id
) < 0)

502 ià(
	`¡rcmp
(
id
, "comment") == 0)

504 ià(
id
[0] == '#')

507 ià(
	`¡rcmp
(
id
, "type") == 0) {

508 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

509  -
EINVAL
;

511 
widg‘_ty³
 = 
	`lookup_widg‘
(
v®
);

512 ià(
widg‘_ty³
 < 0){

513 
	`SNDERR
("Widget '%s': Unsupported widgetype %s\n",

514 
–em
->
id
, 
v®
);

515  -
EINVAL
;

518 
widg‘
->
id
 = 
widg‘_ty³
;

519 
	`lg_dbg
("\t%s: %s\n", 
id
, 
v®
);

523 ià(
	`¡rcmp
(
id
, "stream_name") == 0) {

524 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

525  -
EINVAL
;

527 
	`–em_cİy_‹xt
(
widg‘
->
¢ame
, 
v®
,

528 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

529 
	`lg_dbg
("\t%s: %s\n", 
id
, 
v®
);

533 ià(
	`¡rcmp
(
id
, "no_pm") == 0) {

534 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

535  -
EINVAL
;

537 ià(
	`¡rcmp
(
v®
, "true") == 0)

538 
widg‘
->
»g
 = -1;

540 
	`lg_dbg
("\t%s: %s\n", 
id
, 
v®
);

544 ià(
	`¡rcmp
(
id
, "shift") == 0) {

545 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

546  -
EINVAL
;

548 
widg‘
->
shiá
 = 
	`©oi
(
v®
);

549 
	`lg_dbg
("\t%s: %d\n", 
id
, 
widg‘
->
shiá
);

553 ià(
	`¡rcmp
(
id
, "reg") == 0) {

554 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

555  -
EINVAL
;

557 
widg‘
->
»g
 = 
	`©oi
(
v®
);

558 
	`lg_dbg
("\t%s: %d\n", 
id
, 
widg‘
->
»g
);

562 ià(
	`¡rcmp
(
id
, "invert") == 0) {

563 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

564  -
EINVAL
;

566 
widg‘
->
šv”t
 = 
	`©oi
(
v®
);

567 
	`lg_dbg
("\t%s: %d\n", 
id
, 
widg‘
->
šv”t
);

571 ià(
	`¡rcmp
(
id
, "subseq") == 0) {

572 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

573  -
EINVAL
;

575 
widg‘
->
sub£q
ğ
	`©oi
(
v®
);

576 
	`lg_dbg
("\t%s: %d\n", 
id
, 
widg‘
->
sub£q
);

580 ià(
	`¡rcmp
(
id
, "event_type") == 0) {

581 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

582  -
EINVAL
;

584 
widg‘
->
ev’t_ty³
 = 
	`©oi
(
v®
);

585 
	`lg_dbg
("\t%s: %d\n", 
id
, 
widg‘
->
ev’t_ty³
);

589 ià(
	`¡rcmp
(
id
, "event_flags") == 0) {

590 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

591  -
EINVAL
;

593 
widg‘
->
ev’t_æags
 = 
	`©oi
(
v®
);

594 
	`lg_dbg
("\t%s: %d\n", 
id
, 
widg‘
->
ev’t_æags
);

598 ià(
	`¡rcmp
(
id
, "enum") == 0) {

599 
”r
 = 
	`lg_·r£_d­m_’ums
(
n
, 
–em
);

600 ià(
”r
 < 0)

601  
”r
;

606 ià(
	`¡rcmp
(
id
, "mixer") == 0) {

607 
”r
 = 
	`lg_·r£_d­m_mix”s
(
n
, 
–em
);

608 ià(
”r
 < 0)

609  
”r
;

614 ià(
	`¡rcmp
(
id
, "bytes") == 0) {

615 
”r
 = 
	`lg_·r£_d­m_by‹s
(
n
, 
–em
);

616 ià(
”r
 < 0)

617  
”r
;

622 ià(
	`¡rcmp
(
id
, "data") == 0) {

623 
”r
 = 
	`lg_·r£_d©a_»fs
(
n
, 
–em
);

624 ià(
”r
 < 0)

625  
”r
;

631 
	}
}

633 
	$lg_add_rou‹
(
¢d_lg_t
 *
lg
, 
¢d_lg_g¿ph_–em
 *
t
)

635 
lg_–em
 *
–em
;

636 
¢d_soc_lg_d­m_g¿ph_–em
 *
lše
;

638 ià(!
t
->
¤c
 || !t->
sšk
)

639  -
EINVAL
;

641 
–em
 = 
	`lg_–em_Ãw_rou‹
(
lg
);

642 ià(!
–em
)

643  -
ENOMEM
;

645 
lše
 = 
–em
->
rou‹
;

646 
	`–em_cİy_‹xt
(
lše
->
sourû
, 
t
->
¤c
, 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

647 ià(
t
->
ùl
)

648 
	`–em_cİy_‹xt
(
lše
->
cÚŒŞ
, 
t
->
ùl
,

649 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

650 
	`–em_cİy_‹xt
(
lše
->
sšk
, 
t
->sšk, 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

653 
	}
}

655 
	$lg_add_g¿ph_objeù
(
¢d_lg_t
 *
lg
, 
¢d_lg_obj_‹m¶©e_t
 *
t
)

657 
¢d_lg_g¿ph_‹m¶©e
 *
gt
 = 
t
->
g¿ph
;

658 
i
, 
»t
;

660 
i
 = 0; i < 
gt
->
couÁ
; i++) {

661 
»t
 = 
	`lg_add_rou‹
(
lg
, 
gt
->
–em
 + 
i
);

662 ià(
»t
 < 0)

663  
»t
;

667 
	}
}

669 
	$lg_add_widg‘_objeù
(
¢d_lg_t
 *
lg
, 
¢d_lg_obj_‹m¶©e_t
 *
t
)

671 
¢d_lg_widg‘_‹m¶©e
 *
wt
 = 
t
->
widg‘
;

672 
¢d_soc_lg_d­m_widg‘
 *
w
;

673 
lg_–em
 *
–em
;

674 
i
, 
»t
 = 0;

676 
	`lg_dbg
("Widg‘: %s\n", 
wt
->
Çme
);

678 
–em
 = 
	`lg_–em_Ãw_commÚ
(
lg
, 
NULL
, 
wt
->
Çme
,

679 
SND_TPLG_TYPE_DAPM_WIDGET
);

680 ià(!
–em
)

681  -
ENOMEM
;

684 
w
 = 
–em
->
widg‘
;

685 
w
->
size
 = 
–em
->size;

687 
w
->
id
 = 
wt
->id;

688 
	`–em_cİy_‹xt
(
w
->
Çme
, 
wt
->Çme, 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

689 ià(
wt
->
¢ame
)

690 
	`–em_cİy_‹xt
(
w
->
¢ame
, 
wt
->¢ame, 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

691 
w
->
»g
 = 
wt
->reg;

692 
w
->
shiá
 = 
wt
->shift;

693 
w
->
mask
 = 
wt
->mask;

694 
w
->
sub£q
 = 
wt
->subseq;

695 
w
->
šv”t
 = 
wt
->invert;

696 
w
->
ignÜe_su¥’d
 = 
wt
->ignore_suspend;

697 
w
->
ev’t_æags
 = 
wt
->event_flags;

698 
w
->
ev’t_ty³
 = 
wt
->event_type;

700 ià(
wt
->
´iv
 !ğ
NULL
) {

701 
w
 = 
	`»®loc
(w,

702 
–em
->
size
 + 
wt
->
´iv
->size);

703 ià(!
w
) {

704 
	`lg_–em_ä“
(
–em
);

705  -
ENOMEM
;

708 
–em
->
widg‘
 = 
w
;

709 
–em
->
size
 +ğ
wt
->
´iv
->size;

711 
	`memıy
(
w
->
´iv
.
d©a
, 
wt
->priv->data,

712 
wt
->
´iv
->
size
);

713 
w
->
´iv
.
size
 = 
wt
->priv->size;

717 
i
 = 0 ; i < 
wt
->
num_ùls
; i++) {

718 
¢d_lg_ùl_‹m¶©e
 *
ù
 = 
wt
->
ùl
[
i
];

719 
lg_–em
 *
–em_ùl
;

720 
¢d_lg_mix”_‹m¶©e
 *
mt
;

721 
¢d_lg_by‹s_‹m¶©e
 *
bt
;

722 
¢d_lg_’um_‹m¶©e
 *
‘
;

724 ià(!
ù
) {

725 
	`lg_–em_ä“
(
–em
);

726  -
EINVAL
;

729 
ù
->
ty³
) {

730 
SND_SOC_TPLG_TYPE_MIXER
:

731 
mt
 = 
	`cÚš”_of
(
ù
, 
¢d_lg_mix”_‹m¶©e
, 
hdr
);

732 
»t
 = 
	`lg_add_mix”
(
lg
, 
mt
, &
–em_ùl
);

735 
SND_SOC_TPLG_TYPE_BYTES
:

736 
bt
 = 
	`cÚš”_of
(
ù
, 
¢d_lg_by‹s_‹m¶©e
, 
hdr
);

737 
»t
 = 
	`lg_add_by‹s
(
lg
, 
bt
, &
–em_ùl
);

740 
SND_SOC_TPLG_TYPE_ENUM
:

741 
‘
 = 
	`cÚš”_of
(
ù
, 
¢d_lg_’um_‹m¶©e
, 
hdr
);

742 
»t
 = 
	`lg_add_’um
(
lg
, 
‘
, &
–em_ùl
);

746 
	`SNDERR
("error: widget %s: invalidype %d for ctl %d\n",

747 
wt
->
Çme
, 
ù
->
ty³
, 
i
);

748 
»t
 = -
EINVAL
;

752 ià(
»t
 < 0) {

753 
	`lg_–em_ä“
(
–em
);

754  
»t
;

757 
»t
 = 
	`lg_»f_add_–em
(
–em
, 
–em_ùl
);

758 ià(
»t
 < 0) {

759 
	`lg_–em_ä“
(
–em
);

760  
»t
;

765 
	}
}

	@data.c

20 
	~"li¡.h
"

21 
	~"lg_loÿl.h
"

22 
	~<ùy³.h
>

25 
¢d_soc_lg_´iv©e
 *
	$g‘_´iv_d©a
(
lg_–em
 *
–em
)

27 
¢d_soc_lg_´iv©e
 *
´iv
 = 
NULL
;

29 
–em
->
ty³
) {

30 
SND_TPLG_TYPE_MANIFEST
:

31 
´iv
 = &
–em
->
mªiã¡
->priv;

34 
SND_TPLG_TYPE_MIXER
:

35 
´iv
 = &
–em
->
mix”_ù¾
->priv;

38 
SND_TPLG_TYPE_ENUM
:

39 
´iv
 = &
–em
->
’um_ù¾
->priv;

42 
SND_TPLG_TYPE_BYTES
:

43 
´iv
 = &
–em
->
by‹s_ext
->priv;

46 
SND_TPLG_TYPE_DAPM_WIDGET
:

47 
´iv
 = &
–em
->
widg‘
->priv;

50 
SND_TPLG_TYPE_DAI
:

51 
´iv
 = &
–em
->
dai
->priv;

53 
SND_TPLG_TYPE_BE
:

54 
´iv
 = &
–em
->
lšk
->priv;

57 
	`SNDERR
("error: '%s':‚o support for…rivate data forype %d\n",

58 
–em
->
id
,ƒËm->
ty³
);

61  
´iv
;

62 
	}
}

65 
	$lg_·r£_d©a_fe
(
¢d_cÚfig_t
 *
cfg
, 
lg_–em
 *
–em
)

67 
¢d_soc_lg_´iv©e
 *
´iv
 = 
NULL
;

68 cÚ¡ *
v®ue
 = 
NULL
;

69 
f’ame
[
MAX_FILE
];

70 *
’v
 = 
	`g‘’v
(
ALSA_CONFIG_TPLG_VAR
);

71 
FILE
 *
å
;

72 
size_t
 
size
, 
by‹s_»ad
;

73 
»t
 = 0;

75 
	`lg_dbg
("d©¨D©aFe: %s\n", 
–em
->
id
);

77 ià(
	`¢d_cÚfig_g‘_¡ršg
(
cfg
, &
v®ue
) < 0)

78  -
EINVAL
;

81 ià(
’v
)

82 
	`¢´štf
(
f’ame
, (f’ame), "%s/%s", 
’v
, 
v®ue
);

84 
	`¢´štf
(
f’ame
, (filename), "%s/topology/%s",

85 
	`¢d_cÚfig_tİdœ
(), 
v®ue
);

87 
å
 = 
	`fİ’
(
f’ame
, "r");

88 ià(
å
 =ğ
NULL
) {

89 
	`SNDERR
("error: invalid data file…ath '%s'\n",

90 
f’ame
);

91 
»t
 = -
”ºo
;

92 
”r
;

95 
	`f£ek
(
å
, 0L, 
SEEK_END
);

96 
size
 = 
	`á–l
(
å
);

97 
	`f£ek
(
å
, 0L, 
SEEK_SET
);

98 ià(
size
 <= 0) {

99 
	`SNDERR
("”rÜ: inv®id d©¨fsiz%zu\n", 
size
);

100 
»t
 = -
EINVAL
;

101 
”r
;

103 ià(
size
 > 
TPLG_MAX_PRIV_SIZE
) {

104 
	`SNDERR
("”rÜ: d©¨ftoØbig %zu\n", 
size
);

105 
»t
 = -
EINVAL
;

106 
”r
;

109 
´iv
 = 
	`ÿÎoc
(1, (*´ivè+ 
size
);

110 ià(!
´iv
) {

111 
»t
 = -
ENOMEM
;

112 
”r
;

115 
by‹s_»ad
 = 
	`ä—d
(&
´iv
->
d©a
, 1, 
size
, 
å
);

116 ià(
by‹s_»ad
 !ğ
size
) {

117 
»t
 = -
”ºo
;

118 
”r
;

121 
–em
->
d©a
 = 
´iv
;

122 
´iv
->
size
 = size;

123 
–em
->
size
 = (*
´iv
) + size;

126 
”r
:

127 ià(
´iv
)

128 
	`ä“
(
´iv
);

129  
»t
;

130 
	}
}

132 
	$dump_´iv_d©a
(
lg_–em
 *
–em
)

134 
¢d_soc_lg_´iv©e
 *
´iv
 = 
–em
->
d©a
;

135 
i
, 
j
 = 0;

137 
	`lg_dbg
("ƒlem size = %d,…riv data size = %d\n",

138 
–em
->
size
, 
´iv
->size);

140 
i
 = 0; i < 
´iv
->
size
; i++) {

141 ià(
j
++ % 8 == 0)

142 
	`lg_dbg
("\n");

144 
	`lg_dbg
(" 0x%x", *
p
++);

147 
	`lg_dbg
("\n\n");

148 
	}
}

151 
	$g‘_hex_num
(cÚ¡ *
¡r
)

153 
commas
 = 0, 
v®ues
 = 0, 
Ën
 = 
	`¡¾’
(
¡r
);

154 cÚ¡ *
’d
 = 
¡r
 + 
Ën
;

157 
¡r
 < 
’d
) {

160 ià(
	`is¥aû
(*
¡r
)) {

161 
¡r
++;

166 ià(*
¡r
 == ',') {

167 
commas
++;

168 
¡r
++;

173 ià(*
¡r
 =ğ'0' && sŒ + 2 <ğ
’d
) {

174 ià(
¡r
[1] == 'x' && str[2] >= '0' && str[2] <= 'f') {

175 
v®ues
++;

176 
¡r
 += 3;

178 
¡r
++;

182 
¡r
++;

186 ià(
v®ues
 -1 !ğ
commas
)

187  -
EINVAL
;

189  
v®ues
;

190 
	}
}

193 
	$g‘_uuid
(cÚ¡ *
¡r
, *
uuid_Ë
)

195 
v®
;

196 *
tmp
, *
s
 = 
NULL
;

197 
v®ues
 = 0, 
»t
 = 0;

199 
tmp
 = 
	`¡rdup
(
¡r
);

200 ià(
tmp
 =ğ
NULL
)

201  -
ENOMEM
;

203 
s
 = 
	`¡¹ok
(
tmp
, ",");

205 
s
 !ğ
NULL
) {

206 
”ºo
 = 0;

207 
v®
 = 
	`¡¹oul
(
s
, 
NULL
, 0);

208 ià((
”ºo
 =ğ
ERANGE
 && 
v®
 =ğ
ULONG_MAX
)

209 || (
”ºo
 !ğ0 && 
v®
 == 0)

210 || (
v®
 > 
UCHAR_MAX
)) {

211 
	`SNDERR
("error: invalid value for uuid\n");

212 
»t
 = -
EINVAL
;

213 
out
;

216 *(
uuid_Ë
 + 
v®ues
èğ()
v®
;

218 
v®ues
++;

219 ià(
v®ues
 >= 16)

222 
s
 = 
	`¡¹ok
(
NULL
, ",");

225 ià(
v®ues
 < 16) {

226 
	`SNDERR
("error:†esshan 16 integers for uuid\n");

227 
»t
 = -
EINVAL
;

230 
out
:

231 
	`ä“
(
tmp
);

232  
»t
;

233 
	}
}

235 
	$wr™e_hex
(*
buf
, *
¡r
, 
width
)

237 
v®
;

238 *
p
 = &
v®
;

240 
”ºo
 = 0;

241 
v®
 = 
	`¡¹Ş
(
¡r
, 
NULL
, 16);

243 ià((
”ºo
 =ğ
ERANGE
 && (
v®
 =ğ
LONG_MAX
 || v® =ğ
LONG_MIN
))

244 || (
”ºo
 !ğ0 && 
v®
 == 0)) {

245  -
EINVAL
;

248 
width
) {

250 *(*)
buf
 = *(*)
p
;

253 *(*)
buf
 = *(*)
p
;

256 *(*)
buf
 = *(*)
p
;

259  -
EINVAL
;

263 
	}
}

265 
	$cİy_d©a_hex
(*
d©a
, 
off
, cÚ¡ *
¡r
, 
width
)

267 *
tmp
, *
s
 = 
NULL
, *
p
 = 
d©a
;

268 
»t
;

270 
tmp
 = 
	`¡rdup
(
¡r
);

271 ià(
tmp
 =ğ
NULL
)

272  -
ENOMEM
;

274 
p
 +ğ
off
;

275 
s
 = 
	`¡¹ok
(
tmp
, ",");

277 
s
 !ğ
NULL
) {

278 
»t
 = 
	`wr™e_hex
(
p
, 
s
, 
width
);

279 ià(
»t
 < 0) {

280 
	`ä“
(
tmp
);

281  
»t
;

284 
s
 = 
	`¡¹ok
(
NULL
, ",");

285 
p
 +ğ
width
;

288 
	`ä“
(
tmp
);

290 
	}
}

292 
	$lg_·r£_d©a_hex
(
¢d_cÚfig_t
 *
cfg
, 
lg_–em
 *
–em
,

293 
width
)

295 
¢d_soc_lg_´iv©e
 *
´iv
;

296 cÚ¡ *
v®ue
 = 
NULL
;

297 
size
, 
esize
, 
off
, 
num
;

298 
»t
;

300 
	`lg_dbg
(" d©a: %s\n", 
–em
->
id
);

302 ià(
	`¢d_cÚfig_g‘_¡ršg
(
cfg
, &
v®ue
) < 0)

303  -
EINVAL
;

305 
num
 = 
	`g‘_hex_num
(
v®ue
);

306 ià(
num
 <= 0) {

307 
	`SNDERR
("”rÜ: m®fÜmed hex v¬ŸbË†i¡ %s\n", 
v®ue
);

308  -
EINVAL
;

311 
size
 = 
num
 * 
width
;

312 
´iv
 = 
–em
->
d©a
;

314 ià(
size
 > 
TPLG_MAX_PRIV_SIZE
) {

315 
	`SNDERR
("”rÜ: d©¨toØbig %d\n", 
size
);

316  -
EINVAL
;

319 ià(
´iv
 !ğ
NULL
) {

320 
off
 = 
´iv
->
size
;

321 
esize
 = 
–em
->
size
 + size;

322 
´iv
 = 
	`»®loc
Õriv, 
esize
);

324 
off
 = 0;

325 
esize
 = (*
´iv
è+ 
size
;

326 
´iv
 = 
	`ÿÎoc
(1, 
esize
);

329 ià(!
´iv
)

330  -
ENOMEM
;

332 
–em
->
d©a
 = 
´iv
;

333 
´iv
->
size
 += size;

334 
–em
->
size
 = 
esize
;

336 
»t
 = 
	`cİy_d©a_hex
(
´iv
->
d©a
, 
off
, 
v®ue
, 
width
);

338 
	`dump_´iv_d©a
(
–em
);

339  
»t
;

340 
	}
}

343 
	$g‘_tok’_v®ue
(cÚ¡ *
tok’_id
,

344 
lg_v’dÜ_tok’s
 *
tok’s
)

346 
i
;

348 
i
 = 0; i < 
tok’s
->
num_tok’s
; i++) {

349 ià(
	`¡rcmp
(
tok’_id
, 
tok’s
->
tok’
[
i
].
id
) == 0)

350  
tok’s
->
tok’
[
i
].
v®ue
;

353 
	`SNDERR
("”rÜ: cªnÙ fšdok’ id '%s'\n", 
tok’_id
);

355 
	}
}

358 
lg_–em
 *
	$g‘_tok’s
(
¢d_lg_t
 *
lg
, 
lg_–em
 *
–em
)

360 
lg_»f
 *
»f
;

361 
li¡_h—d
 *
ba£
, *
pos
;

363 
ba£
 = &
–em
->
»f_li¡
;

364 
	`li¡_fÜ_—ch
(
pos
, 
ba£
) {

366 
»f
 = 
	`li¡_’Œy
(
pos
, 
lg_»f
, 
li¡
);

368 ià(
»f
->
ty³
 !ğ
SND_TPLG_TYPE_TOKEN
)

371 ià(!
»f
->
–em
) {

372 
»f
->
–em
 = 
	`lg_–em_lookup
(&
lg
->
tok’_li¡
,

373 
»f
->
id
, 
SND_TPLG_TYPE_TOKEN
, 
–em
->
šdex
);

376  
»f
->
–em
;

379  
NULL
;

380 
	}
}

383 
boŞ
 
	$has_tu¶es
(
lg_–em
 *
–em
)

385 
lg_»f
 *
»f
;

386 
li¡_h—d
 *
ba£
, *
pos
;

388 
ba£
 = &
–em
->
»f_li¡
;

389 
	`li¡_fÜ_—ch
(
pos
, 
ba£
) {

391 
»f
 = 
	`li¡_’Œy
(
pos
, 
lg_»f
, 
li¡
);

392 ià(
»f
->
ty³
 =ğ
SND_TPLG_TYPE_TUPLE
)

393  
Œue
;

396  
çl£
;

397 
	}
}

400 
	$g‘_tu¶e_size
(
ty³
)

402 
ty³
) {

404 
SND_SOC_TPLG_TUPLE_TYPE_UUID
:

405  (
¢d_soc_lg_v’dÜ_uuid_–em
);

407 
SND_SOC_TPLG_TUPLE_TYPE_STRING
:

408  (
¢d_soc_lg_v’dÜ_¡ršg_–em
);

411  (
¢d_soc_lg_v’dÜ_v®ue_–em
);

413 
	}
}

416 
	$cİy_tu¶es
(
lg_–em
 *
–em
,

417 
lg_v’dÜ_tu¶es
 *
tu¶es
, 
lg_v’dÜ_tok’s
 *
tok’s
)

419 
¢d_soc_lg_´iv©e
 *
´iv
 = 
–em
->
d©a
;

420 
lg_tu¶e_£t
 *
tu¶e_£t
;

421 
lg_tu¶e
 *
tu¶e
;

422 
¢d_soc_lg_v’dÜ_¬¿y
 *
¬¿y
;

423 
¢d_soc_lg_v’dÜ_uuid_–em
 *
uuid
;

424 
¢d_soc_lg_v’dÜ_¡ršg_–em
 *
¡ršg
;

425 
¢d_soc_lg_v’dÜ_v®ue_–em
 *
v®ue
;

426 
£t_size
, 
size
, 
off
;

427 
i
, 
j
;

428 
tok’_v®
;

430 
size
 = 
´iv
 ?…riv->size : 0;

433 
i
 = 0; i < 
tu¶es
->
num_£ts
 ; i++) {

434 
tu¶e_£t
 = 
tu¶es
->
£t
[
i
];

435 
£t_size
 = (
¢d_soc_lg_v’dÜ_¬¿y
)

436 + 
	`g‘_tu¶e_size
(
tu¶e_£t
->
ty³
)

437 * 
tu¶e_£t
->
num_tu¶es
;

438 
size
 +ğ
£t_size
;

439 ià(
size
 > 
TPLG_MAX_PRIV_SIZE
) {

440 
	`SNDERR
("”rÜ: d©¨toØbig %d\n", 
size
);

441  -
EINVAL
;

444 ià(
´iv
 !ğ
NULL
)

445 
´iv
 = 
	`»®loc
Õriv, (*´ivè+ 
size
);

447 
´iv
 = 
	`ÿÎoc
(1, (*´ivè+ 
size
);

448 ià(!
´iv
)

449  -
ENOMEM
;

451 
off
 = 
´iv
->
size
;

452 
´iv
->
size
 = size;

454 
¬¿y
 = (
¢d_soc_lg_v’dÜ_¬¿y
 *)(
´iv
->
d©a
 + 
off
);

455 
¬¿y
->
size
 = 
£t_size
;

456 
¬¿y
->
ty³
 = 
tu¶e_£t
->type;

457 
¬¿y
->
num_–ems
 = 
tu¶e_£t
->
num_tu¶es
;

460 
j
 = 0; j < 
tu¶e_£t
->
num_tu¶es
; j++) {

461 
tu¶e
 = &
tu¶e_£t
->tu¶e[
j
];

462 
tok’_v®
 = 
	`g‘_tok’_v®ue
(
tu¶e
->
tok’
, 
tok’s
);

463 ià(
tok’_v®
 < 0)

464  -
EINVAL
;

466 
tu¶e_£t
->
ty³
) {

467 
SND_SOC_TPLG_TUPLE_TYPE_UUID
:

468 
uuid
 = &
¬¿y
->uuid[
j
];

469 
uuid
->
tok’
 = 
tok’_v®
;

470 
	`memıy
(
uuid
->uuid, 
tu¶e
->uuid, 16);

473 
SND_SOC_TPLG_TUPLE_TYPE_STRING
:

474 
¡ršg
 = &
¬¿y
->¡ršg[
j
];

475 
¡ršg
->
tok’
 = 
tok’_v®
;

476 
	`–em_cİy_‹xt
(
¡ršg
->¡ršg, 
tu¶e
->string,

477 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

481 
v®ue
 = &
¬¿y
->v®ue[
j
];

482 
v®ue
->
tok’
 = 
tok’_v®
;

483 
v®ue
->v®uğ
tu¶e
->value;

489 
–em
->
d©a
 = 
´iv
;

491 
	}
}

494 
	$bud_tu¶es
(
¢d_lg_t
 *
lg
, 
lg_–em
 *
–em
)

496 
lg_»f
 *
»f
;

497 
li¡_h—d
 *
ba£
, *
pos
;

498 
lg_–em
 *
tu¶es
, *
tok’s
;

499 
”r
;

501 
ba£
 = &
–em
->
»f_li¡
;

502 
	`li¡_fÜ_—ch
(
pos
, 
ba£
) {

504 
»f
 = 
	`li¡_’Œy
(
pos
, 
lg_»f
, 
li¡
);

506 ià(
»f
->
ty³
 !ğ
SND_TPLG_TYPE_TUPLE
)

509 
	`lg_dbg
("tu¶e '%s' u£d by d©¨'%s'\n", 
»f
->
id
, 
–em
->id);

511 ià(!
»f
->
–em
)

512 
»f
->
–em
 = 
	`lg_–em_lookup
(&
lg
->
tu¶e_li¡
,

513 
»f
->
id
, 
SND_TPLG_TYPE_TUPLE
, 
–em
->
šdex
);

514 
tu¶es
 = 
»f
->
–em
;

515 ià(!
tu¶es
) {

516 
	`SNDERR
("”rÜ: cªnÙ fšdu¶e %s\n", 
»f
->
id
);

517  -
EINVAL
;

520 
tok’s
 = 
	`g‘_tok’s
(
lg
, 
tu¶es
);

521 ià(!
tok’s
) {

522 
	`SNDERR
("”rÜ: cªnÙ fšdok’ fÜ %s\n", 
»f
->
id
);

523  -
EINVAL
;

527 
”r
 = 
	`cİy_tu¶es
(
–em
, 
tu¶es
->tu¶es, 
tok’s
->tokens);

528 ià(
”r
 < 0)

529  
”r
;

533 
	}
}

535 
	$·r£_tu¶e_£t
(
¢d_cÚfig_t
 *
cfg
,

536 
lg_tu¶e_£t
 **
s
)

538 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

539 
¢d_cÚfig_t
 *
n
;

540 cÚ¡ *
id
, *
v®ue
;

541 
lg_tu¶e_£t
 *
£t
;

542 
ty³
, 
num_tu¶es
 = 0;

543 
lg_tu¶e
 *
tu¶e
;

544 
tu¶e_v®
;

546 
	`¢d_cÚfig_g‘_id
(
cfg
, &
id
);

548 ià(
	`¡ºcmp
(
id
, "uuid", 4) == 0)

549 
ty³
 = 
SND_SOC_TPLG_TUPLE_TYPE_UUID
;

550 ià(
	`¡ºcmp
(
id
, "string", 5) == 0)

551 
ty³
 = 
SND_SOC_TPLG_TUPLE_TYPE_STRING
;

552 ià(
	`¡ºcmp
(
id
, "bool", 4) == 0)

553 
ty³
 = 
SND_SOC_TPLG_TUPLE_TYPE_BOOL
;

554 ià(
	`¡ºcmp
(
id
, "byte", 4) == 0)

555 
ty³
 = 
SND_SOC_TPLG_TUPLE_TYPE_BYTE
;

556 ià(
	`¡ºcmp
(
id
, "short", 5) == 0)

557 
ty³
 = 
SND_SOC_TPLG_TUPLE_TYPE_SHORT
;

558 ià(
	`¡ºcmp
(
id
, "word", 4) == 0)

559 
ty³
 = 
SND_SOC_TPLG_TUPLE_TYPE_WORD
;

561 
	`SNDERR
("”rÜ: inv®idu¶ty³ '%s'\n", 
id
);

562  -
EINVAL
;

565 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
)

566 
num_tu¶es
++;

567 ià(!
num_tu¶es
)

570 
	`lg_dbg
("\ˆ%d % tu¶es:\n", 
num_tu¶es
, 
id
);

571 
£t
 = 
	`ÿÎoc
(1, (*£tè+ 
num_tu¶es
 * (
lg_tu¶e
));

572 ià(!
£t
)

573  -
ENOMEM
;

575 
£t
->
ty³
 =ype;

577 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

579 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

582 ià(
	`¢d_cÚfig_g‘_id
(
n
, &
id
) < 0)

586 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®ue
) < 0)

589 
tu¶e
 = &
£t
->tu¶e[£t->
num_tu¶es
];

590 
	`–em_cİy_‹xt
(
tu¶e
->
tok’
, 
id
,

591 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

593 
ty³
) {

594 
SND_SOC_TPLG_TUPLE_TYPE_UUID
:

595 ià(
	`g‘_uuid
(
v®ue
, 
tu¶e
->
uuid
) < 0)

596 
”r
;

599 
SND_SOC_TPLG_TUPLE_TYPE_STRING
:

600 
	`–em_cİy_‹xt
(
tu¶e
->
¡ršg
, 
v®ue
,

601 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

602 
	`lg_dbg
("\t\t% ğ%s\n", 
tu¶e
->
tok’
,u¶e->
¡ršg
);

605 
SND_SOC_TPLG_TUPLE_TYPE_BOOL
:

606 ià(
	`¡rcmp
(
v®ue
, "true") == 0)

607 
tu¶e
->
v®ue
 = 1;

608 
	`lg_dbg
("\t\t% ğ%d\n", 
tu¶e
->
tok’
,u¶e->
v®ue
);

611 
SND_SOC_TPLG_TUPLE_TYPE_BYTE
:

612 
SND_SOC_TPLG_TUPLE_TYPE_SHORT
:

613 
SND_SOC_TPLG_TUPLE_TYPE_WORD
:

614 
”ºo
 = 0;

616 
tu¶e_v®
 = 
	`¡¹oul
(
v®ue
, 
NULL
, 0);

617 ià((
”ºo
 =ğ
ERANGE
 && 
tu¶e_v®
 =ğ
ULONG_MAX
)

618 || (
”ºo
 !ğ0 && 
tu¶e_v®
 == 0)) {

619 
	`SNDERR
("”rÜ:u¶%s:¡¹ouÈç\n", 
id
);

620 
”r
;

623 ià((
ty³
 =ğ
SND_SOC_TPLG_TUPLE_TYPE_WORD


624 && 
tu¶e_v®
 > 
UINT_MAX
)

625 || (
ty³
 =ğ
SND_SOC_TPLG_TUPLE_TYPE_SHORT


626 && 
tu¶e_v®
 > 
USHRT_MAX
)

627 || (
ty³
 =ğ
SND_SOC_TPLG_TUPLE_TYPE_BYTE


628 && 
tu¶e_v®
 > 
UCHAR_MAX
)) {

629 
	`SNDERR
("”rÜ:u¶%s: inv®id v®ue\n", 
id
);

630 
”r
;

633 
tu¶e
->
v®ue
 = (è
tu¶e_v®
;

634 
	`lg_dbg
("\t\t% ğ0x%x\n", 
tu¶e
->
tok’
,u¶e->
v®ue
);

641 
£t
->
num_tu¶es
++;

644 *
s
 = 
£t
;

647 
”r
:

648 
	`ä“
(
£t
);

649  -
EINVAL
;

650 
	}
}

652 
	$·r£_tu¶e_£ts
(
¢d_cÚfig_t
 *
cfg
,

653 
lg_v’dÜ_tu¶es
 *
tu¶es
)

655 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

656 
¢d_cÚfig_t
 *
n
;

657 cÚ¡ *
id
;

658 
num_tu¶e_£ts
 = 0;

659 
”r
;

661 ià(
	`¢d_cÚfig_g‘_ty³
(
cfg
è!ğ
SND_CONFIG_TYPE_COMPOUND
) {

662 ià(
	`¢d_cÚfig_g‘_id
(
cfg
, &
id
) >= 0)

663 
	`SNDERR
("”rÜ: compoundy³ƒx³ùed fÜ %s", 
id
);

664  -
EINVAL
;

667 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

668 
num_tu¶e_£ts
++;

671 ià(!
num_tu¶e_£ts
)

674 
tu¶es
->
£t
 = 
	`ÿÎoc
(1, 
num_tu¶e_£ts
 * (*));

675 ià(!
tu¶es
->
£t
)

676  -
ENOMEM
;

678 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

679 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

680 ià(
	`¢d_cÚfig_g‘_ty³
(
n
è!ğ
SND_CONFIG_TYPE_COMPOUND
) {

681 
	`SNDERR
("error: compoundypeƒxpected for %s, is %d",

682 
id
, 
	`¢d_cÚfig_g‘_ty³
(
n
));

683  -
EINVAL
;

686 
”r
 = 
	`·r£_tu¶e_£t
(
n
, &
tu¶es
->
£t
[tu¶es->
num_£ts
]);

687 ià(
”r
 < 0)

688  
”r
;

691 ià(
tu¶es
->
£t
[tu¶es->
num_£ts
])

692 
tu¶es
->
num_£ts
++;

696 
	}
}

701 
	$·r£_tu¶es_»fs
(
¢d_cÚfig_t
 *
cfg
,

702 
lg_–em
 *
–em
)

704 
¢d_cÚfig_ty³_t
 
ty³
;

705 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

706 
¢d_cÚfig_t
 *
n
;

707 cÚ¡ *
v®
 = 
NULL
;

709 
ty³
 = 
	`¢d_cÚfig_g‘_ty³
(
cfg
);

712 ià(
ty³
 =ğ
SND_CONFIG_TYPE_STRING
) {

713 ià(
	`¢d_cÚfig_g‘_¡ršg
(
cfg
, &
v®
) < 0)

714  -
EINVAL
;

715 
	`lg_dbg
("\‰u¶es: %s\n", 
v®
);

716  
	`lg_»f_add
(
–em
, 
SND_TPLG_TYPE_TUPLE
, 
v®
);

719 ià(
ty³
 !ğ
SND_CONFIG_TYPE_COMPOUND
) {

720 
	`SNDERR
("”rÜ: compoundy³ƒx³ùed fÜ %s", 
–em
->
id
);

721  -
EINVAL
;

725 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

726 cÚ¡ *
v®
;

728 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

729 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

732 
	`lg_dbg
("\‰u¶es: %s\n", 
v®
);

733 
	`lg_»f_add
(
–em
, 
SND_TPLG_TYPE_TUPLE
, 
v®
);

737 
	}
}

742 
	$lg_·r£_d©a_»fs
(
¢d_cÚfig_t
 *
cfg
,

743 
lg_–em
 *
–em
)

745 
¢d_cÚfig_ty³_t
 
ty³
;

746 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

747 
¢d_cÚfig_t
 *
n
;

748 cÚ¡ *
v®
 = 
NULL
;

750 
ty³
 = 
	`¢d_cÚfig_g‘_ty³
(
cfg
);

753 ià(
ty³
 =ğ
SND_CONFIG_TYPE_STRING
) {

754 ià(
	`¢d_cÚfig_g‘_¡ršg
(
cfg
, &
v®
) < 0)

755  -
EINVAL
;

757 
	`lg_dbg
("\td©a: %s\n", 
v®
);

758  
	`lg_»f_add
(
–em
, 
SND_TPLG_TYPE_DATA
, 
v®
);

761 ià(
ty³
 !ğ
SND_CONFIG_TYPE_COMPOUND
) {

762 
	`SNDERR
("”rÜ: compoundy³ƒx³ùed fÜ %s", 
–em
->
id
);

763  -
EINVAL
;

767 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

768 cÚ¡ *
v®
;

770 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

771 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

774 
	`lg_dbg
("\td©a: %s\n", 
v®
);

775 
	`lg_»f_add
(
–em
, 
SND_TPLG_TYPE_DATA
, 
v®
);

779 
	}
}

783 
	$lg_·r£_tok’s
(
¢d_lg_t
 *
lg
, 
¢d_cÚfig_t
 *
cfg
,

784 *
´iv©e
 
ATTRIBUTE_UNUSED
)

786 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

787 
¢d_cÚfig_t
 *
n
;

788 cÚ¡ *
id
, *
v®ue
;

789 
lg_–em
 *
–em
;

790 
lg_v’dÜ_tok’s
 *
tok’s
;

791 
num_tok’s
 = 0;

793 
–em
 = 
	`lg_–em_Ãw_commÚ
(
lg
, 
cfg
, 
NULL
, 
SND_TPLG_TYPE_TOKEN
);

794 ià(!
–em
)

795  -
ENOMEM
;

797 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

798 
num_tok’s
++;

801 ià(!
num_tok’s
)

804 
	`lg_dbg
(" V’dÜok’s: %s, %dok’s\n", 
–em
->
id
, 
num_tok’s
);

806 
tok’s
 = 
	`ÿÎoc
(1, (*tokens)

807 + 
num_tok’s
 * (
lg_tok’
));

808 ià(!
tok’s
)

809  -
ENOMEM
;

810 
–em
->
tok’s
 =okens;

812 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

814 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

815 ià(
	`¢d_cÚfig_g‘_id
(
n
, &
id
) < 0)

818 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®ue
) < 0)

821 
	`–em_cİy_‹xt
(
tok’s
->
tok’
[tok’s->
num_tok’s
].
id
, id,

822 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

823 
tok’s
->
tok’
[tok’s->
num_tok’s
].
v®ue
 = 
	`©oi
(value);

824 
	`lg_dbg
("\t\ˆ% : %d\n", 
tok’s
->
tok’
[tok’s->
num_tok’s
].
id
,

825 
tok’s
->
tok’
[tok’s->
num_tok’s
].
v®ue
);

826 
tok’s
->
num_tok’s
++;

830 
	}
}

834 
	$lg_·r£_tu¶es
(
¢d_lg_t
 *
lg
, 
¢d_cÚfig_t
 *
cfg
,

835 *
´iv©e
 
ATTRIBUTE_UNUSED
)

837 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

838 
¢d_cÚfig_t
 *
n
;

839 cÚ¡ *
id
, *
v®ue
;

840 
lg_–em
 *
–em
;

841 
lg_v’dÜ_tu¶es
 *
tu¶es
;

842 
”r
;

844 
–em
 = 
	`lg_–em_Ãw_commÚ
(
lg
, 
cfg
, 
NULL
, 
SND_TPLG_TYPE_TUPLE
);

845 ià(!
–em
)

846  -
ENOMEM
;

848 
	`lg_dbg
(" V’dÜ Tu¶es: %s\n", 
–em
->
id
);

850 
tu¶es
 = 
	`ÿÎoc
(1, (*tuples));

851 ià(!
tu¶es
)

852  -
ENOMEM
;

853 
–em
->
tu¶es
 =uples;

855 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

857 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

858 ià(
	`¢d_cÚfig_g‘_id
(
n
, &
id
) < 0)

861 ià(
	`¡rcmp
(
id
, "tokens") == 0) {

862 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®ue
) < 0)

863  -
EINVAL
;

864 
	`lg_»f_add
(
–em
, 
SND_TPLG_TYPE_TOKEN
, 
v®ue
);

865 
	`lg_dbg
("\ˆ»ã¸tØv’dÜok’s: %s\n", 
v®ue
);

868 ià(
	`¡rcmp
(
id
, "tuples") == 0) {

869 
”r
 = 
	`·r£_tu¶e_£ts
(
n
, 
tu¶es
);

870 ià(
”r
 < 0)

871  
”r
;

876 
	}
}

879 
	$lg_ä“_tu¶es
(*
obj
)

881 
lg_v’dÜ_tu¶es
 *
tu¶es
 = (lg_v’dÜ_tu¶e *)
obj
;

882 
i
;

884 ià(!
tu¶es
 || !tu¶es->
£t
)

887 
i
 = 0; i < 
tu¶es
->
num_£ts
; i++)

888 
	`ä“
(
tu¶es
->
£t
[
i
]);

890 
	`ä“
(
tu¶es
->
£t
);

891 
	}
}

895 
	$lg_·r£_mªiã¡_d©a
(
¢d_lg_t
 *
lg
, 
¢d_cÚfig_t
 *
cfg
,

896 *
´iv©e
 
ATTRIBUTE_UNUSED
)

898 
¢d_soc_lg_mªiã¡
 *
mªiã¡
;

899 
lg_–em
 *
–em
;

900 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

901 
¢d_cÚfig_t
 *
n
;

902 cÚ¡ *
id
;

903 
”r
;

905 ià(!
	`li¡_em±y
(&
lg
->
mªiã¡_li¡
)) {

906 
	`SNDERR
("error:‡lready has manifest data\n");

907  -
EINVAL
;

910 
–em
 = 
	`lg_–em_Ãw_commÚ
(
lg
, 
cfg
, 
NULL
, 
SND_TPLG_TYPE_MANIFEST
);

911 ià(!
–em
)

912  -
ENOMEM
;

914 
mªiã¡
 = 
–em
->manifest;

915 
mªiã¡
->
size
 = 
–em
->size;

917 
	`lg_dbg
(" Mªiã¡: %s\n", 
–em
->
id
);

919 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

920 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

921 ià(
	`¢d_cÚfig_g‘_id
(
n
, &
id
) < 0)

925 ià(
	`¡rcmp
(
id
, "comment") == 0)

927 ià(
id
[0] == '#')

931 ià(
	`¡rcmp
(
id
, "data") == 0) {

932 
”r
 = 
	`lg_·r£_d©a_»fs
(
n
, 
–em
);

933 ià(
”r
 < 0)

934  
”r
;

940 
	}
}

943 
	$lg_bud_mªiã¡_d©a
(
¢d_lg_t
 *
lg
)

945 
li¡_h—d
 *
ba£
, *
pos
;

946 
lg_–em
 *
–em
 = 
NULL
;

947 
lg_»f
 *
»f
;

948 
¢d_soc_lg_mªiã¡
 *
mªiã¡
;

949 
”r
 = 0;

951 
ba£
 = &
lg
->
mªiã¡_li¡
;

952 
	`li¡_fÜ_—ch
(
pos
, 
ba£
) {

954 
–em
 = 
	`li¡_’Œy
(
pos
, 
lg_–em
, 
li¡
);

958 ià(!
–em
)

961 
ba£
 = &
–em
->
»f_li¡
;

964 
	`li¡_fÜ_—ch
(
pos
, 
ba£
) {

966 
»f
 = 
	`li¡_’Œy
(
pos
, 
lg_»f
, 
li¡
);

967 ià(
»f
->
–em
)

970 ià(
»f
->
ty³
 =ğ
SND_TPLG_TYPE_DATA
) {

971 
”r
 = 
	`lg_cİy_d©a
(
lg
, 
–em
, 
»f
);

972 ià(
”r
 < 0)

973  
”r
;

977 
mªiã¡
 = 
–em
->manifest;

978 ià(!
mªiã¡
->
´iv
.
size
)

981 
lg
->
mªiã¡_pd©a
 = 
	`m®loc
(
mªiã¡
->
´iv
.
size
);

982 ià(!
lg
->
mªiã¡_pd©a
)

983  -
ENOMEM
;

985 
lg
->
mªiã¡
.
´iv
.
size
 = manifest->priv.size;

986 
	`memıy
(
lg
->
mªiã¡_pd©a
, 
mªiã¡
->
´iv
.
d©a
, mªiã¡->´iv.
size
);

988 
	}
}

995 
	$lg_·r£_d©a
(
¢d_lg_t
 *
lg
, 
¢d_cÚfig_t
 *
cfg
,

996 *
´iv©e
 
ATTRIBUTE_UNUSED
)

998 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

999 
¢d_cÚfig_t
 *
n
;

1000 cÚ¡ *
id
, *
v®
 = 
NULL
;

1001 
”r
 = 0;

1002 
lg_–em
 *
–em
;

1004 
–em
 = 
	`lg_–em_Ãw_commÚ
(
lg
, 
cfg
, 
NULL
, 
SND_TPLG_TYPE_DATA
);

1005 ià(!
–em
)

1006  -
ENOMEM
;

1008 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

1010 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

1011 ià(
	`¢d_cÚfig_g‘_id
(
n
, &
id
) < 0) {

1015 ià(
	`¡rcmp
(
id
, "file") == 0) {

1016 
”r
 = 
	`lg_·r£_d©a_fe
(
n
, 
–em
);

1017 ià(
”r
 < 0) {

1018 
	`SNDERR
("error: failedo…arse data file\n");

1019  
”r
;

1024 ià(
	`¡rcmp
(
id
, "bytes") == 0) {

1025 
”r
 = 
	`lg_·r£_d©a_hex
(
n
, 
–em
, 1);

1026 ià(
”r
 < 0) {

1027 
	`SNDERR
("error: failedo…arse data bytes\n");

1028  
”r
;

1033 ià(
	`¡rcmp
(
id
, "shorts") == 0) {

1034 
”r
 = 
	`lg_·r£_d©a_hex
(
n
, 
–em
, 2);

1035 ià(
”r
 < 0) {

1036 
	`SNDERR
("error: failedo…arse data shorts\n");

1037  
”r
;

1042 ià(
	`¡rcmp
(
id
, "words") == 0) {

1043 
”r
 = 
	`lg_·r£_d©a_hex
(
n
, 
–em
, 4);

1044 ià(
”r
 < 0) {

1045 
	`SNDERR
("error: failedo…arse data words\n");

1046  
”r
;

1051 ià(
	`¡rcmp
(
id
, "tuples") == 0) {

1052 
”r
 = 
	`·r£_tu¶es_»fs
(
n
, 
–em
);

1053 ià(
”r
 < 0)

1054  
”r
;

1058 ià(
	`¡rcmp
(
id
, "type") == 0) {

1059 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

1060  -
EINVAL
;

1062 
–em
->
v’dÜ_ty³
 = 
	`©oi
(
v®
);

1063 
	`lg_dbg
("\t%s: %d\n", 
id
, 
–em
->
šdex
);

1068  
”r
;

1069 
	}
}

1076 
	$lg_cİy_d©a
(
¢d_lg_t
 *
lg
, 
lg_–em
 *
–em
,

1077 
lg_»f
 *
»f
)

1079 
lg_–em
 *
»f_–em
;

1080 
¢d_soc_lg_´iv©e
 *
´iv
, *
Şd_´iv
;

1081 
´iv_d©a_size
, 
Şd_´iv_d©a_size
;

1082 *
obj
;

1084 
»f_–em
 = 
	`lg_–em_lookup
(&
lg
->
pd©a_li¡
,

1085 
»f
->
id
, 
SND_TPLG_TYPE_DATA
, 
–em
->
šdex
);

1086 ià(!
»f_–em
) {

1087 
	`SNDERR
("error: cannot find data '%s'„eferenced by"

1088 "ƒËm’ˆ'%s'\n", 
»f
->
id
, 
–em
->id);

1089  -
EINVAL
;

1092 
	`lg_dbg
("D©¨'%s' u£d by '%s'\n", 
»f
->
id
, 
–em
->id);

1094 ià(!
»f_–em
->
d©a
 || !»f_–em->d©a->
size
) {

1095 
»f
->
–em
 = 
»f_–em
;

1099 
Şd_´iv
 = 
	`g‘_´iv_d©a
(
–em
);

1100 ià(!
Şd_´iv
)

1101  -
EINVAL
;

1102 
Şd_´iv_d©a_size
 = 
Şd_´iv
->
size
;

1104 
´iv_d©a_size
 = 
»f_–em
->
d©a
->
size
;

1105 
obj
 = 
	`»®loc
(
–em
->obj,

1106 
–em
->
size
 + 
´iv_d©a_size
);

1107 ià(!
obj
)

1108  -
ENOMEM
;

1109 
–em
->
obj
 = obj;

1111 
´iv
 = 
	`g‘_´iv_d©a
(
–em
);

1112 ià(!
´iv
)

1113  -
EINVAL
;

1116 
–em
->
size
 +ğ
´iv_d©a_size
;

1117 
´iv
->
size
 = 
´iv_d©a_size
 + 
Şd_´iv_d©a_size
;

1118 
»f_–em
->
compound_–em
 = 1;

1119 
	`memıy
(
´iv
->
d©a
 + 
Şd_´iv_d©a_size
,

1120 
»f_–em
->
d©a
->d©a, 
´iv_d©a_size
);

1122 
»f
->
–em
 = 
»f_–em
;

1124 
	}
}

1127 
	$lg_bud_d©a
(
¢d_lg_t
 *
lg
)

1129 
li¡_h—d
 *
ba£
, *
pos
;

1130 
lg_–em
 *
–em
;

1131 
”r
 = 0;

1133 
ba£
 = &
lg
->
pd©a_li¡
;

1134 
	`li¡_fÜ_—ch
(
pos
, 
ba£
) {

1136 
–em
 = 
	`li¡_’Œy
(
pos
, 
lg_–em
, 
li¡
);

1137 ià(
	`has_tu¶es
(
–em
)) {

1138 
”r
 = 
	`bud_tu¶es
(
lg
, 
–em
);

1139 ià(
”r
 < 0)

1140  
”r
;

1145 
	}
}

	@elem.c

20 
	~"li¡.h
"

21 
	~"lg_loÿl.h
"

23 
	$lg_»f_add
(
lg_–em
 *
–em
, 
ty³
, cÚ¡ * 
id
)

25 
lg_»f
 *
»f
;

27 
»f
 = 
	`ÿÎoc
(1, (*ref));

28 ià(!
»f
)

29  -
ENOMEM
;

31 
	`¡ºıy
(
»f
->
id
, id, 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

32 
»f
->
id
[
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
 - 1] = 0;

33 
»f
->
ty³
 =ype;

35 
	`li¡_add_
(&
»f
->
li¡
, &
–em
->
»f_li¡
);

37 
	}
}

40 
	$lg_»f_add_–em
(
lg_–em
 *
–em
, lg_–em *
–em_»f
)

42 
lg_»f
 *
»f
;

44 
»f
 = 
	`ÿÎoc
(1, (*ref));

45 ià(!
»f
)

46  -
ENOMEM
;

48 
»f
->
ty³
 = 
–em_»f
->type;

49 
»f
->
–em
 = 
–em_»f
;

50 
	`–em_cİy_‹xt
(
»f
->
id
, 
–em_»f
->id, 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

52 
	`li¡_add_
(&
»f
->
li¡
, &
–em
->
»f_li¡
);

54 
	}
}

56 
	$lg_»f_ä“_li¡
(
li¡_h—d
 *
ba£
)

58 
li¡_h—d
 *
pos
, *
Åos
;

59 
lg_»f
 *
»f
;

61 
	`li¡_fÜ_—ch_§ã
(
pos
, 
Åos
, 
ba£
) {

62 
»f
 = 
	`li¡_’Œy
(
pos
, 
lg_»f
, 
li¡
);

63 
	`li¡_d–
(&
»f
->
li¡
);

64 
	`ä“
(
»f
);

66 
	}
}

68 
lg_–em
 *
	$lg_–em_Ãw
()

70 
lg_–em
 *
–em
;

72 
–em
 = 
	`ÿÎoc
(1, (*elem));

73 ià(!
–em
)

74  
NULL
;

76 
	`INIT_LIST_HEAD
(&
–em
->
»f_li¡
);

77  
–em
;

78 
	}
}

80 
	$lg_–em_ä“
(
lg_–em
 *
–em
)

82 
	`lg_»f_ä“_li¡
(&
–em
->
»f_li¡
);

87 ià(
–em
->
obj
) {

88 ià(
–em
->
ä“
)

89 
–em
->
	`ä“
ÓËm->
obj
);

91 
	`ä“
(
–em
->
obj
);

94 
	`ä“
(
–em
);

95 
	}
}

97 
	$lg_–em_ä“_li¡
(
li¡_h—d
 *
ba£
)

99 
li¡_h—d
 *
pos
, *
Åos
;

100 
lg_–em
 *
–em
;

102 
	`li¡_fÜ_—ch_§ã
(
pos
, 
Åos
, 
ba£
) {

103 
–em
 = 
	`li¡_’Œy
(
pos
, 
lg_–em
, 
li¡
);

104 
	`li¡_d–
(&
–em
->
li¡
);

105 
	`lg_–em_ä“
(
–em
);

107 
	}
}

109 
lg_–em
 *
	$lg_–em_lookup
(
li¡_h—d
 *
ba£
, cÚ¡ * 
id
,

110 
ty³
, 
šdex
)

112 
li¡_h—d
 *
pos
;

113 
lg_–em
 *
–em
;

115 ià(!
ba£
 || !
id
)

116  
NULL
;

118 
	`li¡_fÜ_—ch
(
pos
, 
ba£
) {

120 
–em
 = 
	`li¡_’Œy
(
pos
, 
lg_–em
, 
li¡
);

122 ià(!
	`¡rcmp
(
–em
->
id
, idè&&ƒËm->
ty³
 ==ype)

123  
–em
;

126 ià((
šdex
 !ğ
SND_TPLG_INDEX_ALL
)

127 && (
–em
->
šdex
 > index))

131  
NULL
;

132 
	}
}

135 
	$lg_–em_š£¹
(
lg_–em
 *
–em_p
, 
li¡_h—d
 *
li¡
)

137 
li¡_h—d
 *
pos
, *
p
 = &(
–em_p
->
li¡
);

138 
lg_–em
 *
–em
;

140 
	`li¡_fÜ_—ch
(
pos
, 
li¡
) {

141 
–em
 = 
	`li¡_’Œy
(
pos
, 
lg_–em
, 
li¡
);

142 ià(
–em_p
->
šdex
 < 
–em
->index)

145 
p
->
´ev
 = 
pos
->prev;

146 
pos
->
´ev
->
Ãxt
 = 
p
;

147 
pos
->
´ev
 = 
p
;

148 
p
->
Ãxt
 = 
pos
;

149 
	}
}

152 
lg_–em
* 
	$lg_–em_Ãw_commÚ
(
¢d_lg_t
 *
lg
,

153 
¢d_cÚfig_t
 *
cfg
, cÚ¡ *
Çme
, 
¢d_lg_ty³
 
ty³
)

155 
lg_–em
 *
–em
;

156 cÚ¡ *
id
, *
v®
 = 
NULL
;

157 
obj_size
 = 0;

158 *
obj
;

159 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

160 
¢d_cÚfig_t
 *
n
;

162 ià(!
cfg
 && !
Çme
)

163  
NULL
;

165 
–em
 = 
	`lg_–em_Ãw
();

166 ià(!
–em
)

167  
NULL
;

170 ià(
cfg
) {

171 
	`¢d_cÚfig_g‘_id
(
cfg
, &
id
);

172 
	`–em_cİy_‹xt
(
–em
->
id
, id, 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

173 
–em
->
id
[
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
 - 1] = 0;

176 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

177 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

178 ià(
	`¢d_cÚfig_g‘_id
(
n
, &
id
))

180 ià(
	`¡rcmp
(
id
, "index") == 0) {

181 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0) {

182 
	`ä“
(
–em
);

183  
NULL
;

185 
–em
->
šdex
 = 
	`©oi
(
v®
);

188 } ià(
Çme
 !ğ
NULL
)

189 
	`–em_cİy_‹xt
(
–em
->
id
, 
Çme
, 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

191 
ty³
) {

192 
SND_TPLG_TYPE_DATA
:

193 
	`lg_–em_š£¹
(
–em
, &
lg
->
pd©a_li¡
);

195 
SND_TPLG_TYPE_MANIFEST
:

196 
	`lg_–em_š£¹
(
–em
, &
lg
->
mªiã¡_li¡
);

197 
obj_size
 = (
¢d_soc_lg_mªiã¡
);

199 
SND_TPLG_TYPE_TEXT
:

200 
	`lg_–em_š£¹
(
–em
, &
lg
->
‹xt_li¡
);

201 
obj_size
 = (
lg_‹xts
);

203 
SND_TPLG_TYPE_TLV
:

204 
	`lg_–em_š£¹
(
–em
, &
lg
->
v_li¡
);

205 
–em
->
size
 = (
¢d_soc_lg_ùl_v
);

207 
SND_TPLG_TYPE_BYTES
:

208 
	`lg_–em_š£¹
(
–em
, &
lg
->
by‹s_ext_li¡
);

209 
obj_size
 = (
¢d_soc_lg_by‹s_cÚŒŞ
);

211 
SND_TPLG_TYPE_ENUM
:

212 
	`lg_–em_š£¹
(
–em
, &
lg
->
’um_li¡
);

213 
obj_size
 = (
¢d_soc_lg_’um_cÚŒŞ
);

215 
SND_TPLG_TYPE_MIXER
:

216 
	`lg_–em_š£¹
(
–em
, &
lg
->
mix”_li¡
);

217 
obj_size
 = (
¢d_soc_lg_mix”_cÚŒŞ
);

219 
SND_TPLG_TYPE_DAPM_WIDGET
:

220 
	`lg_–em_š£¹
(
–em
, &
lg
->
widg‘_li¡
);

221 
obj_size
 = (
¢d_soc_lg_d­m_widg‘
);

223 
SND_TPLG_TYPE_STREAM_CONFIG
:

224 
	`lg_–em_š£¹
(
–em
, &
lg
->
pcm_cÚfig_li¡
);

225 
obj_size
 = (
¢d_soc_lg_¡»am
);

227 
SND_TPLG_TYPE_STREAM_CAPS
:

228 
	`lg_–em_š£¹
(
–em
, &
lg
->
pcm_ÿps_li¡
);

229 
obj_size
 = (
¢d_soc_lg_¡»am_ÿps
);

231 
SND_TPLG_TYPE_PCM
:

232 
	`lg_–em_š£¹
(
–em
, &
lg
->
pcm_li¡
);

233 
obj_size
 = (
¢d_soc_lg_pcm
);

235 
SND_TPLG_TYPE_DAI
:

236 
	`lg_–em_š£¹
(
–em
, &
lg
->
dai_li¡
);

237 
obj_size
 = (
¢d_soc_lg_dai
);

239 
SND_TPLG_TYPE_BE
:

240 
SND_TPLG_TYPE_LINK
:

241 
	`lg_–em_š£¹
(
–em
, &
lg
->
be_li¡
);

242 
obj_size
 = (
¢d_soc_lg_lšk_cÚfig
);

244 
SND_TPLG_TYPE_CC
:

245 
	`lg_–em_š£¹
(
–em
, &
lg
->
cc_li¡
);

246 
obj_size
 = (
¢d_soc_lg_lšk_cÚfig
);

248 
SND_TPLG_TYPE_TOKEN
:

249 
	`lg_–em_š£¹
(
–em
, &
lg
->
tok’_li¡
);

251 
SND_TPLG_TYPE_TUPLE
:

252 
	`lg_–em_š£¹
(
–em
, &
lg
->
tu¶e_li¡
);

253 
–em
->
ä“
 = 
lg_ä“_tu¶es
;

255 
SND_TPLG_TYPE_HW_CONFIG
:

256 
	`lg_–em_š£¹
(
–em
, &
lg
->
hw_cfg_li¡
);

257 
obj_size
 = (
¢d_soc_lg_hw_cÚfig
);

260 
	`ä“
(
–em
);

261  
NULL
;

265 ià(
obj_size
 > 0) {

266 
obj
 = 
	`ÿÎoc
(1, 
obj_size
);

267 ià(
obj
 =ğ
NULL
) {

268 
	`ä“
(
–em
);

269  
NULL
;

272 
–em
->
obj
 = obj;

273 
–em
->
size
 = 
obj_size
;

276 
–em
->
ty³
 =ype;

277  
–em
;

278 
	}
}

	@ops.c

20 
	~"li¡.h
"

21 
	~"lg_loÿl.h
"

24 cÚ¡ 
m­_–em
 
	gcÚŒŞ_m­
[] = {

25 {"vŞsw", 
SND_SOC_TPLG_CTL_VOLSW
},

26 {"vŞsw_sx", 
SND_SOC_TPLG_CTL_VOLSW_SX
},

27 {"vŞsw_xr_sx", 
SND_SOC_TPLG_CTL_VOLSW_XR_SX
},

28 {"’um", 
SND_SOC_TPLG_CTL_ENUM
},

29 {"by‹s", 
SND_SOC_TPLG_CTL_BYTES
},

30 {"’um_v®ue", 
SND_SOC_TPLG_CTL_ENUM_VALUE
},

31 {"¿nge", 
SND_SOC_TPLG_CTL_RANGE
},

32 {"¡robe", 
SND_SOC_TPLG_CTL_STROBE
},

35 
	$lookup_İs
(cÚ¡ *
c
)

37 
i
;

39 
i
 = 0; i < 
	`ARRAY_SIZE
(
cÚŒŞ_m­
); i++) {

40 ià(
	`¡rcmp
(
cÚŒŞ_m­
[
i
].
Çme
, 
c
) == 0)

41  
cÚŒŞ_m­
[
i
].
id
;

45  
	`©oi
(
c
);

46 
	}
}

51 
	$lg_·r£_İs
(
¢d_lg_t
 *
lg
 
ATTRIBUTE_UNUSED
,

52 
¢d_cÚfig_t
 *
cfg
, *
´iv©e
)

54 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

55 
¢d_cÚfig_t
 *
n
;

56 
¢d_soc_lg_ùl_hdr
 *
hdr
 = 
´iv©e
;

57 cÚ¡ *
id
, *
v®ue
;

59 
	`lg_dbg
("\tOps\n");

60 
hdr
->
size
 = (*hdr);

62 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

64 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

67 ià(
	`¢d_cÚfig_g‘_id
(
n
, &
id
) < 0)

71 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®ue
) < 0)

74 ià(
	`¡rcmp
(
id
, "info") == 0)

75 
hdr
->
İs
.
šfo
 = 
	`lookup_İs
(
v®ue
);

76 ià(
	`¡rcmp
(
id
, "put") == 0)

77 
hdr
->
İs
.
put
 = 
	`lookup_İs
(
v®ue
);

78 ià(
	`¡rcmp
(
id
, "get") == 0)

79 
hdr
->
İs
.
g‘
 = 
	`lookup_İs
(
v®ue
);

81 
	`lg_dbg
("\t\t% ğ%s\n", 
id
, 
v®ue
);

85 
	}
}

90 
	$lg_·r£_ext_İs
(
¢d_lg_t
 *
lg
 
ATTRIBUTE_UNUSED
,

91 
¢d_cÚfig_t
 *
cfg
, *
´iv©e
)

93 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

94 
¢d_cÚfig_t
 *
n
;

95 
¢d_soc_lg_by‹s_cÚŒŞ
 *
be
 = 
´iv©e
;

96 cÚ¡ *
id
, *
v®ue
;

98 
	`lg_dbg
("\tExt Ops\n");

100 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

102 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

105 ià(
	`¢d_cÚfig_g‘_id
(
n
, &
id
) < 0)

109 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®ue
) < 0)

112 ià(
	`¡rcmp
(
id
, "info") == 0)

113 
be
->
ext_İs
.
šfo
 = 
	`lookup_İs
(
v®ue
);

114 ià(
	`¡rcmp
(
id
, "put") == 0)

115 
be
->
ext_İs
.
put
 = 
	`lookup_İs
(
v®ue
);

116 ià(
	`¡rcmp
(
id
, "get") == 0)

117 
be
->
ext_İs
.
g‘
 = 
	`lookup_İs
(
v®ue
);

119 
	`lg_dbg
("\t\t% ğ%s\n", 
id
, 
v®ue
);

123 
	}
}

	@parser.c

20 
	~<sys/¡©.h
>

21 
	~"li¡.h
"

22 
	~"lg_loÿl.h
"

27 
	$lg_·r£_compound
(
¢d_lg_t
 *
lg
, 
¢d_cÚfig_t
 *
cfg
,

28 (*
fú
)(
¢d_lg_t
 *, 
¢d_cÚfig_t
 *, *),

29 *
´iv©e
)

31 cÚ¡ *
id
;

32 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

33 
¢d_cÚfig_t
 *
n
;

34 
”r
 = -
EINVAL
;

36 ià(
	`¢d_cÚfig_g‘_id
(
cfg
, &
id
) < 0)

37  -
EINVAL
;

39 ià(
	`¢d_cÚfig_g‘_ty³
(
cfg
è!ğ
SND_CONFIG_TYPE_COMPOUND
) {

40 
	`SNDERR
("”rÜ: compoundy³ƒx³ùed fÜ %s", 
id
);

41  -
EINVAL
;

45 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

46 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

48 ià(
	`¢d_cÚfig_g‘_ty³
(
cfg
è!ğ
SND_CONFIG_TYPE_COMPOUND
) {

49 
	`SNDERR
("error: compoundypeƒxpected for %s, is %d",

50 
id
, 
	`¢d_cÚfig_g‘_ty³
(
cfg
));

51  -
EINVAL
;

54 
”r
 = 
	`fú
(
lg
, 
n
, 
´iv©e
);

55 ià(
”r
 < 0)

56  
”r
;

59  
”r
;

60 
	}
}

62 
	$lg_·r£_cÚfig
(
¢d_lg_t
 *
lg
, 
¢d_cÚfig_t
 *
cfg
)

64 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

65 
¢d_cÚfig_t
 *
n
;

66 cÚ¡ *
id
;

67 
”r
;

69 ià(
	`¢d_cÚfig_g‘_ty³
(
cfg
è!ğ
SND_CONFIG_TYPE_COMPOUND
) {

70 
	`SNDERR
("error: compoundypeƒxpected‡top†evel");

71  -
EINVAL
;

75 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

77 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

78 ià(
	`¢d_cÚfig_g‘_id
(
n
, &
id
) < 0)

81 ià(
	`¡rcmp
(
id
, "SectionTLV") == 0) {

82 
”r
 = 
	`lg_·r£_compound
(
lg
, 
n
, 
lg_·r£_v
,

83 
NULL
);

84 ià(
”r
 < 0)

85  
”r
;

89 ià(
	`¡rcmp
(
id
, "SectionControlMixer") == 0) {

90 
”r
 = 
	`lg_·r£_compound
(
lg
, 
n
,

91 
lg_·r£_cÚŒŞ_mix”
, 
NULL
);

92 ià(
”r
 < 0)

93  
”r
;

97 ià(
	`¡rcmp
(
id
, "SectionControlEnum") == 0) {

98 
”r
 = 
	`lg_·r£_compound
(
lg
, 
n
,

99 
lg_·r£_cÚŒŞ_’um
, 
NULL
);

100 ià(
”r
 < 0)

101  
”r
;

105 ià(
	`¡rcmp
(
id
, "SectionControlBytes") == 0) {

106 
”r
 = 
	`lg_·r£_compound
(
lg
, 
n
,

107 
lg_·r£_cÚŒŞ_by‹s
, 
NULL
);

108 ià(
”r
 < 0)

109  
”r
;

113 ià(
	`¡rcmp
(
id
, "SectionWidget") == 0) {

114 
”r
 = 
	`lg_·r£_compound
(
lg
, 
n
,

115 
lg_·r£_d­m_widg‘
, 
NULL
);

116 ià(
”r
 < 0)

117  
”r
;

121 ià(
	`¡rcmp
(
id
, "SectionPCMCapabilities") == 0) {

122 
”r
 = 
	`lg_·r£_compound
(
lg
, 
n
,

123 
lg_·r£_¡»am_ÿps
, 
NULL
);

124 ià(
”r
 < 0)

125  
”r
;

129 ià(
	`¡rcmp
(
id
, "SectionPCM") == 0) {

130 
”r
 = 
	`lg_·r£_compound
(
lg
, 
n
,

131 
lg_·r£_pcm
, 
NULL
);

132 ià(
”r
 < 0)

133  
”r
;

137 ià(
	`¡rcmp
(
id
, "SectionDAI") == 0) {

138 
”r
 = 
	`lg_·r£_compound
(
lg
, 
n
,

139 
lg_·r£_dai
, 
NULL
);

140 ià(
”r
 < 0)

141  
”r
;

145 ià(
	`¡rcmp
(
id
, "SectionHWConfig") == 0) {

146 
”r
 = 
	`lg_·r£_compound
(
lg
, 
n
, 
lg_·r£_hw_cÚfig
,

147 
NULL
);

148 ià(
”r
 < 0)

149  
”r
;

153 ià(
	`¡rcmp
(
id
, "SectionLink") == 0

154 || 
	`¡rcmp
(
id
, "SectionBE") == 0) {

155 
”r
 = 
	`lg_·r£_compound
(
lg
, 
n
, 
lg_·r£_lšk
,

156 
NULL
);

157 ià(
”r
 < 0)

158  
”r
;

162 ià(
	`¡rcmp
(
id
, "SectionCC") == 0) {

163 
”r
 = 
	`lg_·r£_compound
(
lg
, 
n
, 
lg_·r£_cc
,

164 
NULL
);

165 ià(
”r
 < 0)

166  
”r
;

170 ià(
	`¡rcmp
(
id
, "SectionGraph") == 0) {

171 
”r
 = 
	`lg_·r£_compound
(
lg
, 
n
,

172 
lg_·r£_d­m_g¿ph
, 
NULL
);

173 ià(
”r
 < 0)

174  
”r
;

178 ià(
	`¡rcmp
(
id
, "SectionText") == 0) {

179 
”r
 = 
	`lg_·r£_compound
(
lg
, 
n
, 
lg_·r£_‹xt
,

180 
NULL
);

181 ià(
”r
 < 0)

182  
”r
;

186 ià(
	`¡rcmp
(
id
, "SectionData") == 0) {

187 
”r
 = 
	`lg_·r£_compound
(
lg
, 
n
, 
lg_·r£_d©a
,

188 
NULL
);

189 ià(
”r
 < 0)

190  
”r
;

194 ià(
	`¡rcmp
(
id
, "SectionVendorTokens") == 0) {

195 
”r
 = 
	`lg_·r£_compound
(
lg
, 
n
, 
lg_·r£_tok’s
,

196 
NULL
);

197 ià(
”r
 < 0)

198  
”r
;

202 ià(
	`¡rcmp
(
id
, "SectionVendorTuples") == 0) {

203 
”r
 = 
	`lg_·r£_compound
(
lg
, 
n
, 
lg_·r£_tu¶es
,

204 
NULL
);

205 ià(
”r
 < 0)

206  
”r
;

210 ià(
	`¡rcmp
(
id
, "SectionManifest") == 0) {

211 
”r
 = 
	`lg_·r£_compound
(
lg
, 
n
,

212 
lg_·r£_mªiã¡_d©a
,

213 
NULL
);

214 ià(
”r
 < 0)

215  
”r
;

219 
	`SNDERR
("”rÜ: unknowÀ£ùiÚ %s\n", 
id
);

222 
	}
}

224 
	$lg_lßd_cÚfig
(cÚ¡ *
fe
, 
¢d_cÚfig_t
 **
cfg
)

226 
FILE
 *
å
;

227 
¢d_šput_t
 *
š
;

228 
¢d_cÚfig_t
 *
tİ
;

229 
»t
;

231 
å
 = 
	`fİ’
(
fe
, "r");

232 ià(
å
 =ğ
NULL
) {

233 
	`SNDERR
("error: could‚ot open configuration file %s",

234 
fe
);

235  -
”ºo
;

238 
»t
 = 
	`¢d_šput_¡dio_©ch
(&
š
, 
å
, 1);

239 ià(
»t
 < 0) {

240 
	`SNDERR
("”rÜ: could‚Ù‡‰ach stdiØ%s", 
fe
);

241 
”r
;

243 
»t
 = 
	`¢d_cÚfig_tİ
(&
tİ
);

244 ià(
»t
 < 0)

245 
”r
;

247 
»t
 = 
	`¢d_cÚfig_lßd
(
tİ
, 
š
);

248 ià(
»t
 < 0) {

249 
	`SNDERR
("error: could‚ot†oad configuration file %s",

250 
fe
);

251 
”r_lßd
;

254 
»t
 = 
	`¢d_šput_şo£
(
š
);

255 ià(
»t
 < 0)

256 
”r_lßd
;

258 *
cfg
 = 
tİ
;

261 
”r_lßd
:

262 
	`¢d_cÚfig_d–‘e
(
tİ
);

263 
”r
:

264 
	`fşo£
(
å
);

265  
»t
;

266 
	}
}

268 
	$lg_bud_š‹g
(
¢d_lg_t
 *
lg
)

270 
”r
;

272 
”r
 = 
	`lg_bud_d©a
(
lg
);

273 ià(
”r
 < 0)

274  
”r
;

276 
”r
 = 
	`lg_bud_mªiã¡_d©a
(
lg
);

277 ià(
”r
 < 0)

278  
”r
;

280 
”r
 = 
	`lg_bud_cÚŒŞs
(
lg
);

281 ià(
”r
 < 0)

282  
”r
;

284 
”r
 = 
	`lg_bud_widg‘s
(
lg
);

285 ià(
”r
 < 0)

286  
”r
;

288 
”r
 = 
	`lg_bud_pcms
(
lg
, 
SND_TPLG_TYPE_PCM
);

289 ià(
”r
 < 0)

290  
”r
;

292 
”r
 = 
	`lg_bud_dais
(
lg
, 
SND_TPLG_TYPE_DAI
);

293 ià(
”r
 < 0)

294  
”r
;

296 
”r
 = 
	`lg_bud_lšks
(
lg
, 
SND_TPLG_TYPE_BE
);

297 ià(
”r
 < 0)

298  
”r
;

300 
”r
 = 
	`lg_bud_lšks
(
lg
, 
SND_TPLG_TYPE_CC
);

301 ià(
”r
 < 0)

302  
”r
;

304 
”r
 = 
	`lg_bud_rou‹s
(
lg
);

305 ià(
”r
 < 0)

306  
”r
;

308  
”r
;

309 
	}
}

311 
	$¢d_lg_bud_fe
(
¢d_lg_t
 *
lg
, cÚ¡ *
šfe
,

312 cÚ¡ *
outfe
)

314 
¢d_cÚfig_t
 *
cfg
 = 
NULL
;

315 
”r
 = 0;

317 
lg
->
out_fd
 =

318 
	`İ’
(
outfe
, 
O_RDWR
 | 
O_CREAT
 | 
O_TRUNC
, 
S_IRUSR
 | 
S_IWUSR
);

319 ià(
lg
->
out_fd
 < 0) {

320 
	`SNDERR
("error: failedo open %sƒrr %d\n",

321 
outfe
, -
”ºo
);

322  -
”ºo
;

325 
”r
 = 
	`lg_lßd_cÚfig
(
šfe
, &
cfg
);

326 ià(
”r
 < 0) {

327 
	`SNDERR
("error: failedo†oadopology file %s\n",

328 
šfe
);

329 
out_şo£
;

332 
”r
 = 
	`lg_·r£_cÚfig
(
lg
, 
cfg
);

333 ià(
”r
 < 0) {

334 
	`SNDERR
("error: failedo…arseopology\n");

335 
out
;

338 
”r
 = 
	`lg_bud_š‹g
(
lg
);

339 ià(
”r
 < 0) {

340 
	`SNDERR
("error: failedo checkopology integrity\n");

341 
out
;

344 
”r
 = 
	`lg_wr™e_d©a
(
lg
);

345 ià(
”r
 < 0) {

346 
	`SNDERR
("”rÜ: faedØwr™d©¨%d\n", 
”r
);

347 
out
;

350 
out
:

351 
	`¢d_cÚfig_d–‘e
(
cfg
);

352 
out_şo£
:

353 
	`şo£
(
lg
->
out_fd
);

354  
”r
;

355 
	}
}

357 
	$¢d_lg_add_objeù
(
¢d_lg_t
 *
lg
, 
¢d_lg_obj_‹m¶©e_t
 *
t
)

359 
t
->
ty³
) {

360 
SND_TPLG_TYPE_MIXER
:

361  
	`lg_add_mix”_objeù
(
lg
, 
t
);

362 
SND_TPLG_TYPE_ENUM
:

363  
	`lg_add_’um_objeù
(
lg
, 
t
);

364 
SND_TPLG_TYPE_BYTES
:

365  
	`lg_add_by‹s_objeù
(
lg
, 
t
);

366 
SND_TPLG_TYPE_DAPM_WIDGET
:

367  
	`lg_add_widg‘_objeù
(
lg
, 
t
);

368 
SND_TPLG_TYPE_DAPM_GRAPH
:

369  
	`lg_add_g¿ph_objeù
(
lg
, 
t
);

370 
SND_TPLG_TYPE_PCM
:

371  
	`lg_add_pcm_objeù
(
lg
, 
t
);

372 
SND_TPLG_TYPE_DAI
:

373  
	`lg_add_dai_objeù
(
lg
, 
t
);

374 
SND_TPLG_TYPE_LINK
:

375 
SND_TPLG_TYPE_BE
:

376 
SND_TPLG_TYPE_CC
:

377  
	`lg_add_lšk_objeù
(
lg
, 
t
);

379 
	`SNDERR
("”rÜ: inv®id objeùy³ %d\n", 
t
->
ty³
);

380  -
EINVAL
;

382 
	}
}

384 
	$¢d_lg_bud
(
¢d_lg_t
 *
lg
, cÚ¡ *
outfe
)

386 
”r
;

388 
lg
->
out_fd
 =

389 
	`İ’
(
outfe
, 
O_RDWR
 | 
O_CREAT
 | 
O_TRUNC
, 
S_IRUSR
 | 
S_IWUSR
);

390 ià(
lg
->
out_fd
 < 0) {

391 
	`SNDERR
("error: failedo open %sƒrr %d\n",

392 
outfe
, -
”ºo
);

393  -
”ºo
;

396 
”r
 = 
	`lg_bud_š‹g
(
lg
);

397 ià(
”r
 < 0) {

398 
	`SNDERR
("error: failedo checkopology integrity\n");

399 
out
;

402 
”r
 = 
	`lg_wr™e_d©a
(
lg
);

403 ià(
”r
 < 0) {

404 
	`SNDERR
("”rÜ: faedØwr™d©¨%d\n", 
”r
);

405 
out
;

408 
out
:

409 
	`şo£
(
lg
->
out_fd
);

410  
”r
;

411 
	}
}

413 
	$¢d_lg_£t_mªiã¡_d©a
(
¢d_lg_t
 *
lg
, cÚ¡ *
d©a
, 
Ën
)

415 ià(
Ën
 <= 0)

418 
lg
->
mªiã¡
.
´iv
.
size
 = 
Ën
;

420 
lg
->
mªiã¡_pd©a
 = 
	`m®loc
(
Ën
);

421 ià(!
lg
->
mªiã¡_pd©a
)

422  -
ENOMEM
;

424 
	`memıy
(
lg
->
mªiã¡_pd©a
, 
d©a
, 
Ën
);

426 
	}
}

428 
	$¢d_lg_£t_v”siÚ
(
¢d_lg_t
 *
lg
, 
v”siÚ
)

430 
lg
->
v”siÚ
 = version;

433 
	}
}

435 
	$¢d_lg_v”bo£
(
¢d_lg_t
 *
lg
, 
v”bo£
)

437 
lg
->
v”bo£
 = verbose;

438 
	}
}

440 
boŞ
 
	$is_l™e_’dŸn
()

442 #ifdeà
__BYTE_ORDER


443 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


444  
Œue
;

447  
çl£
;

448 
	}
}

450 
¢d_lg_t
 *
	$¢d_lg_Ãw
()

452 
¢d_lg_t
 *
lg
;

454 ià(!
	`is_l™e_’dŸn
()) {

455 
	`SNDERR
("error: cannot support big-endian machines\n");

456  
NULL
;

459 
lg
 = 
	`ÿÎoc
(1, (
¢d_lg_t
));

460 ià(!
lg
)

461  
NULL
;

463 
lg
->
mªiã¡
.
size
 = (
¢d_soc_lg_mªiã¡
);

465 
	`INIT_LIST_HEAD
(&
lg
->
v_li¡
);

466 
	`INIT_LIST_HEAD
(&
lg
->
widg‘_li¡
);

467 
	`INIT_LIST_HEAD
(&
lg
->
pcm_li¡
);

468 
	`INIT_LIST_HEAD
(&
lg
->
dai_li¡
);

469 
	`INIT_LIST_HEAD
(&
lg
->
be_li¡
);

470 
	`INIT_LIST_HEAD
(&
lg
->
cc_li¡
);

471 
	`INIT_LIST_HEAD
(&
lg
->
rou‹_li¡
);

472 
	`INIT_LIST_HEAD
(&
lg
->
pd©a_li¡
);

473 
	`INIT_LIST_HEAD
(&
lg
->
mªiã¡_li¡
);

474 
	`INIT_LIST_HEAD
(&
lg
->
‹xt_li¡
);

475 
	`INIT_LIST_HEAD
(&
lg
->
pcm_cÚfig_li¡
);

476 
	`INIT_LIST_HEAD
(&
lg
->
pcm_ÿps_li¡
);

477 
	`INIT_LIST_HEAD
(&
lg
->
mix”_li¡
);

478 
	`INIT_LIST_HEAD
(&
lg
->
’um_li¡
);

479 
	`INIT_LIST_HEAD
(&
lg
->
by‹s_ext_li¡
);

480 
	`INIT_LIST_HEAD
(&
lg
->
tok’_li¡
);

481 
	`INIT_LIST_HEAD
(&
lg
->
tu¶e_li¡
);

482 
	`INIT_LIST_HEAD
(&
lg
->
hw_cfg_li¡
);

484  
lg
;

485 
	}
}

487 
	$¢d_lg_ä“
(
¢d_lg_t
 *
lg
)

489 ià(
lg
->
mªiã¡_pd©a
)

490 
	`ä“
(
lg
->
mªiã¡_pd©a
);

492 
	`lg_–em_ä“_li¡
(&
lg
->
v_li¡
);

493 
	`lg_–em_ä“_li¡
(&
lg
->
widg‘_li¡
);

494 
	`lg_–em_ä“_li¡
(&
lg
->
pcm_li¡
);

495 
	`lg_–em_ä“_li¡
(&
lg
->
dai_li¡
);

496 
	`lg_–em_ä“_li¡
(&
lg
->
be_li¡
);

497 
	`lg_–em_ä“_li¡
(&
lg
->
cc_li¡
);

498 
	`lg_–em_ä“_li¡
(&
lg
->
rou‹_li¡
);

499 
	`lg_–em_ä“_li¡
(&
lg
->
pd©a_li¡
);

500 
	`lg_–em_ä“_li¡
(&
lg
->
mªiã¡_li¡
);

501 
	`lg_–em_ä“_li¡
(&
lg
->
‹xt_li¡
);

502 
	`lg_–em_ä“_li¡
(&
lg
->
pcm_cÚfig_li¡
);

503 
	`lg_–em_ä“_li¡
(&
lg
->
pcm_ÿps_li¡
);

504 
	`lg_–em_ä“_li¡
(&
lg
->
mix”_li¡
);

505 
	`lg_–em_ä“_li¡
(&
lg
->
’um_li¡
);

506 
	`lg_–em_ä“_li¡
(&
lg
->
by‹s_ext_li¡
);

507 
	`lg_–em_ä“_li¡
(&
lg
->
tok’_li¡
);

508 
	`lg_–em_ä“_li¡
(&
lg
->
tu¶e_li¡
);

509 
	`lg_–em_ä“_li¡
(&
lg
->
hw_cfg_li¡
);

511 
	`ä“
(
lg
);

512 
	}
}

	@pcm.c

20 
	~"li¡.h
"

21 
	~"lg_loÿl.h
"

23 
	#RATE
(
v
è[
SND_PCM_RATE_
##v] = #v

	)

25 cÚ¡ *cÚ¡ 
	g¢d_pcm_¿‹_Çmes
[] = {

26 
RATE
(5512),

27 
RATE
(8000),

28 
RATE
(11025),

29 
RATE
(16000),

30 
RATE
(22050),

31 
RATE
(32000),

32 
RATE
(44100),

33 
RATE
(48000),

34 
RATE
(64000),

35 
RATE
(88200),

36 
RATE
(96000),

37 
RATE
(176400),

38 
RATE
(192000),

39 
RATE
(
CONTINUOUS
),

40 
RATE
(
KNOT
),

43 
lg_–em
 *
	$lookup_pcm_dai_¡»am
(
li¡_h—d
 *
ba£
, cÚ¡ * 
id
)

45 
li¡_h—d
 *
pos
;

46 
lg_–em
 *
–em
;

47 
¢d_soc_lg_pcm
 *
pcm
;

49 
	`li¡_fÜ_—ch
(
pos
, 
ba£
) {

51 
–em
 = 
	`li¡_’Œy
(
pos
, 
lg_–em
, 
li¡
);

52 ià(
–em
->
ty³
 !ğ
SND_TPLG_TYPE_PCM
)

53  
NULL
;

55 
pcm
 = 
–em
->pcm;

57 ià(
pcm
 && !
	`¡rcmp
Õcm->
dai_Çme
, 
id
))

58  
–em
;

61  
NULL
;

62 
	}
}

65 
	$cİy_¡»am_ÿps
(cÚ¡ *
id
 
ATTRIBUTE_UNUSED
,

66 
¢d_soc_lg_¡»am_ÿps
 *
ÿps
, 
lg_–em
 *
»f_–em
)

68 
¢d_soc_lg_¡»am_ÿps
 *
»f_ÿps
 = 
»f_–em
->
¡»am_ÿps
;

70 
	`lg_dbg
("Copy…cm caps (%ld bytes) from '%s'o '%s' \n",

71 (*
ÿps
), 
»f_–em
->
id
, id);

73 *
ÿps
 = *
»f_ÿps
;

74 
	}
}

77 
	$lg_bud_¡»am_ÿps
(
¢d_lg_t
 *
lg
,

78 cÚ¡ *
id
, 
šdex
, 
¢d_soc_lg_¡»am_ÿps
 *
ÿps
)

80 
lg_–em
 *
»f_–em
 = 
NULL
;

81 
i
;

83 
i
 = 0; i < 2; i++) {

84 
»f_–em
 = 
	`lg_–em_lookup
(&
lg
->
pcm_ÿps_li¡
,

85 
ÿps
[
i
].
Çme
, 
SND_TPLG_TYPE_STREAM_CAPS
, 
šdex
);

87 ià(
»f_–em
 !ğ
NULL
)

88 
	`cİy_¡»am_ÿps
(
id
, &
ÿps
[
i
], 
»f_–em
);

92 
	}
}

95 
	$bud_pcm
(
¢d_lg_t
 *
lg
, 
lg_–em
 *
–em
)

97 
lg_»f
 *
»f
;

98 
li¡_h—d
 *
ba£
, *
pos
;

99 
”r
;

101 
”r
 = 
	`lg_bud_¡»am_ÿps
(
lg
, 
–em
->
id
,ƒËm->
šdex
,

102 
–em
->
pcm
->
ÿps
);

103 ià(
”r
 < 0)

104  
”r
;

107 
ba£
 = &
–em
->
»f_li¡
;

108 
	`li¡_fÜ_—ch
(
pos
, 
ba£
) {

110 
»f
 = 
	`li¡_’Œy
(
pos
, 
lg_»f
, 
li¡
);

111 ià(
»f
->
ty³
 =ğ
SND_TPLG_TYPE_DATA
) {

112 
”r
 = 
	`lg_cİy_d©a
(
lg
, 
–em
, 
»f
);

113 ià(
”r
 < 0)

114  
”r
;

116 ià(!
»f
->
–em
) {

117 
	`SNDERR
("error: cannot find '%s'„eferenced by"

118 " PCM '%s'\n", 
»f
->
id
, 
–em
->id);

119  -
EINVAL
;

124 
	}
}

127 
	$lg_bud_pcms
(
¢d_lg_t
 *
lg
, 
ty³
)

129 
li¡_h—d
 *
ba£
, *
pos
;

130 
lg_–em
 *
–em
;

131 
”r
 = 0;

133 
ba£
 = &
lg
->
pcm_li¡
;

134 
	`li¡_fÜ_—ch
(
pos
, 
ba£
) {

136 
–em
 = 
	`li¡_’Œy
(
pos
, 
lg_–em
, 
li¡
);

137 ià(
–em
->
ty³
 !=ype) {

138 
	`SNDERR
("”rÜ: inv®idƒËm '%s'\n", 
–em
->
id
);

139  -
EINVAL
;

142 
”r
 = 
	`bud_pcm
(
lg
, 
–em
);

143 ià(
”r
 < 0)

144  
”r
;

147 
lg
->
mªiã¡
.
pcm_–ems
++;

151 
	}
}

154 
	$lg_bud_dai
(
¢d_lg_t
 *
lg
, 
lg_–em
 *
–em
)

156 
lg_»f
 *
»f
;

157 
li¡_h—d
 *
ba£
, *
pos
;

158 
”r
 = 0;

161 
”r
 = 
	`lg_bud_¡»am_ÿps
(
lg
, 
–em
->
id
,ƒËm->
šdex
,

162 
–em
->
dai
->
ÿps
);

163 ià(
”r
 < 0)

164  
”r
;

167 
ba£
 = &
–em
->
»f_li¡
;

168 
	`li¡_fÜ_—ch
(
pos
, 
ba£
) {

170 
»f
 = 
	`li¡_’Œy
(
pos
, 
lg_»f
, 
li¡
);

172 ià(
»f
->
ty³
 =ğ
SND_TPLG_TYPE_DATA
) {

173 
”r
 = 
	`lg_cİy_d©a
(
lg
, 
–em
, 
»f
);

174 ià(
”r
 < 0)

175  
”r
;

180 
lg
->
mªiã¡
.
dai_–ems
++;

183 
	}
}

186 
	$lg_bud_dais
(
¢d_lg_t
 *
lg
, 
ty³
)

188 
li¡_h—d
 *
ba£
, *
pos
;

189 
lg_–em
 *
–em
;

190 
”r
 = 0;

192 
ba£
 = &
lg
->
dai_li¡
;

193 
	`li¡_fÜ_—ch
(
pos
, 
ba£
) {

195 
–em
 = 
	`li¡_’Œy
(
pos
, 
lg_–em
, 
li¡
);

196 ià(
–em
->
ty³
 !=ype) {

197 
	`SNDERR
("”rÜ: inv®idƒËm '%s'\n", 
–em
->
id
);

198  -
EINVAL
;

201 
”r
 = 
	`lg_bud_dai
(
lg
, 
–em
);

202 ià(
”r
 < 0)

203  
”r
;

207 
	}
}

209 
	$lg_bud_¡»am_cfg
(
¢d_lg_t
 *
lg
,

210 
¢d_soc_lg_¡»am
 *
¡»am
, 
num_¡»ams
, 
šdex
)

212 
¢d_soc_lg_¡»am
 *
¡rm
;

213 
lg_–em
 *
»f_–em
;

214 
i
;

216 
i
 = 0; i < 
num_¡»ams
; i++) {

217 
¡rm
 = 
¡»am
 + 
i
;

218 
»f_–em
 = 
	`lg_–em_lookup
(&
lg
->
pcm_cÚfig_li¡
,

219 
¡rm
->
Çme
, 
SND_TPLG_TYPE_STREAM_CONFIG
, 
šdex
);

221 ià(
»f_–em
 &&„ef_–em->
¡»am_cfg
)

222 *
¡rm
 = *
»f_–em
->
¡»am_cfg
;

226 
	}
}

228 
	$bud_lšk
(
¢d_lg_t
 *
lg
, 
lg_–em
 *
–em
)

230 
¢d_soc_lg_lšk_cÚfig
 *
lšk
 = 
–em
->link;

231 
lg_»f
 *
»f
;

232 
li¡_h—d
 *
ba£
, *
pos
;

233 
num_hw_cÚfigs
 = 0, 
”r
 = 0;

235 
”r
 = 
	`lg_bud_¡»am_cfg
(
lg
, 
lšk
->
¡»am
,

236 
lšk
->
num_¡»ams
, 
–em
->
šdex
);

237 ià(
”r
 < 0)

238  
”r
;

241 
ba£
 = &
–em
->
»f_li¡
;

242 
	`li¡_fÜ_—ch
(
pos
, 
ba£
) {

244 
»f
 = 
	`li¡_’Œy
(
pos
, 
lg_»f
, 
li¡
);

246 
»f
->
ty³
) {

247 
SND_TPLG_TYPE_HW_CONFIG
:

248 
»f
->
–em
 = 
	`lg_–em_lookup
(&
lg
->
hw_cfg_li¡
,

249 
»f
->
id
, 
SND_TPLG_TYPE_HW_CONFIG
, 
–em
->
šdex
);

250 ià(!
»f
->
–em
) {

251 
	`SNDERR
("error: cannot find HW config '%s'"

253 
»f
->
id
, 
–em
->id);

254  -
EINVAL
;

257 
	`memıy
(&
lšk
->
hw_cÚfig
[
num_hw_cÚfigs
],

258 
»f
->
–em
->
hw_cfg
,

259 (
¢d_soc_lg_hw_cÚfig
));

260 
num_hw_cÚfigs
++;

263 
SND_TPLG_TYPE_DATA
:

264 
”r
 = 
	`lg_cİy_d©a
(
lg
, 
–em
, 
»f
);

265 ià(
”r
 < 0)

266  
”r
;

275 
lg
->
mªiã¡
.
dai_lšk_–ems
++;

278 
	}
}

281 
	$lg_bud_lšks
(
¢d_lg_t
 *
lg
, 
ty³
)

283 
li¡_h—d
 *
ba£
, *
pos
;

284 
lg_–em
 *
–em
;

285 
”r
 = 0;

287 
ty³
) {

288 
SND_TPLG_TYPE_LINK
:

289 
SND_TPLG_TYPE_BE
:

290 
ba£
 = &
lg
->
be_li¡
;

292 
SND_TPLG_TYPE_CC
:

293 
ba£
 = &
lg
->
cc_li¡
;

296  -
EINVAL
;

299 
	`li¡_fÜ_—ch
(
pos
, 
ba£
) {

301 
–em
 = 
	`li¡_’Œy
(
pos
, 
lg_–em
, 
li¡
);

302 
”r
 = 
	`bud_lšk
(
lg
, 
–em
);

303 ià(
”r
 < 0)

304  
”r
;

308 
	}
}

310 
	$¥l™_fÜm©
(
¢d_soc_lg_¡»am_ÿps
 *
ÿps
, *
¡r
)

312 *
s
 = 
NULL
;

313 
¢d_pcm_fÜm©_t
 
fÜm©
;

314 
i
 = 0;

316 
s
 = 
	`¡¹ok
(
¡r
, ",");

317 (
s
 !ğ
NULL
è&& (
i
 < 
SND_SOC_TPLG_MAX_FORMATS
)) {

318 
fÜm©
 = 
	`¢d_pcm_fÜm©_v®ue
(
s
);

319 ià(
fÜm©
 =ğ
SND_PCM_FORMAT_UNKNOWN
) {

320 
	`SNDERR
("”rÜ: unsuµÜ‹d sŒ—m fÜm© %s\n", 
s
);

321  -
EINVAL
;

324 
ÿps
->
fÜm©s
 |ğ1 << 
fÜm©
;

325 
s
 = 
	`¡¹ok
(
NULL
, ", ");

326 
i
++;

330 
	}
}

332 
	$g‘_¿‹_v®ue
(cÚ¡ * 
Çme
)

334 
¿‹
;

335 
¿‹
 = 0;„©<ğ
SND_PCM_RATE_LAST
;„ate++) {

336 ià(
¢d_pcm_¿‹_Çmes
[
¿‹
] &&

337 
	`¡rÿ£cmp
(
Çme
, 
¢d_pcm_¿‹_Çmes
[
¿‹
]) == 0) {

338  
¿‹
;

342  
SND_PCM_RATE_UNKNOWN
;

343 
	}
}

345 
	$¥l™_¿‹
(
¢d_soc_lg_¡»am_ÿps
 *
ÿps
, *
¡r
)

347 *
s
 = 
NULL
;

348 
¢d_pcm_¿‹s_t
 
¿‹
;

349 
i
 = 0;

351 
s
 = 
	`¡¹ok
(
¡r
, ",");

352 
s
) {

353 
¿‹
 = 
	`g‘_¿‹_v®ue
(
s
);

355 ià(
¿‹
 =ğ
SND_PCM_RATE_UNKNOWN
) {

356 
	`SNDERR
("”rÜ: unsuµÜ‹d sŒ—m„©%s\n", 
s
);

357  -
EINVAL
;

360 
ÿps
->
¿‹s
 |ğ1 << 
¿‹
;

361 
s
 = 
	`¡¹ok
(
NULL
, ", ");

362 
i
++;

366 
	}
}

369 
	$lg_·r£_¡»am_ÿps
(
¢d_lg_t
 *
lg
,

370 
¢d_cÚfig_t
 *
cfg
, *
´iv©e
 
ATTRIBUTE_UNUSED
)

372 
¢d_soc_lg_¡»am_ÿps
 *
sc
;

373 
lg_–em
 *
–em
;

374 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

375 
¢d_cÚfig_t
 *
n
;

376 cÚ¡ *
id
, *
v®
;

377 *
s
;

378 
”r
;

380 
–em
 = 
	`lg_–em_Ãw_commÚ
(
lg
, 
cfg
, 
NULL
, 
SND_TPLG_TYPE_STREAM_CAPS
);

381 ià(!
–em
)

382  -
ENOMEM
;

384 
sc
 = 
–em
->
¡»am_ÿps
;

385 
sc
->
size
 = 
–em
->size;

386 
	`–em_cİy_‹xt
(
sc
->
Çme
, 
–em
->
id
, 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

388 
	`lg_dbg
(" PCM C­ab™›s: %s\n", 
–em
->
id
);

390 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

391 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

392 ià(
	`¢d_cÚfig_g‘_id
(
n
, &
id
) < 0)

396 ià(
	`¡rcmp
(
id
, "comment") == 0)

398 ià(
id
[0] == '#')

401 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

402  -
EINVAL
;

404 ià(
	`¡rcmp
(
id
, "formats") == 0) {

405 
s
 = 
	`¡rdup
(
v®
);

406 ià(
s
 =ğ
NULL
)

407  -
ENOMEM
;

409 
”r
 = 
	`¥l™_fÜm©
(
sc
, 
s
);

410 
	`ä“
(
s
);

412 ià(
”r
 < 0)

413  
”r
;

415 
	`lg_dbg
("\t\t%s: %s\n", 
id
, 
v®
);

419 ià(
	`¡rcmp
(
id
, "rates") == 0) {

420 
s
 = 
	`¡rdup
(
v®
);

421 ià(!
s
)

422  -
ENOMEM
;

424 
”r
 = 
	`¥l™_¿‹
(
sc
, 
s
);

425 
	`ä“
(
s
);

427 ià(
”r
 < 0)

428  
”r
;

430 
	`lg_dbg
("\t\t%s: %s\n", 
id
, 
v®
);

434 ià(
	`¡rcmp
(
id
, "rate_min") == 0) {

435 
sc
->
¿‹_mš
 = 
	`©oi
(
v®
);

436 
	`lg_dbg
("\t\t%s: %d\n", 
id
, 
sc
->
¿‹_mš
);

440 ià(
	`¡rcmp
(
id
, "rate_max") == 0) {

441 
sc
->
¿‹_max
 = 
	`©oi
(
v®
);

442 
	`lg_dbg
("\t\t%s: %d\n", 
id
, 
sc
->
¿‹_max
);

446 ià(
	`¡rcmp
(
id
, "channels_min") == 0) {

447 
sc
->
chªÃls_mš
 = 
	`©oi
(
v®
);

448 
	`lg_dbg
("\t\t%s: %d\n", 
id
, 
sc
->
chªÃls_mš
);

452 ià(
	`¡rcmp
(
id
, "channels_max") == 0) {

453 
sc
->
chªÃls_max
 = 
	`©oi
(
v®
);

454 
	`lg_dbg
("\t\t%s: %d\n", 
id
, 
sc
->
chªÃls_max
);

458 ià(
	`¡rcmp
(
id
, "periods_min") == 0) {

459 
sc
->
³riods_mš
 = 
	`©oi
(
v®
);

460 
	`lg_dbg
("\t\t%s: %d\n", 
id
, 
sc
->
³riods_mš
);

464 ià(
	`¡rcmp
(
id
, "periods_max") == 0) {

465 
sc
->
³riods_max
 = 
	`©oi
(
v®
);

466 
	`lg_dbg
("\t\t%s: %d\n", 
id
, 
sc
->
³riods_max
);

470 ià(
	`¡rcmp
(
id
, "period_size_min") == 0) {

471 
sc
->
³riod_size_mš
 = 
	`©oi
(
v®
);

472 
	`lg_dbg
("\t\t%s: %d\n", 
id
, 
sc
->
³riod_size_mš
);

476 ià(
	`¡rcmp
(
id
, "period_size_max") == 0) {

477 
sc
->
³riod_size_max
 = 
	`©oi
(
v®
);

478 
	`lg_dbg
("\t\t%s: %d\n", 
id
, 
sc
->
³riod_size_max
);

482 ià(
	`¡rcmp
(
id
, "buffer_size_min") == 0) {

483 
sc
->
bufãr_size_mš
 = 
	`©oi
(
v®
);

484 
	`lg_dbg
("\t\t%s: %d\n", 
id
, 
sc
->
bufãr_size_mš
);

488 ià(
	`¡rcmp
(
id
, "buffer_size_max") == 0) {

489 
sc
->
bufãr_size_max
 = 
	`©oi
(
v®
);

490 
	`lg_dbg
("\t\t%s: %d\n", 
id
, 
sc
->
bufãr_size_max
);

494 ià(
	`¡rcmp
(
id
, "sig_bits") == 0) {

495 
sc
->
sig_b™s
 = 
	`©oi
(
v®
);

496 
	`lg_dbg
("\t\t%s: %d\n", 
id
, 
sc
->
sig_b™s
);

503 
	}
}

506 
	$lg_·r£_¡»ams
(
¢d_lg_t
 *
lg
 
ATTRIBUTE_UNUSED
,

507 
¢d_cÚfig_t
 *
cfg
, *
´iv©e
)

509 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

510 
¢d_cÚfig_t
 *
n
;

511 
lg_–em
 *
–em
 = 
´iv©e
;

512 
¢d_soc_lg_pcm
 *
pcm
;

513 
¢d_soc_lg_dai
 *
dai
;

514 *
¶ayback
, *
ÿ±u»
;

515 
¢d_soc_lg_¡»am_ÿps
 *
ÿps
;

516 cÚ¡ *
id
, *
v®ue
;

517 
¡»am
;

519 
	`¢d_cÚfig_g‘_id
(
cfg
, &
id
);

521 
	`lg_dbg
("\t%s:\n", 
id
);

523 
–em
->
ty³
) {

524 
SND_TPLG_TYPE_PCM
:

525 
pcm
 = 
–em
->pcm;

526 
¶ayback
 = &
pcm
->playback;

527 
ÿ±u»
 = &
pcm
->capture;

528 
ÿps
 = 
pcm
->caps;

531 
SND_TPLG_TYPE_DAI
:

532 
dai
 = 
–em
->dai;

533 
¶ayback
 = &
dai
->playback;

534 
ÿ±u»
 = &
dai
->capture;

535 
ÿps
 = 
dai
->caps;

539  -
EINVAL
;

542 ià(
	`¡rcmp
(
id
, "playback") == 0) {

543 
¡»am
 = 
SND_SOC_TPLG_STREAM_PLAYBACK
;

544 *
¶ayback
 = 1;

545 } ià(
	`¡rcmp
(
id
, "capture") == 0) {

546 
¡»am
 = 
SND_SOC_TPLG_STREAM_CAPTURE
;

547 *
ÿ±u»
 = 1;

549  -
EINVAL
;

551 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

553 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

556 ià(
	`¢d_cÚfig_g‘_id
(
n
, &
id
) < 0)

559 ià(
	`¡rcmp
(
id
, "capabilities") == 0) {

560 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®ue
) < 0)

565 
	`–em_cİy_‹xt
(
ÿps
[
¡»am
].
Çme
, 
v®ue
,

566 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

568 
	`lg_dbg
("\t\t%s\n\t\t\t%s\n", 
id
, 
v®ue
);

574 
	}
}

577 
	$lg_·r£_ã_dai
(
¢d_lg_t
 *
lg
 
ATTRIBUTE_UNUSED
,

578 
¢d_cÚfig_t
 *
cfg
, *
´iv©e
)

580 
lg_–em
 *
–em
 = 
´iv©e
;

581 
¢d_soc_lg_pcm
 *
pcm
 = 
–em
->pcm;

582 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

583 
¢d_cÚfig_t
 *
n
;

584 cÚ¡ *
id
, *
v®ue
 = 
NULL
;

585 
id_v®
;

587 
	`¢d_cÚfig_g‘_id
(
cfg
, &
id
);

588 
	`lg_dbg
("\t\tFE DAI %s:\n", 
id
);

589 
	`–em_cİy_‹xt
(
pcm
->
dai_Çme
, 
id
, 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

591 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

593 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

596 ià(
	`¢d_cÚfig_g‘_id
(
n
, &
id
) < 0)

599 ià(
	`¡rcmp
(
id
, "id") == 0) {

600 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®ue
) < 0)

602 
”ºo
 = 0;

604 
id_v®
 = 
	`¡¹oul
(
v®ue
, 
NULL
, 0);

605 ià((
”ºo
 =ğ
ERANGE
 && 
id_v®
 =ğ
ULONG_MAX
)

606 || (
”ºo
 !ğ0 && 
id_v®
 == 0)

607 || 
id_v®
 > 
UINT_MAX
) {

608 
	`SNDERR
("error: invalid fe dai ID\n");

609  -
EINVAL
;

612 
pcm
->
dai_id
 = (è
id_v®
;

613 
	`lg_dbg
("\t\t\tšdex: %d\n", 
pcm
->
dai_id
);

618 
	}
}

621 
	$·r£_æag
(
¢d_cÚfig_t
 *
n
, 
mask_š
,

622 *
mask
, *
æags
)

624 
»t
;

626 
»t
 = 
	`¢d_cÚfig_g‘_boŞ
(
n
);

627 ià(
»t
 < 0)

628  
»t
;

630 *
mask
 |ğ
mask_š
;

631 ià(
»t
)

632 *
æags
 |ğ
mask_š
;

634 *
æags
 &ğ~
mask_š
;

637 
	}
}

640 
	$lg_·r£_pcm
(
¢d_lg_t
 *
lg
,

641 
¢d_cÚfig_t
 *
cfg
, *
´iv©e
 
ATTRIBUTE_UNUSED
)

643 
¢d_soc_lg_pcm
 *
pcm
;

644 
lg_–em
 *
–em
;

645 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

646 
¢d_cÚfig_t
 *
n
;

647 cÚ¡ *
id
, *
v®
 = 
NULL
;

648 
”r
;

650 
–em
 = 
	`lg_–em_Ãw_commÚ
(
lg
, 
cfg
, 
NULL
, 
SND_TPLG_TYPE_PCM
);

651 ià(!
–em
)

652  -
ENOMEM
;

654 
pcm
 = 
–em
->pcm;

655 
pcm
->
size
 = 
–em
->size;

656 
	`–em_cİy_‹xt
(
pcm
->
pcm_Çme
, 
–em
->
id
, 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

658 
	`lg_dbg
(" PCM: %s\n", 
–em
->
id
);

660 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

662 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

663 ià(
	`¢d_cÚfig_g‘_id
(
n
, &
id
) < 0)

667 ià(
	`¡rcmp
(
id
, "comment") == 0)

669 ià(
id
[0] == '#')

672 ià(
	`¡rcmp
(
id
, "id") == 0) {

673 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

674  -
EINVAL
;

676 
pcm
->
pcm_id
 = 
	`©oi
(
v®
);

677 
	`lg_dbg
("\t%s: %d\n", 
id
, 
pcm
->
pcm_id
);

681 ià(
	`¡rcmp
(
id
, "pcm") == 0) {

682 
”r
 = 
	`lg_·r£_compound
(
lg
, 
n
,

683 
lg_·r£_¡»ams
, 
–em
);

684 ià(
”r
 < 0)

685  
”r
;

689 ià(
	`¡rcmp
(
id
, "compress") == 0) {

690 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

691  -
EINVAL
;

693 ià(
	`¡rcmp
(
v®
, "true") == 0)

694 
pcm
->
com´ess
 = 1;

696 
	`lg_dbg
("\t%s: %s\n", 
id
, 
v®
);

700 ià(
	`¡rcmp
(
id
, "dai") == 0) {

701 
”r
 = 
	`lg_·r£_compound
(
lg
, 
n
,

702 
lg_·r£_ã_dai
, 
–em
);

703 ià(
”r
 < 0)

704  
”r
;

709 ià(
	`¡rcmp
(
id
, "symmetric_rates") == 0) {

710 
”r
 = 
	`·r£_æag
(
n
,

711 
SND_SOC_TPLG_LNK_FLGBIT_SYMMETRIC_RATES
,

712 &
pcm
->
æag_mask
, &pcm->
æags
);

713 ià(
”r
 < 0)

714  
”r
;

718 ià(
	`¡rcmp
(
id
, "symmetric_channels") == 0) {

719 
”r
 = 
	`·r£_æag
(
n
,

720 
SND_SOC_TPLG_LNK_FLGBIT_SYMMETRIC_CHANNELS
,

721 &
pcm
->
æag_mask
, &pcm->
æags
);

722 ià(
”r
 < 0)

723  
”r
;

727 ià(
	`¡rcmp
(
id
, "symmetric_sample_bits") == 0) {

728 
”r
 = 
	`·r£_æag
(
n
,

729 
SND_SOC_TPLG_LNK_FLGBIT_SYMMETRIC_SAMPLEBITS
,

730 &
pcm
->
æag_mask
, &pcm->
æags
);

731 ià(
”r
 < 0)

732  
”r
;

738 
	}
}

741 
	$lg_·r£_dai
(
¢d_lg_t
 *
lg
,

742 
¢d_cÚfig_t
 *
cfg
, *
´iv©e
 
ATTRIBUTE_UNUSED
)

744 
¢d_soc_lg_dai
 *
dai
;

745 
lg_–em
 *
–em
;

746 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

747 
¢d_cÚfig_t
 *
n
;

748 cÚ¡ *
id
, *
v®
 = 
NULL
;

749 
”r
;

751 
–em
 = 
	`lg_–em_Ãw_commÚ
(
lg
, 
cfg
, 
NULL
, 
SND_TPLG_TYPE_DAI
);

752 ià(!
–em
)

753  -
ENOMEM
;

755 
dai
 = 
–em
->dai;

756 
dai
->
size
 = 
–em
->size;

757 
	`–em_cİy_‹xt
(
dai
->
dai_Çme
, 
–em
->
id
,

758 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

760 
	`lg_dbg
(" DAI: %s\n", 
–em
->
id
);

762 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

764 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

765 ià(
	`¢d_cÚfig_g‘_id
(
n
, &
id
) < 0)

769 ià(
	`¡rcmp
(
id
, "comment") == 0)

771 ià(
id
[0] == '#')

774 ià(
	`¡rcmp
(
id
, "id") == 0) {

775 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

776  -
EINVAL
;

778 
dai
->
dai_id
 = 
	`©oi
(
v®
);

779 
	`lg_dbg
("\t%s: %d\n", 
id
, 
dai
->
dai_id
);

783 ià(
	`¡rcmp
(
id
, "playback") == 0) {

784 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

785  -
EINVAL
;

787 
dai
->
¶ayback
 = 
	`©oi
(
v®
);

788 
	`lg_dbg
("\t%s: %d\n", 
id
, 
dai
->
¶ayback
);

793 ià(
	`¡rcmp
(
id
, "capture") == 0) {

794 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

795  -
EINVAL
;

797 
dai
->
ÿ±u»
 = 
	`©oi
(
v®
);

798 
	`lg_dbg
("\t%s: %d\n", 
id
, 
dai
->
ÿ±u»
);

804 ià(
	`¡rcmp
(
id
, "pcm") == 0) {

805 
”r
 = 
	`lg_·r£_compound
(
lg
, 
n
,

806 
lg_·r£_¡»ams
, 
–em
);

807 ià(
”r
 < 0)

808  
”r
;

813 ià(
	`¡rcmp
(
id
, "symmetric_rates") == 0) {

814 
”r
 = 
	`·r£_æag
(
n
,

815 
SND_SOC_TPLG_DAI_FLGBIT_SYMMETRIC_RATES
,

816 &
dai
->
æag_mask
, &dai->
æags
);

817 ià(
”r
 < 0)

818  
”r
;

822 ià(
	`¡rcmp
(
id
, "symmetric_channels") == 0) {

823 
”r
 = 
	`·r£_æag
(
n
,

824 
SND_SOC_TPLG_DAI_FLGBIT_SYMMETRIC_CHANNELS
,

825 &
dai
->
æag_mask
, &dai->
æags
);

826 ià(
”r
 < 0)

827  
”r
;

831 ià(
	`¡rcmp
(
id
, "symmetric_sample_bits") == 0) {

832 
”r
 = 
	`·r£_æag
(
n
,

833 
SND_SOC_TPLG_DAI_FLGBIT_SYMMETRIC_SAMPLEBITS
,

834 &
dai
->
æag_mask
, &dai->
æags
);

835 ià(
”r
 < 0)

836  
”r
;

841 ià(
	`¡rcmp
(
id
, "data") == 0) {

842 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

843  -
EINVAL
;

845 
	`lg_»f_add
(
–em
, 
SND_TPLG_TYPE_DATA
, 
v®
);

846 
	`lg_dbg
("\t%s: %s\n", 
id
, 
v®
);

852 
	}
}

855 
	$·r£_hw_cÚfig_»fs
(
¢d_lg_t
 *
lg
 
ATTRIBUTE_UNUSED
,

856 
¢d_cÚfig_t
 *
cfg
,

857 
lg_–em
 *
–em
)

859 
¢d_soc_lg_lšk_cÚfig
 *
lšk
 = 
–em
->link;

860 
¢d_cÚfig_ty³_t
 
ty³
;

861 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

862 
¢d_cÚfig_t
 *
n
;

863 cÚ¡ *
id
, *
v®
 = 
NULL
;

865 ià(
	`¢d_cÚfig_g‘_id
(
cfg
, &
id
) < 0)

866  -
EINVAL
;

867 
ty³
 = 
	`¢d_cÚfig_g‘_ty³
(
cfg
);

870 ià(
ty³
 =ğ
SND_CONFIG_TYPE_STRING
) {

871 ià(
	`¢d_cÚfig_g‘_¡ršg
(
cfg
, &
v®
) < 0)

872  -
EINVAL
;

874 
lšk
->
num_hw_cÚfigs
 = 1;

875  
	`lg_»f_add
(
–em
, 
SND_TPLG_TYPE_HW_CONFIG
, 
v®
);

878 ià(
ty³
 !ğ
SND_CONFIG_TYPE_COMPOUND
) {

879 
	`SNDERR
("”rÜ: compoundy³ƒx³ùed fÜ %s", 
id
);

880  -
EINVAL
;

884 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

885 cÚ¡ *
v®
;

886 
”r
;

888 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

889 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

892 ià(
lšk
->
num_hw_cÚfigs
 >ğ
SND_SOC_TPLG_HW_CONFIG_MAX
) {

893 
	`SNDERR
("”rÜ:ƒxûed max hw cÚfig fÜ†šk %s", 
id
);

894  -
EINVAL
;

897 
lšk
->
num_hw_cÚfigs
++;

898 
”r
 = 
	`lg_»f_add
(
–em
, 
SND_TPLG_TYPE_HW_CONFIG
, 
v®
);

899 ià(
”r
 < 0)

900  
”r
;

904 
	}
}

907 
	$lg_·r£_lšk
(
¢d_lg_t
 *
lg
,

908 
¢d_cÚfig_t
 *
cfg
, *
´iv©e
 
ATTRIBUTE_UNUSED
)

910 
¢d_soc_lg_lšk_cÚfig
 *
lšk
;

911 
lg_–em
 *
–em
;

912 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

913 
¢d_cÚfig_t
 *
n
;

914 cÚ¡ *
id
, *
v®
 = 
NULL
;

915 
”r
;

917 
–em
 = 
	`lg_–em_Ãw_commÚ
(
lg
, 
cfg
, 
NULL
, 
SND_TPLG_TYPE_BE
);

918 ià(!
–em
)

919  -
ENOMEM
;

921 
lšk
 = 
–em
->link;

922 
lšk
->
size
 = 
–em
->size;

923 
	`–em_cİy_‹xt
(
lšk
->
Çme
, 
–em
->
id
, 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

925 
	`lg_dbg
(" Lšk: %s\n", 
–em
->
id
);

927 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

929 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

930 ià(
	`¢d_cÚfig_g‘_id
(
n
, &
id
) < 0)

934 ià(
	`¡rcmp
(
id
, "comment") == 0)

936 ià(
id
[0] == '#')

939 ià(
	`¡rcmp
(
id
, "id") == 0) {

940 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

941  -
EINVAL
;

943 
lšk
->
id
 = 
	`©oi
(
v®
);

944 
	`lg_dbg
("\t%s: %d\n", 
id
, 
lšk
->id);

948 ià(
	`¡rcmp
(
id
, "stream_name") == 0) {

949 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

950  -
EINVAL
;

952 
	`–em_cİy_‹xt
(
lšk
->
¡»am_Çme
, 
v®
,

953 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

954 
	`lg_dbg
("\t%s: %s\n", 
id
, 
v®
);

958 ià(
	`¡rcmp
(
id
, "hw_configs") == 0) {

959 
”r
 = 
	`·r£_hw_cÚfig_»fs
(
lg
, 
n
, 
–em
);

960 ià(
”r
 < 0)

961  
”r
;

965 ià(
	`¡rcmp
(
id
, "default_hw_conf_id") == 0) {

966 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

967  -
EINVAL
;

969 
lšk
->
deçuÉ_hw_cÚfig_id
 = 
	`©oi
(
v®
);

974 ià(
	`¡rcmp
(
id
, "symmetric_rates") == 0) {

975 
”r
 = 
	`·r£_æag
(
n
,

976 
SND_SOC_TPLG_LNK_FLGBIT_SYMMETRIC_RATES
,

977 &
lšk
->
æag_mask
, &lšk->
æags
);

978 ià(
”r
 < 0)

979  
”r
;

983 ià(
	`¡rcmp
(
id
, "symmetric_channels") == 0) {

984 
”r
 = 
	`·r£_æag
(
n
,

985 
SND_SOC_TPLG_LNK_FLGBIT_SYMMETRIC_CHANNELS
,

986 &
lšk
->
æag_mask
, &lšk->
æags
);

987 ià(
”r
 < 0)

988  
”r
;

992 ià(
	`¡rcmp
(
id
, "symmetric_sample_bits") == 0) {

993 
”r
 = 
	`·r£_æag
(
n
,

994 
SND_SOC_TPLG_LNK_FLGBIT_SYMMETRIC_SAMPLEBITS
,

995 &
lšk
->
æag_mask
, &lšk->
æags
);

996 ià(
”r
 < 0)

997  
”r
;

1002 ià(
	`¡rcmp
(
id
, "data") == 0) {

1003 
”r
 = 
	`lg_·r£_d©a_»fs
(
n
, 
–em
);

1004 ià(
”r
 < 0)

1005  
”r
;

1011 
	}
}

1014 
	$lg_·r£_cc
(
¢d_lg_t
 *
lg
,

1015 
¢d_cÚfig_t
 *
cfg
, *
´iv©e
 
ATTRIBUTE_UNUSED
)

1017 
¢d_soc_lg_lšk_cÚfig
 *
lšk
;

1018 
lg_–em
 *
–em
;

1019 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

1020 
¢d_cÚfig_t
 *
n
;

1021 cÚ¡ *
id
, *
v®
 = 
NULL
;

1023 
–em
 = 
	`lg_–em_Ãw_commÚ
(
lg
, 
cfg
, 
NULL
, 
SND_TPLG_TYPE_CC
);

1024 ià(!
–em
)

1025  -
ENOMEM
;

1027 
lšk
 = 
–em
->link;

1028 
lšk
->
size
 = 
–em
->size;

1030 
	`lg_dbg
(" CC: %s\n", 
–em
->
id
);

1032 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

1034 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

1035 ià(
	`¢d_cÚfig_g‘_id
(
n
, &
id
) < 0)

1039 ià(
	`¡rcmp
(
id
, "comment") == 0)

1041 ià(
id
[0] == '#')

1044 ià(
	`¡rcmp
(
id
, "id") == 0) {

1045 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

1046  -
EINVAL
;

1048 
lšk
->
id
 = 
	`©oi
(
v®
);

1049 
	`lg_dbg
("\t%s: %d\n", 
id
, 
lšk
->id);

1056 
	}
}

1058 
	$g‘_audio_hw_fÜm©
(cÚ¡ *
v®
)

1060 ià(!
	`¡¾’
(
v®
))

1061  -
EINVAL
;

1063 ià(!
	`¡rcmp
(
v®
, "I2S"))

1064  
SND_SOC_DAI_FORMAT_I2S
;

1066 ià(!
	`¡rcmp
(
v®
, "RIGHT_J"))

1067  
SND_SOC_DAI_FORMAT_RIGHT_J
;

1069 ià(!
	`¡rcmp
(
v®
, "LEFT_J"))

1070  
SND_SOC_DAI_FORMAT_LEFT_J
;

1072 ià(!
	`¡rcmp
(
v®
, "DSP_A"))

1073  
SND_SOC_DAI_FORMAT_DSP_A
;

1075 ià(!
	`¡rcmp
(
v®
, "DSP_B"))

1076  
SND_SOC_DAI_FORMAT_DSP_B
;

1078 ià(!
	`¡rcmp
(
v®
, "AC97"))

1079  
SND_SOC_DAI_FORMAT_AC97
;

1081 ià(!
	`¡rcmp
(
v®
, "PDM"))

1082  
SND_SOC_DAI_FORMAT_PDM
;

1084 
	`SNDERR
("”rÜ: inv®id‡udiØHW fÜm© %s\n", 
v®
);

1085  -
EINVAL
;

1086 
	}
}

1088 
	$lg_·r£_hw_cÚfig
(
¢d_lg_t
 *
lg
, 
¢d_cÚfig_t
 *
cfg
,

1089 *
´iv©e
 
ATTRIBUTE_UNUSED
)

1092 
¢d_soc_lg_hw_cÚfig
 *
hw_cfg
;

1093 
lg_–em
 *
–em
;

1094 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

1095 
¢d_cÚfig_t
 *
n
;

1096 cÚ¡ *
id
, *
v®
 = 
NULL
;

1097 
»t
;

1099 
–em
 = 
	`lg_–em_Ãw_commÚ
(
lg
, 
cfg
, 
NULL
, 
SND_TPLG_TYPE_HW_CONFIG
);

1100 ià(!
–em
)

1101  -
ENOMEM
;

1103 
hw_cfg
 = 
–em
->hw_cfg;

1104 
hw_cfg
->
size
 = 
–em
->size;

1106 
	`lg_dbg
(" Lšk HW cÚfig: %s\n", 
–em
->
id
);

1108 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

1110 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

1111 ià(
	`¢d_cÚfig_g‘_id
(
n
, &
id
) < 0)

1115 ià(
	`¡rcmp
(
id
, "comment") == 0)

1117 ià(
id
[0] == '#')

1120 ià(
	`¡rcmp
(
id
, "id") == 0) {

1121 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

1122  -
EINVAL
;

1124 
hw_cfg
->
id
 = 
	`©oi
(
v®
);

1125 
	`lg_dbg
("\t%s: %d\n", 
id
, 
hw_cfg
->id);

1129 ià(
	`¡rcmp
(
id
, "format") == 0 ||

1130 
	`¡rcmp
(
id
, "fmt") == 0) {

1131 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

1132  -
EINVAL
;

1134 
»t
 = 
	`g‘_audio_hw_fÜm©
(
v®
);

1135 ià(
»t
 < 0)

1136  
»t
;

1137 
hw_cfg
->
fmt
 = 
»t
;

1141 ià(
	`¡rcmp
(
id
, "bclk") == 0 ||

1142 
	`¡rcmp
(
id
, "bclk_master") == 0) {

1143 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

1144  -
EINVAL
;

1146 ià(!
	`¡rcmp
(
v®
, "master")) {

1150 
	`SNDERR
("warning: deprecated bclk value '%s'\n",

1151 
v®
);

1153 
hw_cfg
->
bşk_ma¡”
 = 
SND_SOC_TPLG_BCLK_CS
;

1154 } ià(!
	`¡rcmp
(
v®
, "codec_slave")) {

1155 
hw_cfg
->
bşk_ma¡”
 = 
SND_SOC_TPLG_BCLK_CS
;

1156 } ià(!
	`¡rcmp
(
v®
, "codec_master")) {

1157 
hw_cfg
->
bşk_ma¡”
 = 
SND_SOC_TPLG_BCLK_CM
;

1162 ià(
	`¡rcmp
(
id
, "bclk_freq") == 0 ||

1163 
	`¡rcmp
(
id
, "bclk_rate") == 0) {

1164 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

1165  -
EINVAL
;

1167 
hw_cfg
->
bşk_¿‹
 = 
	`©oi
(
v®
);

1171 ià(
	`¡rcmp
(
id
, "bclk_invert") == 0 ||

1172 
	`¡rcmp
(
id
, "invert_bclk") == 0) {

1173 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

1174  -
EINVAL
;

1176 ià(!
	`¡rcmp
(
v®
, "true"))

1177 
hw_cfg
->
šv”t_bşk
 = 
Œue
;

1181 ià(
	`¡rcmp
(
id
, "fsync") == 0 ||

1182 
	`¡rcmp
(
id
, "fsync_master") == 0) {

1183 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

1184  -
EINVAL
;

1186 ià(!
	`¡rcmp
(
v®
, "master")) {

1190 
	`SNDERR
("warning: deprecated fsync value '%s'\n",

1191 
v®
);

1193 
hw_cfg
->
fsync_ma¡”
 = 
SND_SOC_TPLG_FSYNC_CS
;

1194 } ià(!
	`¡rcmp
(
v®
, "codec_slave")) {

1195 
hw_cfg
->
fsync_ma¡”
 = 
SND_SOC_TPLG_FSYNC_CS
;

1196 } ià(!
	`¡rcmp
(
v®
, "codec_master")) {

1197 
hw_cfg
->
fsync_ma¡”
 = 
SND_SOC_TPLG_FSYNC_CM
;

1202 ià(
	`¡rcmp
(
id
, "fsync_invert") == 0 ||

1203 
	`¡rcmp
(
id
, "invert_fsync") == 0) {

1204 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

1205  -
EINVAL
;

1207 ià(!
	`¡rcmp
(
v®
, "true"))

1208 
hw_cfg
->
šv”t_fsync
 = 
Œue
;

1212 ià(
	`¡rcmp
(
id
, "fsync_freq") == 0 ||

1213 
	`¡rcmp
(
id
, "fsync_rate") == 0) {

1214 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

1215  -
EINVAL
;

1217 
hw_cfg
->
fsync_¿‹
 = 
	`©oi
(
v®
);

1221 ià(
	`¡rcmp
(
id
, "mclk_freq") == 0 ||

1222 
	`¡rcmp
(
id
, "mclk_rate") == 0) {

1223 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

1224  -
EINVAL
;

1226 
hw_cfg
->
mşk_¿‹
 = 
	`©oi
(
v®
);

1230 ià(
	`¡rcmp
(
id
, "mclk") == 0 ||

1231 
	`¡rcmp
(
id
, "mclk_direction") == 0) {

1232 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

1233  -
EINVAL
;

1235 ià(!
	`¡rcmp
(
v®
, "master")) {

1239 
	`SNDERR
("warning: deprecated mclk value '%s'\n",

1240 
v®
);

1242 
hw_cfg
->
mşk_dœeùiÚ
 = 
SND_SOC_TPLG_MCLK_CI
;

1243 } ià(!
	`¡rcmp
(
v®
, "codec_mclk_in")) {

1244 
hw_cfg
->
mşk_dœeùiÚ
 = 
SND_SOC_TPLG_MCLK_CI
;

1245 } ià(!
	`¡rcmp
(
v®
, "codec_mclk_out")) {

1246 
hw_cfg
->
mşk_dœeùiÚ
 = 
SND_SOC_TPLG_MCLK_CO
;

1251 ià(
	`¡rcmp
(
id
, "pm_gate_clocks") == 0 ||

1252 
	`¡rcmp
(
id
, "clock_gated") == 0) {

1253 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

1254  -
EINVAL
;

1256 ià(!
	`¡rcmp
(
v®
, "true"))

1257 
hw_cfg
->
şock_g©ed
 =

1258 
SND_SOC_TPLG_DAI_CLK_GATE_GATED
;

1260 
hw_cfg
->
şock_g©ed
 =

1261 
SND_SOC_TPLG_DAI_CLK_GATE_CONT
;

1265 ià(
	`¡rcmp
(
id
, "tdm_slots") == 0) {

1266 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

1267  -
EINVAL
;

1269 
hw_cfg
->
tdm_¦Ùs
 = 
	`©oi
(
v®
);

1273 ià(
	`¡rcmp
(
id
, "tdm_slot_width") == 0) {

1274 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

1275  -
EINVAL
;

1277 
hw_cfg
->
tdm_¦Ù_width
 = 
	`©oi
(
v®
);

1281 ià(
	`¡rcmp
(
id
, "tx_slots") == 0) {

1282 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

1283  -
EINVAL
;

1285 
hw_cfg
->
tx_¦Ùs
 = 
	`©oi
(
v®
);

1289 ià(
	`¡rcmp
(
id
, "rx_slots") == 0) {

1290 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

1291  -
EINVAL
;

1293 
hw_cfg
->
rx_¦Ùs
 = 
	`©oi
(
v®
);

1297 ià(
	`¡rcmp
(
id
, "tx_channels") == 0) {

1298 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

1299  -
EINVAL
;

1301 
hw_cfg
->
tx_chªÃls
 = 
	`©oi
(
v®
);

1305 ià(
	`¡rcmp
(
id
, "rx_channels") == 0) {

1306 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®
) < 0)

1307  -
EINVAL
;

1309 
hw_cfg
->
rx_chªÃls
 = 
	`©oi
(
v®
);

1316 
	}
}

1319 
	$lg_add_¡»am_objeù
(
¢d_soc_lg_¡»am
 *
¡rm
,

1320 
¢d_lg_¡»am_‹m¶©e
 *
¡rm_l
)

1322 
	`–em_cİy_‹xt
(
¡rm
->
Çme
, 
¡rm_l
->name,

1323 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

1324 
¡rm
->
fÜm©
 = 
¡rm_l
->format;

1325 
¡rm
->
¿‹
 = 
¡rm_l
->rate;

1326 
¡rm
->
³riod_by‹s
 = 
¡rm_l
->period_bytes;

1327 
¡rm
->
bufãr_by‹s
 = 
¡rm_l
->buffer_bytes;

1328 
¡rm
->
chªÃls
 = 
¡rm_l
->channels;

1329 
	}
}

1331 
	$lg_add_¡»am_ÿps
(
¢d_soc_lg_¡»am_ÿps
 *
ÿps
,

1332 
¢d_lg_¡»am_ÿps_‹m¶©e
 *
ÿps_l
)

1334 
	`–em_cİy_‹xt
(
ÿps
->
Çme
, 
ÿps_l
->name,

1335 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

1337 
ÿps
->
fÜm©s
 = 
ÿps_l
->formats;

1338 
ÿps
->
¿‹s
 = 
ÿps_l
->rates;

1339 
ÿps
->
¿‹_mš
 = 
ÿps_l
->rate_min;

1340 
ÿps
->
¿‹_max
 = 
ÿps_l
->rate_max;

1341 
ÿps
->
chªÃls_mš
 = 
ÿps_l
->channels_min;

1342 
ÿps
->
chªÃls_max
 = 
ÿps_l
->channels_max;

1343 
ÿps
->
³riods_mš
 = 
ÿps_l
->periods_min;

1344 
ÿps
->
³riods_max
 = 
ÿps_l
->periods_max;

1345 
ÿps
->
³riod_size_mš
 = 
ÿps_l
->period_size_min;

1346 
ÿps
->
³riod_size_max
 = 
ÿps_l
->period_size_max;

1347 
ÿps
->
bufãr_size_mš
 = 
ÿps_l
->buffer_size_min;

1348 
ÿps
->
bufãr_size_max
 = 
ÿps_l
->buffer_size_max;

1349 
ÿps
->
sig_b™s
 = 
ÿps_l
->sig_bits;

1350 
	}
}

1353 
	$lg_add_pcm_objeù
(
¢d_lg_t
 *
lg
, 
¢d_lg_obj_‹m¶©e_t
 *
t
)

1355 
¢d_lg_pcm_‹m¶©e
 *
pcm_l
 = 
t
->
pcm
;

1356 
¢d_soc_lg_pcm
 *
pcm
, *
_pcm
;

1357 
lg_–em
 *
–em
;

1358 
i
;

1360 
	`lg_dbg
("PCM: %s, DAI %s\n", 
pcm_l
->
pcm_Çme
,…cm_l->
dai_Çme
);

1362 ià(
pcm_l
->
num_¡»ams
 > 
SND_SOC_TPLG_STREAM_CONFIG_MAX
)

1363  -
EINVAL
;

1365 
–em
 = 
	`lg_–em_Ãw_commÚ
(
lg
, 
NULL
, 
pcm_l
->
pcm_Çme
,

1366 
SND_TPLG_TYPE_PCM
);

1367 ià(!
–em
)

1368  -
ENOMEM
;

1370 
pcm
 = 
–em
->pcm;

1371 
pcm
->
size
 = 
–em
->size;

1373 
	`–em_cİy_‹xt
(
pcm
->
pcm_Çme
, 
pcm_l
->pcm_name,

1374 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

1375 
	`–em_cİy_‹xt
(
pcm
->
dai_Çme
, 
pcm_l
->dai_name,

1376 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

1377 
pcm
->
pcm_id
 = 
pcm_l
->pcm_id;

1378 
pcm
->
dai_id
 = 
pcm_l
->dai_id;

1379 
pcm
->
¶ayback
 = 
pcm_l
->playback;

1380 
pcm
->
ÿ±u»
 = 
pcm_l
->capture;

1381 
pcm
->
com´ess
 = 
pcm_l
->compress;

1383 
i
 = 0; i < 2; i++) {

1384 ià(
pcm_l
->
ÿps
[
i
])

1385 
	`lg_add_¡»am_ÿps
(&
pcm
->
ÿps
[
i
], 
pcm_l
->caps[i]);

1388 
pcm
->
æag_mask
 = 
pcm_l
->flag_mask;

1389 
pcm
->
æags
 = 
pcm_l
->flags;

1391 
pcm
->
num_¡»ams
 = 
pcm_l
->num_streams;

1392 
i
 = 0; i < 
pcm_l
->
num_¡»ams
; i++)

1393 
	`lg_add_¡»am_objeù
(&
pcm
->
¡»am
[
i
], &
pcm_l
->stream[i]);

1396 ià(
pcm_l
->
´iv
 !ğ
NULL
 &&…cm_l->´iv->
size
) {

1397 
	`lg_dbg
("\ˆ´iv d©¨siz%d\n", 
pcm_l
->
´iv
->
size
);

1398 
_pcm
 = 
	`»®loc
(
pcm
,

1399 
–em
->
size
 + 
pcm_l
->
´iv
->size);

1400 ià(!
_pcm
) {

1401 
	`lg_–em_ä“
(
–em
);

1402  -
ENOMEM
;

1405 
pcm
 = 
_pcm
;

1406 
–em
->
pcm
 =…cm;

1407 
–em
->
size
 +ğ
pcm_l
->
´iv
->size;

1409 
	`memıy
(
pcm
->
´iv
.
d©a
, 
pcm_l
->priv->data,

1410 
pcm_l
->
´iv
->
size
);

1411 
pcm
->
´iv
.
size
 = 
pcm_l
->priv->size;

1415 
	}
}

1418 
	$£t_lšk_hw_cÚfig
(
¢d_soc_lg_hw_cÚfig
 *
cfg
,

1419 
¢d_lg_hw_cÚfig_‹m¶©e
 *
l
)

1421 
i
;

1423 
cfg
->
size
 = (*cfg);

1424 
cfg
->
id
 = 
l
->id;

1426 
cfg
->
fmt
 = 
l
->fmt;

1427 
cfg
->
şock_g©ed
 = 
l
->clock_gated;

1428 
cfg
->
šv”t_bşk
 = 
l
->invert_bclk;

1429 
cfg
->
šv”t_fsync
 = 
l
->invert_fsync;

1430 
cfg
->
bşk_ma¡”
 = 
l
->bclk_master;

1431 
cfg
->
fsync_ma¡”
 = 
l
->fsync_master;

1432 
cfg
->
mşk_dœeùiÚ
 = 
l
->mclk_direction;

1433 
cfg
->
»£rved
 = 
l
->reserved;

1434 
cfg
->
mşk_¿‹
 = 
l
->mclk_rate;

1435 
cfg
->
bşk_¿‹
 = 
l
->bclk_rate;

1436 
cfg
->
fsync_¿‹
 = 
l
->fsync_rate;

1438 
cfg
->
tdm_¦Ùs
 = 
l
->tdm_slots;

1439 
cfg
->
tdm_¦Ù_width
 = 
l
->tdm_slot_width;

1440 
cfg
->
tx_¦Ùs
 = 
l
->tx_slots;

1441 
cfg
->
rx_¦Ùs
 = 
l
->rx_slots;

1443 ià(
cfg
->
tx_chªÃls
 > 
SND_SOC_TPLG_MAX_CHAN


1444 || 
cfg
->
rx_chªÃls
 > 
SND_SOC_TPLG_MAX_CHAN
)

1445  -
EINVAL
;

1447 
cfg
->
tx_chªÃls
 = 
l
->tx_channels;

1448 
i
 = 0; i < 
cfg
->
tx_chªÃls
; i++)

1449 
cfg
->
tx_chªm­
[
i
] = 
l
->tx_chanmap[i];

1451 
cfg
->
rx_chªÃls
 = 
l
->rx_channels;

1452 
i
 = 0; i < 
cfg
->
rx_chªÃls
; i++)

1453 
cfg
->
rx_chªm­
[
i
] = 
l
->rx_chanmap[i];

1456 
	}
}

1459 
	$lg_add_lšk_objeù
(
¢d_lg_t
 *
lg
, 
¢d_lg_obj_‹m¶©e_t
 *
t
)

1461 
¢d_lg_lšk_‹m¶©e
 *
lšk_l
 = 
t
->
lšk
;

1462 
¢d_soc_lg_lšk_cÚfig
 *
lšk
, *
_lšk
;

1463 
lg_–em
 *
–em
;

1464 
i
;

1466 ià(
t
->
ty³
 !ğ
SND_TPLG_TYPE_LINK
 &&->ty³ !ğ
SND_TPLG_TYPE_BE


1467 && 
t
->
ty³
 !ğ
SND_TPLG_TYPE_CC
)

1468  -
EINVAL
;

1470 
–em
 = 
	`lg_–em_Ãw_commÚ
(
lg
, 
NULL
, 
lšk_l
->
Çme
, 
t
->
ty³
);

1471 ià(!
–em
)

1472  -
ENOMEM
;

1474 
	`lg_dbg
("Lšk: %s", 
lšk_l
->
Çme
);

1476 
lšk
 = 
–em
->link;

1477 
lšk
->
size
 = 
–em
->size;

1480 
lšk
->
id
 = 
lšk_l
->id;

1481 
	`–em_cİy_‹xt
(
lšk
->
Çme
, 
lšk_l
->name,

1482 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

1483 
	`–em_cİy_‹xt
(
lšk
->
¡»am_Çme
, 
lšk_l
->stream_name,

1484 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

1487 ià(
lšk_l
->
num_¡»ams
 > 
SND_SOC_TPLG_STREAM_CONFIG_MAX
)

1488  -
EINVAL
;

1489 
lšk
->
num_¡»ams
 = 
lšk_l
->num_streams;

1490 
i
 = 0; i < 
lšk
->
num_¡»ams
; i++)

1491 
	`lg_add_¡»am_objeù
(&
lšk
->
¡»am
[
i
], &
lšk_l
->stream[i]);

1494 ià(
lšk_l
->
num_hw_cÚfigs
 > 
SND_SOC_TPLG_HW_CONFIG_MAX
)

1495  -
EINVAL
;

1496 
lšk
->
num_hw_cÚfigs
 = 
lšk_l
->num_hw_configs;

1497 
lšk
->
deçuÉ_hw_cÚfig_id
 = 
lšk_l
->default_hw_config_id;

1498 
i
 = 0; i < 
lšk
->
num_hw_cÚfigs
; i++)

1499 
	`£t_lšk_hw_cÚfig
(&
lšk
->
hw_cÚfig
[
i
], &
lšk_l
->hw_config[i]);

1502 
lšk
->
æag_mask
 = 
lšk_l
->flag_mask;

1503 
lšk
->
æags
 = 
lšk_l
->flags;

1506 ià(
lšk_l
->
´iv
 !ğ
NULL
 &&†šk_l->´iv->
size
) {

1507 
_lšk
 = 
	`»®loc
(
lšk
,

1508 
–em
->
size
 + 
lšk_l
->
´iv
->size);

1509 ià(!
_lšk
) {

1510 
	`lg_–em_ä“
(
–em
);

1511  -
ENOMEM
;

1514 
lšk
 = 
_lšk
;

1515 
–em
->
lšk
 =†ink;

1516 
–em
->
size
 +ğ
lšk_l
->
´iv
->size;

1518 
	`memıy
(
lšk
->
´iv
.
d©a
, 
lšk_l
->priv->data,

1519 
lšk_l
->
´iv
->
size
);

1520 
lšk
->
´iv
.
size
 = 
lšk_l
->priv->size;

1524 
	}
}

1526 
	$lg_add_dai_objeù
(
¢d_lg_t
 *
lg
, 
¢d_lg_obj_‹m¶©e_t
 *
t
)

1528 
¢d_lg_dai_‹m¶©e
 *
dai_l
 = 
t
->
dai
;

1529 
¢d_soc_lg_dai
 *
dai
, *
_dai
;

1530 
lg_–em
 *
–em
;

1531 
i
;

1533 
	`lg_dbg
("DAI %s\n", 
dai_l
->
dai_Çme
);

1535 
–em
 = 
	`lg_–em_Ãw_commÚ
(
lg
, 
NULL
, 
dai_l
->
dai_Çme
,

1536 
SND_TPLG_TYPE_DAI
);

1537 ià(!
–em
)

1538  -
ENOMEM
;

1540 
dai
 = 
–em
->dai;

1541 
dai
->
size
 = 
–em
->size;

1543 
	`–em_cİy_‹xt
(
dai
->
dai_Çme
, 
dai_l
->dai_name,

1544 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

1545 
dai
->
dai_id
 = 
dai_l
->dai_id;

1548 
dai
->
¶ayback
 = 
dai_l
->playback;

1549 
dai
->
ÿ±u»
 = 
dai_l
->capture;

1551 
i
 = 0; i < 2; i++) {

1552 ià(
dai_l
->
ÿps
[
i
])

1553 
	`lg_add_¡»am_ÿps
(&
dai
->
ÿps
[
i
], 
dai_l
->caps[i]);

1557 
dai
->
æag_mask
 = 
dai_l
->flag_mask;

1558 
dai
->
æags
 = 
dai_l
->flags;

1561 ià(
dai_l
->
´iv
 !ğ
NULL
) {

1562 
_dai
 = 
	`»®loc
(
dai
,

1563 
–em
->
size
 + 
dai_l
->
´iv
->size);

1564 ià(!
_dai
) {

1565 
	`lg_–em_ä“
(
–em
);

1566  -
ENOMEM
;

1569 
dai
 = 
_dai
;

1570 
dai
->
´iv
.
size
 = 
dai_l
->priv->size;

1572 
–em
->
dai
 = dai;

1573 
–em
->
size
 +ğ
dai
->
´iv
.size;

1574 
	`memıy
(
dai
->
´iv
.
d©a
, 
dai_l
->priv->data,

1575 
dai
->
´iv
.
size
);

1579 
	}
}

	@text.c

21 
	~"li¡.h
"

22 
	~"lg_loÿl.h
"

24 
	#TEXT_SIZE_MAX
 \

25 (
SND_SOC_TPLG_NUM_TEXTS
 * 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
)

	)

27 
	$·r£_‹xt_v®ues
(
¢d_cÚfig_t
 *
cfg
, 
lg_–em
 *
–em
)

29 
lg_‹xts
 *
‹xts
 = 
–em
->texts;

30 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

31 
¢d_cÚfig_t
 *
n
;

32 cÚ¡ *
v®ue
 = 
NULL
;

33 
j
 = 0;

35 
	`lg_dbg
(" TexˆV®ues: %s\n", 
–em
->
id
);

37 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

38 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

40 ià(
j
 =ğ
SND_SOC_TPLG_NUM_TEXTS
) {

41 
	`lg_dbg
("”rÜ:exˆ¡ršg‚umb”ƒxûed %d\n", 
j
);

42  -
ENOMEM
;

46 ià(
	`¢d_cÚfig_g‘_¡ršg
(
n
, &
v®ue
) < 0)

49 
	`–em_cİy_‹xt
(&
‹xts
->
™ems
[
j
][0], 
v®ue
,

50 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
);

51 
	`lg_dbg
("\t%s\n", &
‹xts
->
™ems
[
j
][0]);

53 
j
++;

56 
‹xts
->
num_™ems
 = 
j
;

58 
	}
}

61 
	$lg_·r£_‹xt
(
¢d_lg_t
 *
lg
, 
¢d_cÚfig_t
 *
cfg
,

62 *
´iv©e
 
ATTRIBUTE_UNUSED
)

64 
¢d_cÚfig_™”©Ü_t
 
i
, 
Ãxt
;

65 
¢d_cÚfig_t
 *
n
;

66 cÚ¡ *
id
;

67 
”r
 = 0;

68 
lg_–em
 *
–em
;

70 
–em
 = 
	`lg_–em_Ãw_commÚ
(
lg
, 
cfg
, 
NULL
, 
SND_TPLG_TYPE_TEXT
);

71 ià(!
–em
)

72  -
ENOMEM
;

74 
	`¢d_cÚfig_fÜ_—ch
(
i
, 
Ãxt
, 
cfg
) {

76 
n
 = 
	`¢d_cÚfig_™”©Ü_’Œy
(
i
);

77 ià(
	`¢d_cÚfig_g‘_id
(
n
, &
id
) < 0)

80 ià(
	`¡rcmp
(
id
, "values") == 0) {

81 
”r
 = 
	`·r£_‹xt_v®ues
(
n
, 
–em
);

82 ià(
”r
 < 0) {

83 
	`SNDERR
("error: failedo…arseext values");

84  
”r
;

90  
”r
;

91 
	}
}

	@tplg_local.h

13 
	~<lim™s.h
>

14 
	~<¡dšt.h
>

15 
	~<¡dboŞ.h
>

17 
	~"loÿl.h
"

18 
	~"li¡.h
"

19 
	~"tİŞogy.h
"

21 
	~<sound/asound.h
>

22 
	~<sound/asoc.h
>

23 
	~<sound/v.h
>

25 #ifdeà
TPLG_DEBUG


26 
	#lg_dbg
 
SNDERR


	)

28 
	#lg_dbg
(
fmt
, 
¬g
...èdØ{ } 0)

	)

31 
	#MAX_FILE
 256

	)

32 
	#TPLG_MAX_PRIV_SIZE
 (1024 * 128)

	)

35 
	#ALSA_CONFIG_TPLG_VAR
 "ALSA_CONFIG_TPLG"

	)

37 
	glg_»f
;

38 
	glg_–em
;

40 
	e_¢d_pcm_¿‹s
 {

41 
	mSND_PCM_RATE_UNKNOWN
 = -1,

42 
	mSND_PCM_RATE_5512
 = 0,

43 
	mSND_PCM_RATE_8000
,

44 
	mSND_PCM_RATE_11025
,

45 
	mSND_PCM_RATE_16000
,

46 
	mSND_PCM_RATE_22050
,

47 
	mSND_PCM_RATE_32000
,

48 
	mSND_PCM_RATE_44100
,

49 
	mSND_PCM_RATE_48000
,

50 
	mSND_PCM_RATE_64000
,

51 
	mSND_PCM_RATE_88200
,

52 
	mSND_PCM_RATE_96000
,

53 
	mSND_PCM_RATE_176400
,

54 
	mSND_PCM_RATE_192000
,

55 
	mSND_PCM_RATE_CONTINUOUS
 = 30,

56 
	mSND_PCM_RATE_KNOT
 = 31,

57 
	mSND_PCM_RATE_LAST
 = 
SND_PCM_RATE_KNOT
,

58 } 
	t¢d_pcm_¿‹s_t
;

60 
	s¢d_lg
 {

63 
	mv’dÜ_fd
;

64 *
	mv’dÜ_Çme
;

67 
	mout_fd
;

69 
	mv”bo£
;

70 
	mv”siÚ
;

73 
	mÃxt_hdr_pos
;

74 
	mšdex
;

75 
	mchªÃl_idx
;

78 
¢d_soc_lg_mªiã¡
 
	mmªiã¡
;

79 *
	mmªiã¡_pd©a
;

82 
li¡_h—d
 
	mv_li¡
;

83 
li¡_h—d
 
	mwidg‘_li¡
;

84 
li¡_h—d
 
	mpcm_li¡
;

85 
li¡_h—d
 
	mdai_li¡
;

86 
li¡_h—d
 
	mbe_li¡
;

87 
li¡_h—d
 
	mcc_li¡
;

88 
li¡_h—d
 
	mrou‹_li¡
;

89 
li¡_h—d
 
	m‹xt_li¡
;

90 
li¡_h—d
 
	mpd©a_li¡
;

91 
li¡_h—d
 
	mtok’_li¡
;

92 
li¡_h—d
 
	mtu¶e_li¡
;

93 
li¡_h—d
 
	mmªiã¡_li¡
;

94 
li¡_h—d
 
	mpcm_cÚfig_li¡
;

95 
li¡_h—d
 
	mpcm_ÿps_li¡
;

96 
li¡_h—d
 
	mhw_cfg_li¡
;

99 
li¡_h—d
 
	mmix”_li¡
;

100 
li¡_h—d
 
	m’um_li¡
;

101 
li¡_h—d
 
	mby‹s_ext_li¡
;

105 
	slg_»f
 {

106 
	mty³
;

107 
lg_–em
 *
	m–em
;

108 
	mid
[
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
];

109 
li¡_h—d
 
	mli¡
;

112 
	slg_‹xts
 {

113 
	mnum_™ems
;

114 
	m™ems
[
SND_SOC_TPLG_NUM_TEXTS
][
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
];

118 
	slg_tok’
 {

119 
	mid
[
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
];

120 
	mv®ue
;

123 
	slg_v’dÜ_tok’s
 {

124 
	mnum_tok’s
;

125 
lg_tok’
 
	mtok’
[0];

129 
	slg_tu¶e
 {

130 
	mtok’
[
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
];

132 
	m¡ršg
[
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
];

133 
	muuid
[16];

134 
	mv®ue
;

138 
	slg_tu¶e_£t
 {

139 
	mty³
;

140 
	mnum_tu¶es
;

141 
lg_tu¶e
 
	mtu¶e
[0];

144 
	slg_v’dÜ_tu¶es
 {

145 
	mnum_£ts
;

146 
lg_tu¶e_£t
 **
	m£t
;

150 
	slg_–em
 {

152 
	mid
[
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
];

154 
	mšdex
;

155 
¢d_lg_ty³
 
	mty³
;

157 
	msize
;

158 
	mcompound_–em
;

159 
	mv’dÜ_ty³
;

163 *
	mobj
;

164 
¢d_soc_lg_mix”_cÚŒŞ
 *
	mmix”_ù¾
;

165 
¢d_soc_lg_’um_cÚŒŞ
 *
	m’um_ù¾
;

166 
¢d_soc_lg_by‹s_cÚŒŞ
 *
	mby‹s_ext
;

167 
¢d_soc_lg_d­m_widg‘
 *
	mwidg‘
;

168 
¢d_soc_lg_pcm
 *
	mpcm
;

169 
¢d_soc_lg_dai
 *
	mdai
;

170 
¢d_soc_lg_lšk_cÚfig
 *
	mlšk
;

171 
¢d_soc_lg_d­m_g¿ph_–em
 *
	mrou‹
;

172 
¢d_soc_lg_¡»am
 *
	m¡»am_cfg
;

173 
¢d_soc_lg_¡»am_ÿps
 *
	m¡»am_ÿps
;

174 
¢d_soc_lg_hw_cÚfig
 *
	mhw_cfg
;

177 
¢d_soc_lg_ùl_v
 *
	mv
;

178 
lg_‹xts
 *
	m‹xts
;

179 
¢d_soc_lg_´iv©e
 *
	md©a
;

180 
lg_v’dÜ_tok’s
 *
	mtok’s
;

181 
lg_v’dÜ_tu¶es
 *
	mtu¶es
;

182 
¢d_soc_lg_mªiã¡
 *
	mmªiã¡
;

190 
li¡_h—d
 
	m»f_li¡
;

191 
li¡_h—d
 
	mli¡
;

193 (*
	mä“
)(*
	mobj
);

196 
	sm­_–em
 {

197 cÚ¡ *
	mÇme
;

198 
	mid
;

201 
lg_·r£_compound
(
¢d_lg_t
 *
lg
, 
¢d_cÚfig_t
 *
cfg
,

202 (*
fú
)(
¢d_lg_t
 *, 
¢d_cÚfig_t
 *, *),

203 *
´iv©e
);

205 
	`lg_wr™e_d©a
(
¢d_lg_t
 *
lg
);

207 
	`lg_·r£_v
(
¢d_lg_t
 *
lg
, 
¢d_cÚfig_t
 *
cfg
,

208 *
´iv©e
 
ATTRIBUTE_UNUSED
);

210 
	`lg_·r£_‹xt
(
¢d_lg_t
 *
lg
, 
¢d_cÚfig_t
 *
cfg
,

211 *
´iv©e
 
ATTRIBUTE_UNUSED
);

213 
	`lg_·r£_d©a
(
¢d_lg_t
 *
lg
, 
¢d_cÚfig_t
 *
cfg
,

214 *
´iv©e
 
ATTRIBUTE_UNUSED
);

216 
	`lg_·r£_tok’s
(
¢d_lg_t
 *
lg
, 
¢d_cÚfig_t
 *
cfg
,

217 *
´iv©e
 
ATTRIBUTE_UNUSED
);

219 
	`lg_·r£_tu¶es
(
¢d_lg_t
 *
lg
, 
¢d_cÚfig_t
 *
cfg
,

220 *
´iv©e
 
ATTRIBUTE_UNUSED
);

222 
	`lg_ä“_tu¶es
(*
obj
);

224 
	`lg_·r£_mªiã¡_d©a
(
¢d_lg_t
 *
lg
, 
¢d_cÚfig_t
 *
cfg
,

225 *
´iv©e
 
ATTRIBUTE_UNUSED
);

227 
	`lg_·r£_cÚŒŞ_by‹s
(
¢d_lg_t
 *
lg
,

228 
¢d_cÚfig_t
 *
cfg
, *
´iv©e
 
ATTRIBUTE_UNUSED
);

230 
	`lg_·r£_cÚŒŞ_’um
(
¢d_lg_t
 *
lg
, 
¢d_cÚfig_t
 *
cfg
,

231 *
´iv©e
 
ATTRIBUTE_UNUSED
);

233 
	`lg_·r£_cÚŒŞ_mix”
(
¢d_lg_t
 *
lg
,

234 
¢d_cÚfig_t
 *
cfg
, *
´iv©e
 
ATTRIBUTE_UNUSED
);

236 
	`lg_·r£_d­m_g¿ph
(
¢d_lg_t
 *
lg
, 
¢d_cÚfig_t
 *
cfg
,

237 *
´iv©e
 
ATTRIBUTE_UNUSED
);

239 
	`lg_·r£_d­m_widg‘
(
¢d_lg_t
 *
lg
,

240 
¢d_cÚfig_t
 *
cfg
, *
´iv©e
 
ATTRIBUTE_UNUSED
);

242 
	`lg_·r£_¡»am_ÿps
(
¢d_lg_t
 *
lg
,

243 
¢d_cÚfig_t
 *
cfg
, *
´iv©e
 
ATTRIBUTE_UNUSED
);

245 
	`lg_·r£_pcm
(
¢d_lg_t
 *
lg
,

246 
¢d_cÚfig_t
 *
cfg
, *
´iv©e
 
ATTRIBUTE_UNUSED
);

248 
	`lg_·r£_dai
(
¢d_lg_t
 *
lg
, 
¢d_cÚfig_t
 *
cfg
,

249 *
´iv©e
 
ATTRIBUTE_UNUSED
);

251 
	`lg_·r£_lšk
(
¢d_lg_t
 *
lg
,

252 
¢d_cÚfig_t
 *
cfg
, *
´iv©e
 
ATTRIBUTE_UNUSED
);

254 
	`lg_·r£_cc
(
¢d_lg_t
 *
lg
,

255 
¢d_cÚfig_t
 *
cfg
, *
´iv©e
 
ATTRIBUTE_UNUSED
);

257 
	`lg_·r£_hw_cÚfig
(
¢d_lg_t
 *
lg
, 
¢d_cÚfig_t
 *
cfg
,

258 *
´iv©e
 
ATTRIBUTE_UNUSED
);

260 
	`lg_bud_d©a
(
¢d_lg_t
 *
lg
);

261 
	`lg_bud_mªiã¡_d©a
(
¢d_lg_t
 *
lg
);

262 
	`lg_bud_cÚŒŞs
(
¢d_lg_t
 *
lg
);

263 
	`lg_bud_widg‘s
(
¢d_lg_t
 *
lg
);

264 
	`lg_bud_rou‹s
(
¢d_lg_t
 *
lg
);

265 
	`lg_bud_pcm_dai
(
¢d_lg_t
 *
lg
, 
ty³
);

267 
	`lg_cİy_d©a
(
¢d_lg_t
 *
lg
, 
lg_–em
 *
–em
,

268 
lg_»f
 *
»f
);

270 
	`lg_·r£_d©a_»fs
(
¢d_cÚfig_t
 *
cfg
, 
lg_–em
 *
–em
);

272 
	`lg_»f_add
(
lg_–em
 *
–em
, 
ty³
, cÚ¡ * 
id
);

273 
	`lg_»f_add_–em
(
lg_–em
 *
–em
, lg_–em *
–em_»f
);

275 
lg_–em
 *
	`lg_–em_Ãw
();

276 
	`lg_–em_ä“
(
lg_–em
 *
–em
);

277 
	`lg_–em_ä“_li¡
(
li¡_h—d
 *
ba£
);

278 
lg_–em
 *
	`lg_–em_lookup
(
li¡_h—d
 *
ba£
,

279 cÚ¡ * 
id
,

280 
ty³
,

281 
šdex
);

282 
lg_–em
* 
	`lg_–em_Ãw_commÚ
(
¢d_lg_t
 *
lg
,

283 
¢d_cÚfig_t
 *
cfg
, cÚ¡ *
Çme
, 
¢d_lg_ty³
 
ty³
);

285 
šlše
 
	$–em_cİy_‹xt
(*
de¡
, cÚ¡ *
¤c
, 
Ën
)

287 ià(!
de¡
 || !
¤c
 || !
Ën
)

290 
	`¡ºıy
(
de¡
, 
¤c
, 
Ën
);

291 
de¡
[
Ën
 - 1] = 0;

292 
	}
}

294 
lg_·r£_chªÃl
(
¢d_lg_t
 *
lg
 
ATTRIBUTE_UNUSED
,

295 
¢d_cÚfig_t
 *
cfg
, *
´iv©e
);

297 
lg_·r£_İs
(
¢d_lg_t
 *
lg
 
ATTRIBUTE_UNUSED
,

298 
¢d_cÚfig_t
 *
cfg
, *
´iv©e
);

299 
lg_·r£_ext_İs
(
¢d_lg_t
 *
lg
 
ATTRIBUTE_UNUSED
,

300 
¢d_cÚfig_t
 *
cfg
, *
´iv©e
);

302 
lg_–em
 *
lookup_pcm_dai_¡»am
(
li¡_h—d
 *
ba£
,

303 cÚ¡ * 
id
);

305 
lg_add_mix”_objeù
(
¢d_lg_t
 *
lg
, 
¢d_lg_obj_‹m¶©e_t
 *
t
);

306 
lg_add_’um_objeù
(
¢d_lg_t
 *
lg
, 
¢d_lg_obj_‹m¶©e_t
 *
t
);

307 
lg_add_by‹s_objeù
(
¢d_lg_t
 *
lg
, 
¢d_lg_obj_‹m¶©e_t
 *
t
);

308 
lg_add_widg‘_objeù
(
¢d_lg_t
 *
lg
, 
¢d_lg_obj_‹m¶©e_t
 *
t
);

309 
lg_add_g¿ph_objeù
(
¢d_lg_t
 *
lg
, 
¢d_lg_obj_‹m¶©e_t
 *
t
);

311 
lg_add_mix”
(
¢d_lg_t
 *
lg
, 
¢d_lg_mix”_‹m¶©e
 *
mix”
,

312 
lg_–em
 **
e
);

313 
lg_add_’um
(
¢d_lg_t
 *
lg
, 
¢d_lg_’um_‹m¶©e
 *
’um_ùl
,

314 
lg_–em
 **
e
);

315 
lg_add_by‹s
(
¢d_lg_t
 *
lg
, 
¢d_lg_by‹s_‹m¶©e
 *
by‹s_ùl
,

316 
lg_–em
 **
e
);

318 
lg_bud_pcms
(
¢d_lg_t
 *
lg
, 
ty³
);

319 
lg_bud_dais
(
¢d_lg_t
 *
lg
, 
ty³
);

320 
lg_bud_lšks
(
¢d_lg_t
 *
lg
, 
ty³
);

321 
lg_add_lšk_objeù
(
¢d_lg_t
 *
lg
, 
¢d_lg_obj_‹m¶©e_t
 *
t
);

322 
lg_add_pcm_objeù
(
¢d_lg_t
 *
lg
, 
¢d_lg_obj_‹m¶©e_t
 *
t
);

323 
lg_add_dai_objeù
(
¢d_lg_t
 *
lg
, 
¢d_lg_obj_‹m¶©e_t
 *
t
);

	@/usr/include/ctype.h

22 #iâdef 
_CTYPE_H


23 
	#_CTYPE_H
 1

	)

25 
	~<ã©u»s.h
>

26 
	~<b™s/ty³s.h
>

28 
	g__BEGIN_DECLS


30 #iâdeà
_ISb™


39 
	~<’dŸn.h
>

40 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


41 
	#_ISb™
(
b™
è(1 << (b™))

	)

43 
	#_ISb™
(
b™
è((b™è< 8 ? ((1 << (b™)è<< 8è: ((1 << (b™)è>> 8))

	)

48 
	m_ISuµ”
 = 
_ISb™
 (0),

49 
	m_ISlow”
 = 
_ISb™
 (1),

50 
	m_IS®pha
 = 
_ISb™
 (2),

51 
	m_ISdig™
 = 
_ISb™
 (3),

52 
	m_ISxdig™
 = 
_ISb™
 (4),

53 
	m_IS¥aû
 = 
_ISb™
 (5),

54 
	m_IS´št
 = 
_ISb™
 (6),

55 
	m_ISg¿ph
 = 
_ISb™
 (7),

56 
	m_ISbÏnk
 = 
_ISb™
 (8),

57 
	m_ISúŒl
 = 
_ISb™
 (9),

58 
	m_ISpunù
 = 
_ISb™
 (10),

59 
	m_IS®num
 = 
_ISb™
 (11)

79 cÚ¡ **
	$__ùy³_b_loc
 ()

80 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

81 cÚ¡ 
__št32_t
 **
	$__ùy³_tŞow”_loc
 ()

82 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

83 cÚ¡ 
__št32_t
 **
	$__ùy³_touµ”_loc
 ()

84 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

87 #iâdeà
__ılu¥lus


88 
	#__isùy³
(
c
, 
ty³
) \

89 ((*
	`__ùy³_b_loc
 ())[(è(
c
)] & (è
ty³
)

	)

90 #–ià
defšed
 
__USE_EXTERN_INLINES


91 
	#__isùy³_f
(
ty³
) \

92 
__ex‹º_šlše
 \

93 
is
##
	`ty³
 (
__c
è
__THROW
 \

95  (*
	`__ùy³_b_loc
 ())[(è(
__c
)] & (è
_IS
##
ty³
; \

96 
	}

	)
}

99 
	#__i§scii
(
c
è(((cè& ~0x7fè=ğ0è

	)

100 
	#__tßscii
(
c
è((cè& 0x7fè

	)

102 
	#__exùy³
(
Çme
è
	`Çme
 (è
__THROW


	)

108 
__exùy³
 (
i§Êum
);

109 
__exùy³
 (
i§Íha
);

110 
__exùy³
 (
isúŒl
);

111 
__exùy³
 (
isdig™
);

112 
__exùy³
 (
i¦ow”
);

113 
__exùy³
 (
isg¿ph
);

114 
__exùy³
 (
i¥ršt
);

115 
__exùy³
 (
i¥unù
);

116 
__exùy³
 (
is¥aû
);

117 
__exùy³
 (
isuµ”
);

118 
__exùy³
 (
isxdig™
);

122 
	$tŞow”
 (
__c
è
__THROW
;

125 
	$touµ”
 (
__c
è
__THROW
;

129 #ifdef 
__USE_ISOC99


130 
	`__exùy³
 (
isbÏnk
);

133 #ifdeà
__USE_GNU


135 
	$isùy³
 (
__c
, 
__mask
è
__THROW
;

138 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


142 
	$i§scii
 (
__c
è
__THROW
;

146 
	$tßscii
 (
__c
è
__THROW
;

150 
	`__exùy³
 (
_touµ”
);

151 
	`__exùy³
 (
_tŞow”
);

155 
	#__tobody
(
c
, 
f
, 
a
, 
¬gs
) \

156 (
__ex‹nsiÚ__
 \

157 ({ 
__»s
; \

158 ià( (
c
) > 1) \

160 ià(
	`__butš_cÚ¡ªt_p
 (
c
)) \

162 
__c
 = (
c
); \

163 
__»s
 = 
__c
 < -128 || __ø> 255 ? __ø: (
a
)[__c]; \

166 
__»s
 = 
f
 
¬gs
; \

169 
__»s
 = (
a
)[(è(
c
)]; \

170 
__»s
; 
	}
}))

	)

172 #ià!
defšed
 
__NO_CTYPE


173 #ifdeà
__isùy³_f


174 
	$__isùy³_f
 (
®num
)

175 
	$__isùy³_f
 (
®pha
)

176 
	$__isùy³_f
 (
úŒl
)

177 
	$__isùy³_f
 (
dig™
)

178 
	$__isùy³_f
 (
low”
)

179 
	$__isùy³_f
 (
g¿ph
)

180 
	$__isùy³_f
 (
´št
)

181 
	$__isùy³_f
 (
punù
)

182 
	$__isùy³_f
 (
¥aû
)

183 
	$__isùy³_f
 (
uµ”
)

184 
	$__isùy³_f
 (
xdig™
)

185 #ifdeà
__USE_ISOC99


186 
	$__isùy³_f
 (
bÏnk
)

188 #–ià
defšed
 
__isùy³


189 
	#i§Êum
(
c
è
	`__isùy³
((c), 
_IS®num
)

	)

190 
	#i§Íha
(
c
è
	`__isùy³
((c), 
_IS®pha
)

	)

191 
	#isúŒl
(
c
è
	`__isùy³
((c), 
_ISúŒl
)

	)

192 
	#isdig™
(
c
è
	`__isùy³
((c), 
_ISdig™
)

	)

193 
	#i¦ow”
(
c
è
	`__isùy³
((c), 
_ISlow”
)

	)

194 
	#isg¿ph
(
c
è
	`__isùy³
((c), 
_ISg¿ph
)

	)

195 
	#i¥ršt
(
c
è
	`__isùy³
((c), 
_IS´št
)

	)

196 
	#i¥unù
(
c
è
	`__isùy³
((c), 
_ISpunù
)

	)

197 
	#is¥aû
(
c
è
	`__isùy³
((c), 
_IS¥aû
)

	)

198 
	#isuµ”
(
c
è
	`__isùy³
((c), 
_ISuµ”
)

	)

199 
	#isxdig™
(
c
è
	`__isùy³
((c), 
_ISxdig™
)

	)

200 #ifdeà
__USE_ISOC99


201 
	#isbÏnk
(
c
è
	`__isùy³
((c), 
_ISbÏnk
)

	)

205 #ifdeà
__USE_EXTERN_INLINES


206 
__ex‹º_šlše
 

207 
	`__NTH
 (
	$tŞow”
 (
__c
))

209  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_tŞow”_loc
 ())[__c] : __c;

210 
	}
}

212 
__ex‹º_šlše
 

213 
__NTH
 (
	$touµ”
 (
__c
))

215  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_touµ”_loc
 ())[__c] : __c;

216 
	}
}

219 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


220 
	#tŞow”
(
c
è
	`__tobody
 (c, 
tŞow”
, *
	`__ùy³_tŞow”_loc
 (), (c))

	)

221 
	#touµ”
(
c
è
	`__tobody
 (c, 
touµ”
, *
	`__ùy³_touµ”_loc
 (), (c))

	)

224 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


225 
	#i§scii
(
c
è
	`__i§scii
 (c)

	)

226 
	#tßscii
(
c
è
	`__tßscii
 (c)

	)

228 
	#_tŞow”
(
c
è((è(*
	`__ùy³_tŞow”_loc
 ())[(è(c)])

	)

229 
	#_touµ”
(
c
è((è(*
	`__ùy³_touµ”_loc
 ())[(è(c)])

	)

235 #ifdeà
__USE_XOPEN2K8


237 
	~<b™s/ty³s/loÿË_t.h
>

241 
	#__isùy³_l
(
c
, 
ty³
, 
loÿË
) \

242 ((
loÿË
)->
__ùy³_b
[(è(
c
)] & (è
ty³
)

	)

244 
	#__exùy³_l
(
Çme
) \

245 
	`Çme
 (, 
loÿË_t
è
__THROW


	)

251 
__exùy³_l
 (
i§Êum_l
);

252 
__exùy³_l
 (
i§Íha_l
);

253 
__exùy³_l
 (
isúŒl_l
);

254 
__exùy³_l
 (
isdig™_l
);

255 
__exùy³_l
 (
i¦ow”_l
);

256 
__exùy³_l
 (
isg¿ph_l
);

257 
__exùy³_l
 (
i¥ršt_l
);

258 
__exùy³_l
 (
i¥unù_l
);

259 
__exùy³_l
 (
is¥aû_l
);

260 
__exùy³_l
 (
isuµ”_l
);

261 
__exùy³_l
 (
isxdig™_l
);

263 
__exùy³_l
 (
isbÏnk_l
);

267 
	$__tŞow”_l
 (
__c
, 
loÿË_t
 
__l
è
__THROW
;

268 
	$tŞow”_l
 (
__c
, 
loÿË_t
 
__l
è
__THROW
;

271 
	$__touµ”_l
 (
__c
, 
loÿË_t
 
__l
è
__THROW
;

272 
	$touµ”_l
 (
__c
, 
loÿË_t
 
__l
è
__THROW
;

274 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


275 
	#__tŞow”_l
(
c
, 
loÿË
) \

276 
	`__tobody
 (
c
, 
__tŞow”_l
, (
loÿË
)->
__ùy³_tŞow”
, (c,†oÿË))

	)

277 
	#__touµ”_l
(
c
, 
loÿË
) \

278 
	`__tobody
 (
c
, 
__touµ”_l
, (
loÿË
)->
__ùy³_touµ”
, (c,†oÿË))

	)

279 
	#tŞow”_l
(
c
, 
loÿË
è
	`__tŞow”_l
 ((c), (loÿË))

	)

280 
	#touµ”_l
(
c
, 
loÿË
è
	`__touµ”_l
 ((c), (loÿË))

	)

284 #iâdeà
__NO_CTYPE


285 
	#__i§Êum_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®num
, (l))

	)

286 
	#__i§Íha_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®pha
, (l))

	)

287 
	#__isúŒl_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISúŒl
, (l))

	)

288 
	#__isdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISdig™
, (l))

	)

289 
	#__i¦ow”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISlow”
, (l))

	)

290 
	#__isg¿ph_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISg¿ph
, (l))

	)

291 
	#__i¥ršt_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS´št
, (l))

	)

292 
	#__i¥unù_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISpunù
, (l))

	)

293 
	#__is¥aû_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS¥aû
, (l))

	)

294 
	#__isuµ”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISuµ”
, (l))

	)

295 
	#__isxdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISxdig™
, (l))

	)

297 
	#__isbÏnk_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISbÏnk
, (l))

	)

299 #ifdeà
__USE_MISC


300 
	#__i§scii_l
(
c
,
l
è(Ö), 
	`__i§scii
 (c))

	)

301 
	#__tßscii_l
(
c
,
l
è(Ö), 
	`__tßscii
 (c))

	)

304 
	#i§Êum_l
(
c
,
l
è
	`__i§Êum_l
 ((c), (l))

	)

305 
	#i§Íha_l
(
c
,
l
è
	`__i§Íha_l
 ((c), (l))

	)

306 
	#isúŒl_l
(
c
,
l
è
	`__isúŒl_l
 ((c), (l))

	)

307 
	#isdig™_l
(
c
,
l
è
	`__isdig™_l
 ((c), (l))

	)

308 
	#i¦ow”_l
(
c
,
l
è
	`__i¦ow”_l
 ((c), (l))

	)

309 
	#isg¿ph_l
(
c
,
l
è
	`__isg¿ph_l
 ((c), (l))

	)

310 
	#i¥ršt_l
(
c
,
l
è
	`__i¥ršt_l
 ((c), (l))

	)

311 
	#i¥unù_l
(
c
,
l
è
	`__i¥unù_l
 ((c), (l))

	)

312 
	#is¥aû_l
(
c
,
l
è
	`__is¥aû_l
 ((c), (l))

	)

313 
	#isuµ”_l
(
c
,
l
è
	`__isuµ”_l
 ((c), (l))

	)

314 
	#isxdig™_l
(
c
,
l
è
	`__isxdig™_l
 ((c), (l))

	)

316 
	#isbÏnk_l
(
c
,
l
è
	`__isbÏnk_l
 ((c), (l))

	)

318 #ifdeà
__USE_MISC


319 
	#i§scii_l
(
c
,
l
è
	`__i§scii_l
 ((c), (l))

	)

320 
	#tßscii_l
(
c
,
l
è
	`__tßscii_l
 ((c), (l))

	)

327 
__END_DECLS


	@/usr/include/limits.h

22 #iâdeà
_LIBC_LIMITS_H_


23 
	#_LIBC_LIMITS_H_
 1

	)

25 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

26 
	~<b™s/libc-h—d”-¡¬t.h
>

32 
	#MB_LEN_MAX
 16

	)

37 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2

42 #iâdeà
_LIMITS_H


43 
	#_LIMITS_H
 1

	)

45 
	~<b™s/wÜdsize.h
>

54 
	#CHAR_BIT
 8

	)

57 
	#SCHAR_MIN
 (-128)

	)

58 
	#SCHAR_MAX
 127

	)

61 
	#UCHAR_MAX
 255

	)

64 #ifdeà
__CHAR_UNSIGNED__


65 
	#CHAR_MIN
 0

	)

66 
	#CHAR_MAX
 
UCHAR_MAX


	)

68 
	#CHAR_MIN
 
SCHAR_MIN


	)

69 
	#CHAR_MAX
 
SCHAR_MAX


	)

73 
	#SHRT_MIN
 (-32768)

	)

74 
	#SHRT_MAX
 32767

	)

77 
	#USHRT_MAX
 65535

	)

80 
	#INT_MIN
 (-
INT_MAX
 - 1)

	)

81 
	#INT_MAX
 2147483647

	)

84 
	#UINT_MAX
 4294967295U

	)

87 #ià
__WORDSIZE
 == 64

88 
	#LONG_MAX
 9223372036854775807L

	)

90 
	#LONG_MAX
 2147483647L

	)

92 
	#LONG_MIN
 (-
LONG_MAX
 - 1L)

	)

95 #ià
__WORDSIZE
 == 64

96 
	#ULONG_MAX
 18446744073709551615UL

	)

98 
	#ULONG_MAX
 4294967295UL

	)

101 #ifdeà
__USE_ISOC99


104 
	#LLONG_MAX
 9223372036854775807LL

	)

105 
	#LLONG_MIN
 (-
LLONG_MAX
 - 1LL)

	)

108 
	#ULLONG_MAX
 18446744073709551615ULL

	)

122 #ià
defšed
 
__GNUC__
 && !defšed 
_GCC_LIMITS_H_


124 #šşude_Ãxˆ<
lim™s
.
h
>

130 #ià
defšed
 
__USE_ISOC99
 && defšed 
__GNUC__


131 #iâdeà
LLONG_MIN


132 
	#LLONG_MIN
 (-
LLONG_MAX
-1)

	)

134 #iâdeà
LLONG_MAX


135 
	#LLONG_MAX
 
__LONG_LONG_MAX__


	)

137 #iâdeà
ULLONG_MAX


138 
	#ULLONG_MAX
 (
LLONG_MAX
 * 2ULL + 1)

	)

145 #ià
__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

146 #iâdeà
CHAR_WIDTH


147 
	#CHAR_WIDTH
 8

	)

149 #iâdeà
SCHAR_WIDTH


150 
	#SCHAR_WIDTH
 8

	)

152 #iâdeà
UCHAR_WIDTH


153 
	#UCHAR_WIDTH
 8

	)

155 #iâdeà
SHRT_WIDTH


156 
	#SHRT_WIDTH
 16

	)

158 #iâdeà
USHRT_WIDTH


159 
	#USHRT_WIDTH
 16

	)

161 #iâdeà
INT_WIDTH


162 
	#INT_WIDTH
 32

	)

164 #iâdeà
UINT_WIDTH


165 
	#UINT_WIDTH
 32

	)

167 #iâdeà
LONG_WIDTH


168 
	#LONG_WIDTH
 
__WORDSIZE


	)

170 #iâdeà
ULONG_WIDTH


171 
	#ULONG_WIDTH
 
__WORDSIZE


	)

173 #iâdeà
LLONG_WIDTH


174 
	#LLONG_WIDTH
 64

	)

176 #iâdeà
ULLONG_WIDTH


177 
	#ULLONG_WIDTH
 64

	)

181 #ifdef 
__USE_POSIX


183 
	~<b™s/posix1_lim.h
>

186 #ifdef 
__USE_POSIX2


187 
	~<b™s/posix2_lim.h
>

190 #ifdef 
__USE_XOPEN


191 
	~<b™s/xİ’_lim.h
>

	@/usr/include/sound/asoc.h

16 #iâdeà
__LINUX_UAPI_SND_ASOC_H


17 
	#__LINUX_UAPI_SND_ASOC_H


	)

19 
	~<lšux/ty³s.h
>

20 
	~<sound/asound.h
>

25 
	#SND_SOC_TPLG_MAX_CHAN
 8

	)

30 
	#SND_SOC_TPLG_MAX_FORMATS
 16

	)

35 
	#SND_SOC_TPLG_STREAM_CONFIG_MAX
 8

	)

40 
	#SND_SOC_TPLG_HW_CONFIG_MAX
 8

	)

43 
	#SND_SOC_TPLG_CTL_VOLSW
 1

	)

44 
	#SND_SOC_TPLG_CTL_VOLSW_SX
 2

	)

45 
	#SND_SOC_TPLG_CTL_VOLSW_XR_SX
 3

	)

46 
	#SND_SOC_TPLG_CTL_ENUM
 4

	)

47 
	#SND_SOC_TPLG_CTL_BYTES
 5

	)

48 
	#SND_SOC_TPLG_CTL_ENUM_VALUE
 6

	)

49 
	#SND_SOC_TPLG_CTL_RANGE
 7

	)

50 
	#SND_SOC_TPLG_CTL_STROBE
 8

	)

54 
	#SND_SOC_TPLG_DAPM_CTL_VOLSW
 64

	)

55 
	#SND_SOC_TPLG_DAPM_CTL_ENUM_DOUBLE
 65

	)

56 
	#SND_SOC_TPLG_DAPM_CTL_ENUM_VIRT
 66

	)

57 
	#SND_SOC_TPLG_DAPM_CTL_ENUM_VALUE
 67

	)

58 
	#SND_SOC_TPLG_DAPM_CTL_PIN
 68

	)

61 
	#SND_SOC_TPLG_DAPM_INPUT
 0

	)

62 
	#SND_SOC_TPLG_DAPM_OUTPUT
 1

	)

63 
	#SND_SOC_TPLG_DAPM_MUX
 2

	)

64 
	#SND_SOC_TPLG_DAPM_MIXER
 3

	)

65 
	#SND_SOC_TPLG_DAPM_PGA
 4

	)

66 
	#SND_SOC_TPLG_DAPM_OUT_DRV
 5

	)

67 
	#SND_SOC_TPLG_DAPM_ADC
 6

	)

68 
	#SND_SOC_TPLG_DAPM_DAC
 7

	)

69 
	#SND_SOC_TPLG_DAPM_SWITCH
 8

	)

70 
	#SND_SOC_TPLG_DAPM_PRE
 9

	)

71 
	#SND_SOC_TPLG_DAPM_POST
 10

	)

72 
	#SND_SOC_TPLG_DAPM_AIF_IN
 11

	)

73 
	#SND_SOC_TPLG_DAPM_AIF_OUT
 12

	)

74 
	#SND_SOC_TPLG_DAPM_DAI_IN
 13

	)

75 
	#SND_SOC_TPLG_DAPM_DAI_OUT
 14

	)

76 
	#SND_SOC_TPLG_DAPM_DAI_LINK
 15

	)

77 
	#SND_SOC_TPLG_DAPM_BUFFER
 16

	)

78 
	#SND_SOC_TPLG_DAPM_SCHEDULER
 17

	)

79 
	#SND_SOC_TPLG_DAPM_EFFECT
 18

	)

80 
	#SND_SOC_TPLG_DAPM_SIGGEN
 19

	)

81 
	#SND_SOC_TPLG_DAPM_SRC
 20

	)

82 
	#SND_SOC_TPLG_DAPM_ASRC
 21

	)

83 
	#SND_SOC_TPLG_DAPM_ENCODER
 22

	)

84 
	#SND_SOC_TPLG_DAPM_DECODER
 23

	)

85 
	#SND_SOC_TPLG_DAPM_LAST
 
SND_SOC_TPLG_DAPM_DECODER


	)

88 
	#SND_SOC_TPLG_MAGIC
 0x41536F43

	)

91 
	#SND_SOC_TPLG_NUM_TEXTS
 16

	)

94 
	#SND_SOC_TPLG_ABI_VERSION
 0x5

	)

95 
	#SND_SOC_TPLG_ABI_VERSION_MIN
 0x4

	)

98 
	#SND_SOC_TPLG_TLV_SIZE
 32

	)

106 
	#SND_SOC_TPLG_TYPE_MIXER
 1

	)

107 
	#SND_SOC_TPLG_TYPE_BYTES
 2

	)

108 
	#SND_SOC_TPLG_TYPE_ENUM
 3

	)

109 
	#SND_SOC_TPLG_TYPE_DAPM_GRAPH
 4

	)

110 
	#SND_SOC_TPLG_TYPE_DAPM_WIDGET
 5

	)

111 
	#SND_SOC_TPLG_TYPE_DAI_LINK
 6

	)

112 
	#SND_SOC_TPLG_TYPE_PCM
 7

	)

113 
	#SND_SOC_TPLG_TYPE_MANIFEST
 8

	)

114 
	#SND_SOC_TPLG_TYPE_CODEC_LINK
 9

	)

115 
	#SND_SOC_TPLG_TYPE_BACKEND_LINK
 10

	)

116 
	#SND_SOC_TPLG_TYPE_PDATA
 11

	)

117 
	#SND_SOC_TPLG_TYPE_DAI
 12

	)

118 
	#SND_SOC_TPLG_TYPE_MAX
 
SND_SOC_TPLG_TYPE_DAI


	)

121 
	#SND_SOC_TPLG_TYPE_VENDOR_FW
 1000

	)

122 
	#SND_SOC_TPLG_TYPE_VENDOR_CONFIG
 1001

	)

123 
	#SND_SOC_TPLG_TYPE_VENDOR_COEFF
 1002

	)

124 
	#SND_SOC_TPLG_TYPEVENDOR_CODEC
 1003

	)

126 
	#SND_SOC_TPLG_STREAM_PLAYBACK
 0

	)

127 
	#SND_SOC_TPLG_STREAM_CAPTURE
 1

	)

130 
	#SND_SOC_TPLG_TUPLE_TYPE_UUID
 0

	)

131 
	#SND_SOC_TPLG_TUPLE_TYPE_STRING
 1

	)

132 
	#SND_SOC_TPLG_TUPLE_TYPE_BOOL
 2

	)

133 
	#SND_SOC_TPLG_TUPLE_TYPE_BYTE
 3

	)

134 
	#SND_SOC_TPLG_TUPLE_TYPE_WORD
 4

	)

135 
	#SND_SOC_TPLG_TUPLE_TYPE_SHORT
 5

	)

138 
	#SND_SOC_TPLG_DAI_FLGBIT_SYMMETRIC_RATES
 (1 << 0)

	)

139 
	#SND_SOC_TPLG_DAI_FLGBIT_SYMMETRIC_CHANNELS
 (1 << 1)

	)

140 
	#SND_SOC_TPLG_DAI_FLGBIT_SYMMETRIC_SAMPLEBITS
 (1 << 2)

	)

145 
	#SND_SOC_DAI_FORMAT_I2S
 1

	)

146 
	#SND_SOC_DAI_FORMAT_RIGHT_J
 2

	)

147 
	#SND_SOC_DAI_FORMAT_LEFT_J
 3

	)

148 
	#SND_SOC_DAI_FORMAT_DSP_A
 4

	)

149 
	#SND_SOC_DAI_FORMAT_DSP_B
 5

	)

150 
	#SND_SOC_DAI_FORMAT_AC97
 6

	)

151 
	#SND_SOC_DAI_FORMAT_PDM
 7

	)

154 
	#SND_SOC_DAI_FORMAT_MSB
 
SND_SOC_DAI_FORMAT_LEFT_J


	)

155 
	#SND_SOC_DAI_FORMAT_LSB
 
SND_SOC_DAI_FORMAT_RIGHT_J


	)

158 
	#SND_SOC_TPLG_LNK_FLGBIT_SYMMETRIC_RATES
 (1 << 0)

	)

159 
	#SND_SOC_TPLG_LNK_FLGBIT_SYMMETRIC_CHANNELS
 (1 << 1)

	)

160 
	#SND_SOC_TPLG_LNK_FLGBIT_SYMMETRIC_SAMPLEBITS
 (1 << 2)

	)

161 
	#SND_SOC_TPLG_LNK_FLGBIT_VOICE_WAKEUP
 (1 << 3)

	)

167 
	s¢d_soc_lg_hdr
 {

168 
__Ë32
 
	mmagic
;

169 
__Ë32
 
	mabi
;

170 
__Ë32
 
	mv”siÚ
;

171 
__Ë32
 
	mty³
;

172 
__Ë32
 
	msize
;

173 
__Ë32
 
	mv’dÜ_ty³
;

174 
__Ë32
 
	m·ylßd_size
;

175 
__Ë32
 
	mšdex
;

176 
__Ë32
 
	mcouÁ
;

177 } 
__©Œibu‹__
((
·cked
));

180 
	s¢d_soc_lg_v’dÜ_uuid_–em
 {

181 
__Ë32
 
	mtok’
;

182 
	muuid
[16];

183 } 
__©Œibu‹__
((
·cked
));

186 
	s¢d_soc_lg_v’dÜ_v®ue_–em
 {

187 
__Ë32
 
	mtok’
;

188 
__Ë32
 
	mv®ue
;

189 } 
__©Œibu‹__
((
·cked
));

192 
	s¢d_soc_lg_v’dÜ_¡ršg_–em
 {

193 
__Ë32
 
	mtok’
;

194 
	m¡ršg
[
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
];

195 } 
__©Œibu‹__
((
·cked
));

197 
	s¢d_soc_lg_v’dÜ_¬¿y
 {

198 
__Ë32
 
	msize
;

199 
__Ë32
 
	mty³
;

200 
__Ë32
 
	mnum_–ems
;

202 
¢d_soc_lg_v’dÜ_uuid_–em
 
	muuid
[0];

203 
¢d_soc_lg_v’dÜ_v®ue_–em
 
	mv®ue
[0];

204 
¢d_soc_lg_v’dÜ_¡ršg_–em
 
	m¡ršg
[0];

206 } 
__©Œibu‹__
((
·cked
));

213 
	s¢d_soc_lg_´iv©e
 {

214 
__Ë32
 
	msize
;

216 
	md©a
[0];

217 
¢d_soc_lg_v’dÜ_¬¿y
 
	m¬¿y
[0];

219 } 
__©Œibu‹__
((
·cked
));

224 
	s¢d_soc_lg_v_dbsÿË
 {

225 
__Ë32
 
	mmš
;

226 
__Ë32
 
	m¡•
;

227 
__Ë32
 
	mmu‹
;

228 } 
__©Œibu‹__
((
·cked
));

230 
	s¢d_soc_lg_ùl_v
 {

231 
__Ë32
 
	msize
;

232 
__Ë32
 
	mty³
;

234 
__Ë32
 
	md©a
[
SND_SOC_TPLG_TLV_SIZE
];

235 
¢d_soc_lg_v_dbsÿË
 
	msÿË
;

237 } 
__©Œibu‹__
((
·cked
));

242 
	s¢d_soc_lg_chªÃl
 {

243 
__Ë32
 
	msize
;

244 
__Ë32
 
	m»g
;

245 
__Ë32
 
	mshiá
;

246 
__Ë32
 
	mid
;

247 } 
__©Œibu‹__
((
·cked
));

254 
	s¢d_soc_lg_io_İs
 {

255 
__Ë32
 
	mg‘
;

256 
__Ë32
 
	mput
;

257 
__Ë32
 
	mšfo
;

258 } 
__©Œibu‹__
((
·cked
));

263 
	s¢d_soc_lg_ùl_hdr
 {

264 
__Ë32
 
	msize
;

265 
__Ë32
 
	mty³
;

266 
	mÇme
[
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
];

267 
__Ë32
 
	macûss
;

268 
¢d_soc_lg_io_İs
 
	mİs
;

269 
¢d_soc_lg_ùl_v
 
	mv
;

270 } 
__©Œibu‹__
((
·cked
));

275 
	s¢d_soc_lg_¡»am_ÿps
 {

276 
__Ë32
 
	msize
;

277 
	mÇme
[
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
];

278 
__Ë64
 
	mfÜm©s
;

279 
__Ë32
 
	m¿‹s
;

280 
__Ë32
 
	m¿‹_mš
;

281 
__Ë32
 
	m¿‹_max
;

282 
__Ë32
 
	mchªÃls_mš
;

283 
__Ë32
 
	mchªÃls_max
;

284 
__Ë32
 
	m³riods_mš
;

285 
__Ë32
 
	m³riods_max
;

286 
__Ë32
 
	m³riod_size_mš
;

287 
__Ë32
 
	m³riod_size_max
;

288 
__Ë32
 
	mbufãr_size_mš
;

289 
__Ë32
 
	mbufãr_size_max
;

290 
__Ë32
 
	msig_b™s
;

291 } 
__©Œibu‹__
((
·cked
));

296 
	s¢d_soc_lg_¡»am
 {

297 
__Ë32
 
	msize
;

298 
	mÇme
[
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
];

299 
__Ë64
 
	mfÜm©
;

300 
__Ë32
 
	m¿‹
;

301 
__Ë32
 
	m³riod_by‹s
;

302 
__Ë32
 
	mbufãr_by‹s
;

303 
__Ë32
 
	mchªÃls
;

304 } 
__©Œibu‹__
((
·cked
));

311 
	s¢d_soc_lg_hw_cÚfig
 {

312 
__Ë32
 
	msize
;

313 
__Ë32
 
	mid
;

314 
__Ë32
 
	mfmt
;

315 
__u8
 
	mşock_g©ed
;

316 
__u8
 
	mšv”t_bşk
;

317 
__u8
 
	mšv”t_fsync
;

318 
__u8
 
	mbşk_ma¡”
;

319 
__u8
 
	mfsync_ma¡”
;

320 
__u8
 
	mmşk_dœeùiÚ
;

321 
__Ë16
 
	m»£rved
;

322 
__Ë32
 
	mmşk_¿‹
;

323 
__Ë32
 
	mbşk_¿‹
;

324 
__Ë32
 
	mfsync_¿‹
;

325 
__Ë32
 
	mtdm_¦Ùs
;

326 
__Ë32
 
	mtdm_¦Ù_width
;

327 
__Ë32
 
	mtx_¦Ùs
;

328 
__Ë32
 
	mrx_¦Ùs
;

329 
__Ë32
 
	mtx_chªÃls
;

330 
__Ë32
 
	mtx_chªm­
[
SND_SOC_TPLG_MAX_CHAN
];

331 
__Ë32
 
	mrx_chªÃls
;

332 
__Ë32
 
	mrx_chªm­
[
SND_SOC_TPLG_MAX_CHAN
];

333 } 
__©Œibu‹__
((
·cked
));

347 
	s¢d_soc_lg_mªiã¡
 {

348 
__Ë32
 
	msize
;

349 
__Ë32
 
	mcÚŒŞ_–ems
;

350 
__Ë32
 
	mwidg‘_–ems
;

351 
__Ë32
 
	mg¿ph_–ems
;

352 
__Ë32
 
	mpcm_–ems
;

353 
__Ë32
 
	mdai_lšk_–ems
;

354 
__Ë32
 
	mdai_–ems
;

355 
__Ë32
 
	m»£rved
[20];

356 
¢d_soc_lg_´iv©e
 
	m´iv
;

357 } 
__©Œibu‹__
((
·cked
));

369 
	s¢d_soc_lg_mix”_cÚŒŞ
 {

370 
¢d_soc_lg_ùl_hdr
 
	mhdr
;

371 
__Ë32
 
	msize
;

372 
__Ë32
 
	mmš
;

373 
__Ë32
 
	mmax
;

374 
__Ë32
 
	m¶©fÜm_max
;

375 
__Ë32
 
	mšv”t
;

376 
__Ë32
 
	mnum_chªÃls
;

377 
¢d_soc_lg_chªÃl
 
	mchªÃl
[
SND_SOC_TPLG_MAX_CHAN
];

378 
¢d_soc_lg_´iv©e
 
	m´iv
;

379 } 
__©Œibu‹__
((
·cked
));

391 
	s¢d_soc_lg_’um_cÚŒŞ
 {

392 
¢d_soc_lg_ùl_hdr
 
	mhdr
;

393 
__Ë32
 
	msize
;

394 
__Ë32
 
	mnum_chªÃls
;

395 
¢d_soc_lg_chªÃl
 
	mchªÃl
[
SND_SOC_TPLG_MAX_CHAN
];

396 
__Ë32
 
	m™ems
;

397 
__Ë32
 
	mmask
;

398 
__Ë32
 
	mcouÁ
;

399 
	m‹xts
[
SND_SOC_TPLG_NUM_TEXTS
][
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
];

400 
__Ë32
 
	mv®ues
[
SND_SOC_TPLG_NUM_TEXTS
 * 
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
 / 4];

401 
¢d_soc_lg_´iv©e
 
	m´iv
;

402 } 
__©Œibu‹__
((
·cked
));

414 
	s¢d_soc_lg_by‹s_cÚŒŞ
 {

415 
¢d_soc_lg_ùl_hdr
 
	mhdr
;

416 
__Ë32
 
	msize
;

417 
__Ë32
 
	mmax
;

418 
__Ë32
 
	mmask
;

419 
__Ë32
 
	mba£
;

420 
__Ë32
 
	mnum_»gs
;

421 
¢d_soc_lg_io_İs
 
	mext_İs
;

422 
¢d_soc_lg_´iv©e
 
	m´iv
;

423 } 
__©Œibu‹__
((
·cked
));

435 
	s¢d_soc_lg_d­m_g¿ph_–em
 {

436 
	msšk
[
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
];

437 
	mcÚŒŞ
[
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
];

438 
	msourû
[
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
];

439 } 
__©Œibu‹__
((
·cked
));

457 
	s¢d_soc_lg_d­m_widg‘
 {

458 
__Ë32
 
	msize
;

459 
__Ë32
 
	mid
;

460 
	mÇme
[
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
];

461 
	m¢ame
[
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
];

463 
__Ë32
 
	m»g
;

464 
__Ë32
 
	mshiá
;

465 
__Ë32
 
	mmask
;

466 
__Ë32
 
	msub£q
;

467 
__Ë32
 
	mšv”t
;

468 
__Ë32
 
	mignÜe_su¥’d
;

469 
__Ë16
 
	mev’t_æags
;

470 
__Ë16
 
	mev’t_ty³
;

471 
__Ë32
 
	mnum_kcÚŒŞs
;

472 
¢d_soc_lg_´iv©e
 
	m´iv
;

477 } 
__©Œibu‹__
((
·cked
));

490 
	s¢d_soc_lg_pcm
 {

491 
__Ë32
 
	msize
;

492 
	mpcm_Çme
[
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
];

493 
	mdai_Çme
[
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
];

494 
__Ë32
 
	mpcm_id
;

495 
__Ë32
 
	mdai_id
;

496 
__Ë32
 
	m¶ayback
;

497 
__Ë32
 
	mÿ±u»
;

498 
__Ë32
 
	mcom´ess
;

499 
¢d_soc_lg_¡»am
 
	m¡»am
[
SND_SOC_TPLG_STREAM_CONFIG_MAX
];

500 
__Ë32
 
	mnum_¡»ams
;

501 
¢d_soc_lg_¡»am_ÿps
 
	mÿps
[2];

502 
__Ë32
 
	mæag_mask
;

503 
__Ë32
 
	mæags
;

504 
¢d_soc_lg_´iv©e
 
	m´iv
;

505 } 
__©Œibu‹__
((
·cked
));

518 
	s¢d_soc_lg_lšk_cÚfig
 {

519 
__Ë32
 
	msize
;

520 
__Ë32
 
	mid
;

521 
	mÇme
[
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
];

522 
	m¡»am_Çme
[
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
];

523 
¢d_soc_lg_¡»am
 
	m¡»am
[
SND_SOC_TPLG_STREAM_CONFIG_MAX
];

524 
__Ë32
 
	mnum_¡»ams
;

525 
¢d_soc_lg_hw_cÚfig
 
	mhw_cÚfig
[
SND_SOC_TPLG_HW_CONFIG_MAX
];

526 
__Ë32
 
	mnum_hw_cÚfigs
;

527 
__Ë32
 
	mdeçuÉ_hw_cÚfig_id
;

528 
__Ë32
 
	mæag_mask
;

529 
__Ë32
 
	mæags
;

530 
¢d_soc_lg_´iv©e
 
	m´iv
;

531 } 
__©Œibu‹__
((
·cked
));

544 
	s¢d_soc_lg_dai
 {

545 
__Ë32
 
	msize
;

546 
	mdai_Çme
[
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
];

547 
__Ë32
 
	mdai_id
;

548 
__Ë32
 
	m¶ayback
;

549 
__Ë32
 
	mÿ±u»
;

550 
¢d_soc_lg_¡»am_ÿps
 
	mÿps
[2];

551 
__Ë32
 
	mæag_mask
;

552 
__Ë32
 
	mæags
;

553 
¢d_soc_lg_´iv©e
 
	m´iv
;

554 } 
__©Œibu‹__
((
·cked
));

	@/usr/include/sound/asound.h

24 #iâdeà
__SOUND_ASOUND_H


25 
	#__SOUND_ASOUND_H


	)

27 #ià
defšed
(
__KERNEL__
è|| defšed(
__lšux__
)

28 
	~<lšux/ty³s.h
>

30 
	~<sys/ioùl.h
>

33 
	~<¡dlib.h
>

39 
	#SNDRV_PROTOCOL_VERSION
(
majÜ
, 
mšÜ
, 
submšÜ
è(((majÜ)<<16)|((mšÜ)<<8)|(submšÜ))

	)

40 
	#SNDRV_PROTOCOL_MAJOR
(
v”siÚ
è(((v”siÚ)>>16)&0xffff)

	)

41 
	#SNDRV_PROTOCOL_MINOR
(
v”siÚ
è(((v”siÚ)>>8)&0xff)

	)

42 
	#SNDRV_PROTOCOL_MICRO
(
v”siÚ
è((v”siÚ)&0xff)

	)

43 
	#SNDRV_PROTOCOL_INCOMPATIBLE
(
kv”siÚ
, 
uv”siÚ
) \

44 (
	`SNDRV_PROTOCOL_MAJOR
(
kv”siÚ
è!ğSNDRV_PROTOCOL_MAJOR(
uv”siÚ
) || \

45 (
	`SNDRV_PROTOCOL_MAJOR
(
kv”siÚ
è=ğSNDRV_PROTOCOL_MAJOR(
uv”siÚ
) && \

46 
	`SNDRV_PROTOCOL_MINOR
(
kv”siÚ
è!ğSNDRV_PROTOCOL_MINOR(
uv”siÚ
)))

	)

54 
	s¢d_«s_›c958
 {

55 
	m¡©us
[24];

56 
	msubcode
[147];

57 
	m·d
;

58 
	mdig_subäame
[4];

67 
	s¢d_ûa_861_aud_if
 {

68 
	mdb1_ù_cc
;

69 
	mdb2_sf_ss
;

70 
	mdb3
;

71 
	mdb4_ÿ
;

72 
	mdb5_dmšh_lsv
;

81 
	#SNDRV_HWDEP_VERSION
 
	`SNDRV_PROTOCOL_VERSION
(1, 0, 1)

	)

84 
	mSNDRV_HWDEP_IFACE_OPL2
 = 0,

85 
	mSNDRV_HWDEP_IFACE_OPL3
,

86 
	mSNDRV_HWDEP_IFACE_OPL4
,

87 
	mSNDRV_HWDEP_IFACE_SB16CSP
,

88 
	mSNDRV_HWDEP_IFACE_EMU10K1
,

89 
	mSNDRV_HWDEP_IFACE_YSS225
,

90 
	mSNDRV_HWDEP_IFACE_ICS2115
,

91 
	mSNDRV_HWDEP_IFACE_SSCAPE
,

92 
	mSNDRV_HWDEP_IFACE_VX
,

93 
	mSNDRV_HWDEP_IFACE_MIXART
,

94 
	mSNDRV_HWDEP_IFACE_USX2Y
,

95 
	mSNDRV_HWDEP_IFACE_EMUX_WAVETABLE
,

96 
	mSNDRV_HWDEP_IFACE_BLUETOOTH
,

97 
	mSNDRV_HWDEP_IFACE_USX2Y_PCM
,

98 
	mSNDRV_HWDEP_IFACE_PCXHR
,

99 
	mSNDRV_HWDEP_IFACE_SB_RC
,

100 
	mSNDRV_HWDEP_IFACE_HDA
,

101 
	mSNDRV_HWDEP_IFACE_USB_STREAM
,

102 
	mSNDRV_HWDEP_IFACE_FW_DICE
,

103 
	mSNDRV_HWDEP_IFACE_FW_FIREWORKS
,

104 
	mSNDRV_HWDEP_IFACE_FW_BEBOB
,

105 
	mSNDRV_HWDEP_IFACE_FW_OXFW
,

106 
	mSNDRV_HWDEP_IFACE_FW_DIGI00X
,

107 
	mSNDRV_HWDEP_IFACE_FW_TASCAM
,

108 
	mSNDRV_HWDEP_IFACE_LINE6
,

109 
	mSNDRV_HWDEP_IFACE_FW_MOTU
,

110 
	mSNDRV_HWDEP_IFACE_FW_FIREFACE
,

113 
	mSNDRV_HWDEP_IFACE_LAST
 = 
SNDRV_HWDEP_IFACE_FW_FIREFACE


116 
	s¢d_hwd•_šfo
 {

117 
	mdeviû
;

118 
	mÿrd
;

119 
	mid
[64];

120 
	mÇme
[80];

121 
	miçû
;

122 
	m»£rved
[64];

126 
	s¢d_hwd•_d¥_¡©us
 {

127 
	mv”siÚ
;

128 
	mid
[32];

129 
	mnum_d¥s
;

130 
	md¥_lßded
;

131 
	mch_»ady
;

132 
	m»£rved
[16];

135 
	s¢d_hwd•_d¥_image
 {

136 
	mšdex
;

137 
	mÇme
[64];

138 *
	mimage
;

139 
size_t
 
	mËngth
;

140 
	mdriv”_d©a
;

143 
	#SNDRV_HWDEP_IOCTL_PVERSION
 
	`_IOR
 ('H', 0x00, )

	)

144 
	#SNDRV_HWDEP_IOCTL_INFO
 
	`_IOR
 ('H', 0x01, 
¢d_hwd•_šfo
)

	)

145 
	#SNDRV_HWDEP_IOCTL_DSP_STATUS
 
	`_IOR
('H', 0x02, 
¢d_hwd•_d¥_¡©us
)

	)

146 
	#SNDRV_HWDEP_IOCTL_DSP_LOAD
 
	`_IOW
('H', 0x03, 
¢d_hwd•_d¥_image
)

	)

154 
	#SNDRV_PCM_VERSION
 
	`SNDRV_PROTOCOL_VERSION
(2, 0, 14)

	)

156 
	t¢d_pcm_uäames_t
;

157 sigÃd 
	t¢d_pcm_säames_t
;

160 
	mSNDRV_PCM_CLASS_GENERIC
 = 0,

161 
	mSNDRV_PCM_CLASS_MULTI
,

162 
	mSNDRV_PCM_CLASS_MODEM
,

163 
	mSNDRV_PCM_CLASS_DIGITIZER
,

165 
	mSNDRV_PCM_CLASS_LAST
 = 
SNDRV_PCM_CLASS_DIGITIZER
,

169 
	mSNDRV_PCM_SUBCLASS_GENERIC_MIX
 = 0,

170 
	mSNDRV_PCM_SUBCLASS_MULTI_MIX
,

172 
	mSNDRV_PCM_SUBCLASS_LAST
 = 
SNDRV_PCM_SUBCLASS_MULTI_MIX
,

176 
	mSNDRV_PCM_STREAM_PLAYBACK
 = 0,

177 
	mSNDRV_PCM_STREAM_CAPTURE
,

178 
	mSNDRV_PCM_STREAM_LAST
 = 
SNDRV_PCM_STREAM_CAPTURE
,

181 
	t__b™wi£
 
	t¢d_pcm_acûss_t
;

182 
	#SNDRV_PCM_ACCESS_MMAP_INTERLEAVED
 ((
¢d_pcm_acûss_t
è0è

	)

183 
	#SNDRV_PCM_ACCESS_MMAP_NONINTERLEAVED
 ((
¢d_pcm_acûss_t
è1è

	)

184 
	#SNDRV_PCM_ACCESS_MMAP_COMPLEX
 ((
¢d_pcm_acûss_t
è2è

	)

185 
	#SNDRV_PCM_ACCESS_RW_INTERLEAVED
 ((
¢d_pcm_acûss_t
è3è

	)

186 
	#SNDRV_PCM_ACCESS_RW_NONINTERLEAVED
 ((
¢d_pcm_acûss_t
è4è

	)

187 
	#SNDRV_PCM_ACCESS_LAST
 
SNDRV_PCM_ACCESS_RW_NONINTERLEAVED


	)

189 
	t__b™wi£
 
	t¢d_pcm_fÜm©_t
;

190 
	#SNDRV_PCM_FORMAT_S8
 ((
¢d_pcm_fÜm©_t
è0)

	)

191 
	#SNDRV_PCM_FORMAT_U8
 ((
¢d_pcm_fÜm©_t
è1)

	)

192 
	#SNDRV_PCM_FORMAT_S16_LE
 ((
¢d_pcm_fÜm©_t
è2)

	)

193 
	#SNDRV_PCM_FORMAT_S16_BE
 ((
¢d_pcm_fÜm©_t
è3)

	)

194 
	#SNDRV_PCM_FORMAT_U16_LE
 ((
¢d_pcm_fÜm©_t
è4)

	)

195 
	#SNDRV_PCM_FORMAT_U16_BE
 ((
¢d_pcm_fÜm©_t
è5)

	)

196 
	#SNDRV_PCM_FORMAT_S24_LE
 ((
¢d_pcm_fÜm©_t
è6è

	)

197 
	#SNDRV_PCM_FORMAT_S24_BE
 ((
¢d_pcm_fÜm©_t
è7è

	)

198 
	#SNDRV_PCM_FORMAT_U24_LE
 ((
¢d_pcm_fÜm©_t
è8è

	)

199 
	#SNDRV_PCM_FORMAT_U24_BE
 ((
¢d_pcm_fÜm©_t
è9è

	)

200 
	#SNDRV_PCM_FORMAT_S32_LE
 ((
¢d_pcm_fÜm©_t
è10)

	)

201 
	#SNDRV_PCM_FORMAT_S32_BE
 ((
¢d_pcm_fÜm©_t
è11)

	)

202 
	#SNDRV_PCM_FORMAT_U32_LE
 ((
¢d_pcm_fÜm©_t
è12)

	)

203 
	#SNDRV_PCM_FORMAT_U32_BE
 ((
¢d_pcm_fÜm©_t
è13)

	)

204 
	#SNDRV_PCM_FORMAT_FLOAT_LE
 ((
¢d_pcm_fÜm©_t
è14è

	)

205 
	#SNDRV_PCM_FORMAT_FLOAT_BE
 ((
¢d_pcm_fÜm©_t
è15è

	)

206 
	#SNDRV_PCM_FORMAT_FLOAT64_LE
 ((
¢d_pcm_fÜm©_t
è16è

	)

207 
	#SNDRV_PCM_FORMAT_FLOAT64_BE
 ((
¢d_pcm_fÜm©_t
è17è

	)

208 
	#SNDRV_PCM_FORMAT_IEC958_SUBFRAME_LE
 ((
¢d_pcm_fÜm©_t
è18è

	)

209 
	#SNDRV_PCM_FORMAT_IEC958_SUBFRAME_BE
 ((
¢d_pcm_fÜm©_t
è19è

	)

210 
	#SNDRV_PCM_FORMAT_MU_LAW
 ((
¢d_pcm_fÜm©_t
è20)

	)

211 
	#SNDRV_PCM_FORMAT_A_LAW
 ((
¢d_pcm_fÜm©_t
è21)

	)

212 
	#SNDRV_PCM_FORMAT_IMA_ADPCM
 ((
¢d_pcm_fÜm©_t
è22)

	)

213 
	#SNDRV_PCM_FORMAT_MPEG
 ((
¢d_pcm_fÜm©_t
è23)

	)

214 
	#SNDRV_PCM_FORMAT_GSM
 ((
¢d_pcm_fÜm©_t
è24)

	)

215 
	#SNDRV_PCM_FORMAT_SPECIAL
 ((
¢d_pcm_fÜm©_t
è31)

	)

216 
	#SNDRV_PCM_FORMAT_S24_3LE
 ((
¢d_pcm_fÜm©_t
è32è

	)

217 
	#SNDRV_PCM_FORMAT_S24_3BE
 ((
¢d_pcm_fÜm©_t
è33è

	)

218 
	#SNDRV_PCM_FORMAT_U24_3LE
 ((
¢d_pcm_fÜm©_t
è34è

	)

219 
	#SNDRV_PCM_FORMAT_U24_3BE
 ((
¢d_pcm_fÜm©_t
è35è

	)

220 
	#SNDRV_PCM_FORMAT_S20_3LE
 ((
¢d_pcm_fÜm©_t
è36è

	)

221 
	#SNDRV_PCM_FORMAT_S20_3BE
 ((
¢d_pcm_fÜm©_t
è37è

	)

222 
	#SNDRV_PCM_FORMAT_U20_3LE
 ((
¢d_pcm_fÜm©_t
è38è

	)

223 
	#SNDRV_PCM_FORMAT_U20_3BE
 ((
¢d_pcm_fÜm©_t
è39è

	)

224 
	#SNDRV_PCM_FORMAT_S18_3LE
 ((
¢d_pcm_fÜm©_t
è40è

	)

225 
	#SNDRV_PCM_FORMAT_S18_3BE
 ((
¢d_pcm_fÜm©_t
è41è

	)

226 
	#SNDRV_PCM_FORMAT_U18_3LE
 ((
¢d_pcm_fÜm©_t
è42è

	)

227 
	#SNDRV_PCM_FORMAT_U18_3BE
 ((
¢d_pcm_fÜm©_t
è43è

	)

228 
	#SNDRV_PCM_FORMAT_G723_24
 ((
¢d_pcm_fÜm©_t
è44è

	)

229 
	#SNDRV_PCM_FORMAT_G723_24_1B
 ((
¢d_pcm_fÜm©_t
è45è

	)

230 
	#SNDRV_PCM_FORMAT_G723_40
 ((
¢d_pcm_fÜm©_t
è46è

	)

231 
	#SNDRV_PCM_FORMAT_G723_40_1B
 ((
¢d_pcm_fÜm©_t
è47è

	)

232 
	#SNDRV_PCM_FORMAT_DSD_U8
 ((
¢d_pcm_fÜm©_t
è48è

	)

233 
	#SNDRV_PCM_FORMAT_DSD_U16_LE
 ((
¢d_pcm_fÜm©_t
è49è

	)

234 
	#SNDRV_PCM_FORMAT_DSD_U32_LE
 ((
¢d_pcm_fÜm©_t
è50è

	)

235 
	#SNDRV_PCM_FORMAT_DSD_U16_BE
 ((
¢d_pcm_fÜm©_t
è51è

	)

236 
	#SNDRV_PCM_FORMAT_DSD_U32_BE
 ((
¢d_pcm_fÜm©_t
è52è

	)

237 
	#SNDRV_PCM_FORMAT_LAST
 
SNDRV_PCM_FORMAT_DSD_U32_BE


	)

239 #ifdeà
SNDRV_LITTLE_ENDIAN


240 
	#SNDRV_PCM_FORMAT_S16
 
SNDRV_PCM_FORMAT_S16_LE


	)

241 
	#SNDRV_PCM_FORMAT_U16
 
SNDRV_PCM_FORMAT_U16_LE


	)

242 
	#SNDRV_PCM_FORMAT_S24
 
SNDRV_PCM_FORMAT_S24_LE


	)

243 
	#SNDRV_PCM_FORMAT_U24
 
SNDRV_PCM_FORMAT_U24_LE


	)

244 
	#SNDRV_PCM_FORMAT_S32
 
SNDRV_PCM_FORMAT_S32_LE


	)

245 
	#SNDRV_PCM_FORMAT_U32
 
SNDRV_PCM_FORMAT_U32_LE


	)

246 
	#SNDRV_PCM_FORMAT_FLOAT
 
SNDRV_PCM_FORMAT_FLOAT_LE


	)

247 
	#SNDRV_PCM_FORMAT_FLOAT64
 
SNDRV_PCM_FORMAT_FLOAT64_LE


	)

248 
	#SNDRV_PCM_FORMAT_IEC958_SUBFRAME
 
SNDRV_PCM_FORMAT_IEC958_SUBFRAME_LE


	)

250 #ifdeà
SNDRV_BIG_ENDIAN


251 
	#SNDRV_PCM_FORMAT_S16
 
SNDRV_PCM_FORMAT_S16_BE


	)

252 
	#SNDRV_PCM_FORMAT_U16
 
SNDRV_PCM_FORMAT_U16_BE


	)

253 
	#SNDRV_PCM_FORMAT_S24
 
SNDRV_PCM_FORMAT_S24_BE


	)

254 
	#SNDRV_PCM_FORMAT_U24
 
SNDRV_PCM_FORMAT_U24_BE


	)

255 
	#SNDRV_PCM_FORMAT_S32
 
SNDRV_PCM_FORMAT_S32_BE


	)

256 
	#SNDRV_PCM_FORMAT_U32
 
SNDRV_PCM_FORMAT_U32_BE


	)

257 
	#SNDRV_PCM_FORMAT_FLOAT
 
SNDRV_PCM_FORMAT_FLOAT_BE


	)

258 
	#SNDRV_PCM_FORMAT_FLOAT64
 
SNDRV_PCM_FORMAT_FLOAT64_BE


	)

259 
	#SNDRV_PCM_FORMAT_IEC958_SUBFRAME
 
SNDRV_PCM_FORMAT_IEC958_SUBFRAME_BE


	)

262 
	t__b™wi£
 
	t¢d_pcm_subfÜm©_t
;

263 
	#SNDRV_PCM_SUBFORMAT_STD
 ((
¢d_pcm_subfÜm©_t
è0)

	)

264 
	#SNDRV_PCM_SUBFORMAT_LAST
 
SNDRV_PCM_SUBFORMAT_STD


	)

266 
	#SNDRV_PCM_INFO_MMAP
 0x00000001

	)

267 
	#SNDRV_PCM_INFO_MMAP_VALID
 0x00000002

	)

268 
	#SNDRV_PCM_INFO_DOUBLE
 0x00000004

	)

269 
	#SNDRV_PCM_INFO_BATCH
 0x00000010

	)

270 
	#SNDRV_PCM_INFO_SYNC_APPLPTR
 0x00000020

	)

271 
	#SNDRV_PCM_INFO_INTERLEAVED
 0x00000100

	)

272 
	#SNDRV_PCM_INFO_NONINTERLEAVED
 0x00000200

	)

273 
	#SNDRV_PCM_INFO_COMPLEX
 0x00000400

	)

274 
	#SNDRV_PCM_INFO_BLOCK_TRANSFER
 0x00010000

	)

275 
	#SNDRV_PCM_INFO_OVERRANGE
 0x00020000

	)

276 
	#SNDRV_PCM_INFO_RESUME
 0x00040000

	)

277 
	#SNDRV_PCM_INFO_PAUSE
 0x00080000

	)

278 
	#SNDRV_PCM_INFO_HALF_DUPLEX
 0x00100000

	)

279 
	#SNDRV_PCM_INFO_JOINT_DUPLEX
 0x00200000

	)

280 
	#SNDRV_PCM_INFO_SYNC_START
 0x00400000

	)

281 
	#SNDRV_PCM_INFO_NO_PERIOD_WAKEUP
 0x00800000

	)

282 
	#SNDRV_PCM_INFO_HAS_WALL_CLOCK
 0x01000000

	)

283 
	#SNDRV_PCM_INFO_HAS_LINK_ATIME
 0x01000000

	)

284 
	#SNDRV_PCM_INFO_HAS_LINK_ABSOLUTE_ATIME
 0x02000000

	)

285 
	#SNDRV_PCM_INFO_HAS_LINK_ESTIMATED_ATIME
 0x04000000

	)

286 
	#SNDRV_PCM_INFO_HAS_LINK_SYNCHRONIZED_ATIME
 0x08000000

	)

288 
	#SNDRV_PCM_INFO_DRAIN_TRIGGER
 0x40000000

	)

289 
	#SNDRV_PCM_INFO_FIFO_IN_FRAMES
 0x80000000

	)

293 
	t__b™wi£
 
	t¢d_pcm_¡©e_t
;

294 
	#SNDRV_PCM_STATE_OPEN
 ((
¢d_pcm_¡©e_t
è0è

	)

295 
	#SNDRV_PCM_STATE_SETUP
 ((
¢d_pcm_¡©e_t
è1è

	)

296 
	#SNDRV_PCM_STATE_PREPARED
 ((
¢d_pcm_¡©e_t
è2è

	)

297 
	#SNDRV_PCM_STATE_RUNNING
 ((
¢d_pcm_¡©e_t
è3è

	)

298 
	#SNDRV_PCM_STATE_XRUN
 ((
¢d_pcm_¡©e_t
è4è

	)

299 
	#SNDRV_PCM_STATE_DRAINING
 ((
¢d_pcm_¡©e_t
è5è

	)

300 
	#SNDRV_PCM_STATE_PAUSED
 ((
¢d_pcm_¡©e_t
è6è

	)

301 
	#SNDRV_PCM_STATE_SUSPENDED
 ((
¢d_pcm_¡©e_t
è7è

	)

302 
	#SNDRV_PCM_STATE_DISCONNECTED
 ((
¢d_pcm_¡©e_t
è8è

	)

303 
	#SNDRV_PCM_STATE_LAST
 
SNDRV_PCM_STATE_DISCONNECTED


	)

306 
	mSNDRV_PCM_MMAP_OFFSET_DATA
 = 0x00000000,

307 
	mSNDRV_PCM_MMAP_OFFSET_STATUS
 = 0x80000000,

308 
	mSNDRV_PCM_MMAP_OFFSET_CONTROL
 = 0x81000000,

311 
	u¢d_pcm_sync_id
 {

312 
	mid
[16];

313 
	mid16
[8];

314 
	mid32
[4];

317 
	s¢d_pcm_šfo
 {

318 
	mdeviû
;

319 
	msubdeviû
;

320 
	m¡»am
;

321 
	mÿrd
;

322 
	mid
[64];

323 
	mÇme
[80];

324 
	msubÇme
[32];

325 
	mdev_şass
;

326 
	mdev_subşass
;

327 
	msubdeviûs_couÁ
;

328 
	msubdeviûs_ava
;

329 
¢d_pcm_sync_id
 
	msync
;

330 
	m»£rved
[64];

333 
	t¢d_pcm_hw_·¿m_t
;

334 
	#SNDRV_PCM_HW_PARAM_ACCESS
 0

	)

335 
	#SNDRV_PCM_HW_PARAM_FORMAT
 1

	)

336 
	#SNDRV_PCM_HW_PARAM_SUBFORMAT
 2

	)

337 
	#SNDRV_PCM_HW_PARAM_FIRST_MASK
 
SNDRV_PCM_HW_PARAM_ACCESS


	)

338 
	#SNDRV_PCM_HW_PARAM_LAST_MASK
 
SNDRV_PCM_HW_PARAM_SUBFORMAT


	)

340 
	#SNDRV_PCM_HW_PARAM_SAMPLE_BITS
 8

	)

341 
	#SNDRV_PCM_HW_PARAM_FRAME_BITS
 9

	)

342 
	#SNDRV_PCM_HW_PARAM_CHANNELS
 10

	)

343 
	#SNDRV_PCM_HW_PARAM_RATE
 11

	)

344 
	#SNDRV_PCM_HW_PARAM_PERIOD_TIME
 12

	)

347 
	#SNDRV_PCM_HW_PARAM_PERIOD_SIZE
 13

	)

350 
	#SNDRV_PCM_HW_PARAM_PERIOD_BYTES
 14

	)

353 
	#SNDRV_PCM_HW_PARAM_PERIODS
 15

	)

356 
	#SNDRV_PCM_HW_PARAM_BUFFER_TIME
 16

	)

359 
	#SNDRV_PCM_HW_PARAM_BUFFER_SIZE
 17

	)

360 
	#SNDRV_PCM_HW_PARAM_BUFFER_BYTES
 18

	)

361 
	#SNDRV_PCM_HW_PARAM_TICK_TIME
 19

	)

362 
	#SNDRV_PCM_HW_PARAM_FIRST_INTERVAL
 
SNDRV_PCM_HW_PARAM_SAMPLE_BITS


	)

363 
	#SNDRV_PCM_HW_PARAM_LAST_INTERVAL
 
SNDRV_PCM_HW_PARAM_TICK_TIME


	)

365 
	#SNDRV_PCM_HW_PARAMS_NORESAMPLE
 (1<<0è

	)

366 
	#SNDRV_PCM_HW_PARAMS_EXPORT_BUFFER
 (1<<1è

	)

367 
	#SNDRV_PCM_HW_PARAMS_NO_PERIOD_WAKEUP
 (1<<2è

	)

369 
	s¢d_š‹rv®
 {

370 
	mmš
, 
	mmax
;

371 
	mİ’mš
:1,

372 
	mİ’max
:1,

373 
	mš‹g”
:1,

374 
	mem±y
:1;

377 
	#SNDRV_MASK_MAX
 256

	)

379 
	s¢d_mask
 {

380 
__u32
 
	mb™s
[(
SNDRV_MASK_MAX
+31)/32];

383 
	s¢d_pcm_hw_·¿ms
 {

384 
	mæags
;

385 
¢d_mask
 
	mmasks
[
SNDRV_PCM_HW_PARAM_LAST_MASK
 -

386 
SNDRV_PCM_HW_PARAM_FIRST_MASK
 + 1];

387 
¢d_mask
 
	mm»s
[5];

388 
¢d_š‹rv®
 
	mš‹rv®s
[
SNDRV_PCM_HW_PARAM_LAST_INTERVAL
 -

389 
SNDRV_PCM_HW_PARAM_FIRST_INTERVAL
 + 1];

390 
¢d_š‹rv®
 
	mœes
[9];

391 
	mrmask
;

392 
	mcmask
;

393 
	mšfo
;

394 
	mmsb™s
;

395 
	m¿‹_num
;

396 
	m¿‹_d’
;

397 
¢d_pcm_uäames_t
 
	mfifo_size
;

398 
	m»£rved
[64];

402 
	mSNDRV_PCM_TSTAMP_NONE
 = 0,

403 
	mSNDRV_PCM_TSTAMP_ENABLE
,

404 
	mSNDRV_PCM_TSTAMP_LAST
 = 
SNDRV_PCM_TSTAMP_ENABLE
,

407 
	s¢d_pcm_sw_·¿ms
 {

408 
	mt¡amp_mode
;

409 
	m³riod_¡•
;

410 
	m¦“p_mš
;

411 
¢d_pcm_uäames_t
 
	mava_mš
;

412 
¢d_pcm_uäames_t
 
	mxãr_®ign
;

413 
¢d_pcm_uäames_t
 
	m¡¬t_th»shŞd
;

414 
¢d_pcm_uäames_t
 
	m¡İ_th»shŞd
;

415 
¢d_pcm_uäames_t
 
	ms’û_th»shŞd
;

416 
¢d_pcm_uäames_t
 
	ms’û_size
;

417 
¢d_pcm_uäames_t
 
	mbound¬y
;

418 
	m´Ùo
;

419 
	mt¡amp_ty³
;

420 
	m»£rved
[56];

423 
	s¢d_pcm_chªÃl_šfo
 {

424 
	mchªÃl
;

425 
__k”Ãl_off_t
 
	moff£t
;

426 
	mfœ¡
;

427 
	m¡•
;

435 
	mSNDRV_PCM_AUDIO_TSTAMP_TYPE_COMPAT
 = 0,

438 
	mSNDRV_PCM_AUDIO_TSTAMP_TYPE_DEFAULT
 = 1,

439 
	mSNDRV_PCM_AUDIO_TSTAMP_TYPE_LINK
 = 2,

440 
	mSNDRV_PCM_AUDIO_TSTAMP_TYPE_LINK_ABSOLUTE
 = 3,

441 
	mSNDRV_PCM_AUDIO_TSTAMP_TYPE_LINK_ESTIMATED
 = 4,

442 
	mSNDRV_PCM_AUDIO_TSTAMP_TYPE_LINK_SYNCHRONIZED
 = 5,

443 
	mSNDRV_PCM_AUDIO_TSTAMP_TYPE_LAST
 = 
SNDRV_PCM_AUDIO_TSTAMP_TYPE_LINK_SYNCHRONIZED


446 
	s¢d_pcm_¡©us
 {

447 
¢d_pcm_¡©e_t
 
	m¡©e
;

448 
time¥ec
 
	mŒigg”_t¡amp
;

449 
time¥ec
 
	mt¡amp
;

450 
¢d_pcm_uäames_t
 
	m­¶_±r
;

451 
¢d_pcm_uäames_t
 
	mhw_±r
;

452 
¢d_pcm_säames_t
 
	md–ay
;

453 
¢d_pcm_uäames_t
 
	mava
;

454 
¢d_pcm_uäames_t
 
	mava_max
;

455 
¢d_pcm_uäames_t
 
	mov”¿nge
;

456 
¢d_pcm_¡©e_t
 
	msu¥’ded_¡©e
;

457 
__u32
 
	maudio_t¡amp_d©a
;

458 
time¥ec
 
	maudio_t¡amp
;

459 
time¥ec
 
	mdriv”_t¡amp
;

460 
__u32
 
	maudio_t¡amp_accu¿cy
;

461 
	m»£rved
[52-2*(
time¥ec
)];

464 
	s¢d_pcm_mm­_¡©us
 {

465 
¢d_pcm_¡©e_t
 
	m¡©e
;

466 
	m·d1
;

467 
¢d_pcm_uäames_t
 
	mhw_±r
;

468 
time¥ec
 
	mt¡amp
;

469 
¢d_pcm_¡©e_t
 
	msu¥’ded_¡©e
;

470 
time¥ec
 
	maudio_t¡amp
;

473 
	s¢d_pcm_mm­_cÚŒŞ
 {

474 
¢d_pcm_uäames_t
 
	m­¶_±r
;

475 
¢d_pcm_uäames_t
 
	mava_mš
;

478 
	#SNDRV_PCM_SYNC_PTR_HWSYNC
 (1<<0è

	)

479 
	#SNDRV_PCM_SYNC_PTR_APPL
 (1<<1è

	)

480 
	#SNDRV_PCM_SYNC_PTR_AVAIL_MIN
 (1<<2è

	)

482 
	s¢d_pcm_sync_±r
 {

483 
	mæags
;

485 
¢d_pcm_mm­_¡©us
 
	m¡©us
;

486 
	m»£rved
[64];

487 } 
	ms
;

489 
¢d_pcm_mm­_cÚŒŞ
 
	mcÚŒŞ
;

490 
	m»£rved
[64];

491 } 
	mc
;

494 
	s¢d_xãri
 {

495 
¢d_pcm_säames_t
 
	m»suÉ
;

496 *
	mbuf
;

497 
¢d_pcm_uäames_t
 
	mäames
;

500 
	s¢d_xãº
 {

501 
¢d_pcm_säames_t
 
	m»suÉ
;

502 * *
	mbufs
;

503 
¢d_pcm_uäames_t
 
	mäames
;

507 
	mSNDRV_PCM_TSTAMP_TYPE_GETTIMEOFDAY
 = 0,

508 
	mSNDRV_PCM_TSTAMP_TYPE_MONOTONIC
,

509 
	mSNDRV_PCM_TSTAMP_TYPE_MONOTONIC_RAW
,

510 
	mSNDRV_PCM_TSTAMP_TYPE_LAST
 = 
SNDRV_PCM_TSTAMP_TYPE_MONOTONIC_RAW
,

515 
	mSNDRV_CHMAP_UNKNOWN
 = 0,

516 
	mSNDRV_CHMAP_NA
,

517 
	mSNDRV_CHMAP_MONO
,

519 
	mSNDRV_CHMAP_FL
,

520 
	mSNDRV_CHMAP_FR
,

521 
	mSNDRV_CHMAP_RL
,

522 
	mSNDRV_CHMAP_RR
,

523 
	mSNDRV_CHMAP_FC
,

524 
	mSNDRV_CHMAP_LFE
,

525 
	mSNDRV_CHMAP_SL
,

526 
	mSNDRV_CHMAP_SR
,

527 
	mSNDRV_CHMAP_RC
,

529 
	mSNDRV_CHMAP_FLC
,

530 
	mSNDRV_CHMAP_FRC
,

531 
	mSNDRV_CHMAP_RLC
,

532 
	mSNDRV_CHMAP_RRC
,

533 
	mSNDRV_CHMAP_FLW
,

534 
	mSNDRV_CHMAP_FRW
,

535 
	mSNDRV_CHMAP_FLH
,

536 
	mSNDRV_CHMAP_FCH
,

537 
	mSNDRV_CHMAP_FRH
,

538 
	mSNDRV_CHMAP_TC
,

539 
	mSNDRV_CHMAP_TFL
,

540 
	mSNDRV_CHMAP_TFR
,

541 
	mSNDRV_CHMAP_TFC
,

542 
	mSNDRV_CHMAP_TRL
,

543 
	mSNDRV_CHMAP_TRR
,

544 
	mSNDRV_CHMAP_TRC
,

546 
	mSNDRV_CHMAP_TFLC
,

547 
	mSNDRV_CHMAP_TFRC
,

548 
	mSNDRV_CHMAP_TSL
,

549 
	mSNDRV_CHMAP_TSR
,

550 
	mSNDRV_CHMAP_LLFE
,

551 
	mSNDRV_CHMAP_RLFE
,

552 
	mSNDRV_CHMAP_BC
,

553 
	mSNDRV_CHMAP_BLC
,

554 
	mSNDRV_CHMAP_BRC
,

555 
	mSNDRV_CHMAP_LAST
 = 
SNDRV_CHMAP_BRC
,

558 
	#SNDRV_CHMAP_POSITION_MASK
 0xffff

	)

559 
	#SNDRV_CHMAP_PHASE_INVERSE
 (0x01 << 16)

	)

560 
	#SNDRV_CHMAP_DRIVER_SPEC
 (0x02 << 16)

	)

562 
	#SNDRV_PCM_IOCTL_PVERSION
 
	`_IOR
('A', 0x00, )

	)

563 
	#SNDRV_PCM_IOCTL_INFO
 
	`_IOR
('A', 0x01, 
¢d_pcm_šfo
)

	)

564 
	#SNDRV_PCM_IOCTL_TSTAMP
 
	`_IOW
('A', 0x02, )

	)

565 
	#SNDRV_PCM_IOCTL_TTSTAMP
 
	`_IOW
('A', 0x03, )

	)

566 
	#SNDRV_PCM_IOCTL_USER_PVERSION
 
	`_IOW
('A', 0x04, )

	)

567 
	#SNDRV_PCM_IOCTL_HW_REFINE
 
	`_IOWR
('A', 0x10, 
¢d_pcm_hw_·¿ms
)

	)

568 
	#SNDRV_PCM_IOCTL_HW_PARAMS
 
	`_IOWR
('A', 0x11, 
¢d_pcm_hw_·¿ms
)

	)

569 
	#SNDRV_PCM_IOCTL_HW_FREE
 
	`_IO
('A', 0x12)

	)

570 
	#SNDRV_PCM_IOCTL_SW_PARAMS
 
	`_IOWR
('A', 0x13, 
¢d_pcm_sw_·¿ms
)

	)

571 
	#SNDRV_PCM_IOCTL_STATUS
 
	`_IOR
('A', 0x20, 
¢d_pcm_¡©us
)

	)

572 
	#SNDRV_PCM_IOCTL_DELAY
 
	`_IOR
('A', 0x21, 
¢d_pcm_säames_t
)

	)

573 
	#SNDRV_PCM_IOCTL_HWSYNC
 
	`_IO
('A', 0x22)

	)

574 
	#SNDRV_PCM_IOCTL_SYNC_PTR
 
	`_IOWR
('A', 0x23, 
¢d_pcm_sync_±r
)

	)

575 
	#SNDRV_PCM_IOCTL_STATUS_EXT
 
	`_IOWR
('A', 0x24, 
¢d_pcm_¡©us
)

	)

576 
	#SNDRV_PCM_IOCTL_CHANNEL_INFO
 
	`_IOR
('A', 0x32, 
¢d_pcm_chªÃl_šfo
)

	)

577 
	#SNDRV_PCM_IOCTL_PREPARE
 
	`_IO
('A', 0x40)

	)

578 
	#SNDRV_PCM_IOCTL_RESET
 
	`_IO
('A', 0x41)

	)

579 
	#SNDRV_PCM_IOCTL_START
 
	`_IO
('A', 0x42)

	)

580 
	#SNDRV_PCM_IOCTL_DROP
 
	`_IO
('A', 0x43)

	)

581 
	#SNDRV_PCM_IOCTL_DRAIN
 
	`_IO
('A', 0x44)

	)

582 
	#SNDRV_PCM_IOCTL_PAUSE
 
	`_IOW
('A', 0x45, )

	)

583 
	#SNDRV_PCM_IOCTL_REWIND
 
	`_IOW
('A', 0x46, 
¢d_pcm_uäames_t
)

	)

584 
	#SNDRV_PCM_IOCTL_RESUME
 
	`_IO
('A', 0x47)

	)

585 
	#SNDRV_PCM_IOCTL_XRUN
 
	`_IO
('A', 0x48)

	)

586 
	#SNDRV_PCM_IOCTL_FORWARD
 
	`_IOW
('A', 0x49, 
¢d_pcm_uäames_t
)

	)

587 
	#SNDRV_PCM_IOCTL_WRITEI_FRAMES
 
	`_IOW
('A', 0x50, 
¢d_xãri
)

	)

588 
	#SNDRV_PCM_IOCTL_READI_FRAMES
 
	`_IOR
('A', 0x51, 
¢d_xãri
)

	)

589 
	#SNDRV_PCM_IOCTL_WRITEN_FRAMES
 
	`_IOW
('A', 0x52, 
¢d_xãº
)

	)

590 
	#SNDRV_PCM_IOCTL_READN_FRAMES
 
	`_IOR
('A', 0x53, 
¢d_xãº
)

	)

591 
	#SNDRV_PCM_IOCTL_LINK
 
	`_IOW
('A', 0x60, )

	)

592 
	#SNDRV_PCM_IOCTL_UNLINK
 
	`_IO
('A', 0x61)

	)

604 
	#SNDRV_RAWMIDI_VERSION
 
	`SNDRV_PROTOCOL_VERSION
(2, 0, 0)

	)

607 
	mSNDRV_RAWMIDI_STREAM_OUTPUT
 = 0,

608 
	mSNDRV_RAWMIDI_STREAM_INPUT
,

609 
	mSNDRV_RAWMIDI_STREAM_LAST
 = 
SNDRV_RAWMIDI_STREAM_INPUT
,

612 
	#SNDRV_RAWMIDI_INFO_OUTPUT
 0x00000001

	)

613 
	#SNDRV_RAWMIDI_INFO_INPUT
 0x00000002

	)

614 
	#SNDRV_RAWMIDI_INFO_DUPLEX
 0x00000004

	)

616 
	s¢d_¿wmidi_šfo
 {

617 
	mdeviû
;

618 
	msubdeviû
;

619 
	m¡»am
;

620 
	mÿrd
;

621 
	mæags
;

622 
	mid
[64];

623 
	mÇme
[80];

624 
	msubÇme
[32];

625 
	msubdeviûs_couÁ
;

626 
	msubdeviûs_ava
;

627 
	m»£rved
[64];

630 
	s¢d_¿wmidi_·¿ms
 {

631 
	m¡»am
;

632 
size_t
 
	mbufãr_size
;

633 
size_t
 
	mava_mš
;

634 
	mno_aùive_£nsšg
: 1;

635 
	m»£rved
[16];

638 
	s¢d_¿wmidi_¡©us
 {

639 
	m¡»am
;

640 
time¥ec
 
	mt¡amp
;

641 
size_t
 
	mava
;

642 
size_t
 
	mxruns
;

643 
	m»£rved
[16];

646 
	#SNDRV_RAWMIDI_IOCTL_PVERSION
 
	`_IOR
('W', 0x00, )

	)

647 
	#SNDRV_RAWMIDI_IOCTL_INFO
 
	`_IOR
('W', 0x01, 
¢d_¿wmidi_šfo
)

	)

648 
	#SNDRV_RAWMIDI_IOCTL_PARAMS
 
	`_IOWR
('W', 0x10, 
¢d_¿wmidi_·¿ms
)

	)

649 
	#SNDRV_RAWMIDI_IOCTL_STATUS
 
	`_IOWR
('W', 0x20, 
¢d_¿wmidi_¡©us
)

	)

650 
	#SNDRV_RAWMIDI_IOCTL_DROP
 
	`_IOW
('W', 0x30, )

	)

651 
	#SNDRV_RAWMIDI_IOCTL_DRAIN
 
	`_IOW
('W', 0x31, )

	)

657 
	#SNDRV_TIMER_VERSION
 
	`SNDRV_PROTOCOL_VERSION
(2, 0, 6)

	)

660 
	mSNDRV_TIMER_CLASS_NONE
 = -1,

661 
	mSNDRV_TIMER_CLASS_SLAVE
 = 0,

662 
	mSNDRV_TIMER_CLASS_GLOBAL
,

663 
	mSNDRV_TIMER_CLASS_CARD
,

664 
	mSNDRV_TIMER_CLASS_PCM
,

665 
	mSNDRV_TIMER_CLASS_LAST
 = 
SNDRV_TIMER_CLASS_PCM
,

670 
	mSNDRV_TIMER_SCLASS_NONE
 = 0,

671 
	mSNDRV_TIMER_SCLASS_APPLICATION
,

672 
	mSNDRV_TIMER_SCLASS_SEQUENCER
,

673 
	mSNDRV_TIMER_SCLASS_OSS_SEQUENCER
,

674 
	mSNDRV_TIMER_SCLASS_LAST
 = 
SNDRV_TIMER_SCLASS_OSS_SEQUENCER
,

678 
	#SNDRV_TIMER_GLOBAL_SYSTEM
 0

	)

679 
	#SNDRV_TIMER_GLOBAL_RTC
 1

	)

680 
	#SNDRV_TIMER_GLOBAL_HPET
 2

	)

681 
	#SNDRV_TIMER_GLOBAL_HRTIMER
 3

	)

684 
	#SNDRV_TIMER_FLG_SLAVE
 (1<<0è

	)

686 
	s¢d_tim”_id
 {

687 
	mdev_şass
;

688 
	mdev_sşass
;

689 
	mÿrd
;

690 
	mdeviû
;

691 
	msubdeviû
;

694 
	s¢d_tim”_gšfo
 {

695 
¢d_tim”_id
 
	mtid
;

696 
	mæags
;

697 
	mÿrd
;

698 
	mid
[64];

699 
	mÇme
[80];

700 
	m»£rved0
;

701 
	m»sŞutiÚ
;

702 
	m»sŞutiÚ_mš
;

703 
	m»sŞutiÚ_max
;

704 
	mş›Ás
;

705 
	m»£rved
[32];

708 
	s¢d_tim”_g·¿ms
 {

709 
¢d_tim”_id
 
	mtid
;

710 
	m³riod_num
;

711 
	m³riod_d’
;

712 
	m»£rved
[32];

715 
	s¢d_tim”_g¡©us
 {

716 
¢d_tim”_id
 
	mtid
;

717 
	m»sŞutiÚ
;

718 
	m»sŞutiÚ_num
;

719 
	m»sŞutiÚ_d’
;

720 
	m»£rved
[32];

723 
	s¢d_tim”_£Ëù
 {

724 
¢d_tim”_id
 
	mid
;

725 
	m»£rved
[32];

728 
	s¢d_tim”_šfo
 {

729 
	mæags
;

730 
	mÿrd
;

731 
	mid
[64];

732 
	mÇme
[80];

733 
	m»£rved0
;

734 
	m»sŞutiÚ
;

735 
	m»£rved
[64];

738 
	#SNDRV_TIMER_PSFLG_AUTO
 (1<<0è

	)

739 
	#SNDRV_TIMER_PSFLG_EXCLUSIVE
 (1<<1è

	)

740 
	#SNDRV_TIMER_PSFLG_EARLY_EVENT
 (1<<2è

	)

742 
	s¢d_tim”_·¿ms
 {

743 
	mæags
;

744 
	mticks
;

745 
	mqueue_size
;

746 
	m»£rved0
;

747 
	mf‹r
;

748 
	m»£rved
[60];

751 
	s¢d_tim”_¡©us
 {

752 
time¥ec
 
	mt¡amp
;

753 
	m»sŞutiÚ
;

754 
	mlo¡
;

755 
	mov”run
;

756 
	mqueue
;

757 
	m»£rved
[64];

760 
	#SNDRV_TIMER_IOCTL_PVERSION
 
	`_IOR
('T', 0x00, )

	)

761 
	#SNDRV_TIMER_IOCTL_NEXT_DEVICE
 
	`_IOWR
('T', 0x01, 
¢d_tim”_id
)

	)

762 
	#SNDRV_TIMER_IOCTL_TREAD
 
	`_IOW
('T', 0x02, )

	)

763 
	#SNDRV_TIMER_IOCTL_GINFO
 
	`_IOWR
('T', 0x03, 
¢d_tim”_gšfo
)

	)

764 
	#SNDRV_TIMER_IOCTL_GPARAMS
 
	`_IOW
('T', 0x04, 
¢d_tim”_g·¿ms
)

	)

765 
	#SNDRV_TIMER_IOCTL_GSTATUS
 
	`_IOWR
('T', 0x05, 
¢d_tim”_g¡©us
)

	)

766 
	#SNDRV_TIMER_IOCTL_SELECT
 
	`_IOW
('T', 0x10, 
¢d_tim”_£Ëù
)

	)

767 
	#SNDRV_TIMER_IOCTL_INFO
 
	`_IOR
('T', 0x11, 
¢d_tim”_šfo
)

	)

768 
	#SNDRV_TIMER_IOCTL_PARAMS
 
	`_IOW
('T', 0x12, 
¢d_tim”_·¿ms
)

	)

769 
	#SNDRV_TIMER_IOCTL_STATUS
 
	`_IOR
('T', 0x14, 
¢d_tim”_¡©us
)

	)

771 
	#SNDRV_TIMER_IOCTL_START
 
	`_IO
('T', 0xa0)

	)

772 
	#SNDRV_TIMER_IOCTL_STOP
 
	`_IO
('T', 0xa1)

	)

773 
	#SNDRV_TIMER_IOCTL_CONTINUE
 
	`_IO
('T', 0xa2)

	)

774 
	#SNDRV_TIMER_IOCTL_PAUSE
 
	`_IO
('T', 0xa3)

	)

776 
	s¢d_tim”_»ad
 {

777 
	m»sŞutiÚ
;

778 
	mticks
;

782 
	mSNDRV_TIMER_EVENT_RESOLUTION
 = 0,

783 
	mSNDRV_TIMER_EVENT_TICK
,

784 
	mSNDRV_TIMER_EVENT_START
,

785 
	mSNDRV_TIMER_EVENT_STOP
,

786 
	mSNDRV_TIMER_EVENT_CONTINUE
,

787 
	mSNDRV_TIMER_EVENT_PAUSE
,

788 
	mSNDRV_TIMER_EVENT_EARLY
,

789 
	mSNDRV_TIMER_EVENT_SUSPEND
,

790 
	mSNDRV_TIMER_EVENT_RESUME
,

792 
	mSNDRV_TIMER_EVENT_MSTART
 = 
SNDRV_TIMER_EVENT_START
 + 10,

793 
	mSNDRV_TIMER_EVENT_MSTOP
 = 
SNDRV_TIMER_EVENT_STOP
 + 10,

794 
	mSNDRV_TIMER_EVENT_MCONTINUE
 = 
SNDRV_TIMER_EVENT_CONTINUE
 + 10,

795 
	mSNDRV_TIMER_EVENT_MPAUSE
 = 
SNDRV_TIMER_EVENT_PAUSE
 + 10,

796 
	mSNDRV_TIMER_EVENT_MSUSPEND
 = 
SNDRV_TIMER_EVENT_SUSPEND
 + 10,

797 
	mSNDRV_TIMER_EVENT_MRESUME
 = 
SNDRV_TIMER_EVENT_RESUME
 + 10,

800 
	s¢d_tim”_Œ—d
 {

801 
	mev’t
;

802 
time¥ec
 
	mt¡amp
;

803 
	mv®
;

812 
	#SNDRV_CTL_VERSION
 
	`SNDRV_PROTOCOL_VERSION
(2, 0, 7)

	)

814 
	s¢d_ùl_ÿrd_šfo
 {

815 
	mÿrd
;

816 
	m·d
;

817 
	mid
[16];

818 
	mdriv”
[16];

819 
	mÇme
[32];

820 
	mlÚgÇme
[80];

821 
	m»£rved_
[16];

822 
	mmix”Çme
[80];

823 
	mcompÚ’ts
[128];

826 
	t__b™wi£
 
	t¢d_ùl_–em_ty³_t
;

827 
	#SNDRV_CTL_ELEM_TYPE_NONE
 ((
¢d_ùl_–em_ty³_t
è0è

	)

828 
	#SNDRV_CTL_ELEM_TYPE_BOOLEAN
 ((
¢d_ùl_–em_ty³_t
è1è

	)

829 
	#SNDRV_CTL_ELEM_TYPE_INTEGER
 ((
¢d_ùl_–em_ty³_t
è2è

	)

830 
	#SNDRV_CTL_ELEM_TYPE_ENUMERATED
 ((
¢d_ùl_–em_ty³_t
è3è

	)

831 
	#SNDRV_CTL_ELEM_TYPE_BYTES
 ((
¢d_ùl_–em_ty³_t
è4è

	)

832 
	#SNDRV_CTL_ELEM_TYPE_IEC958
 ((
¢d_ùl_–em_ty³_t
è5è

	)

833 
	#SNDRV_CTL_ELEM_TYPE_INTEGER64
 ((
¢d_ùl_–em_ty³_t
è6è

	)

834 
	#SNDRV_CTL_ELEM_TYPE_LAST
 
SNDRV_CTL_ELEM_TYPE_INTEGER64


	)

836 
	t__b™wi£
 
	t¢d_ùl_–em_içû_t
;

837 
	#SNDRV_CTL_ELEM_IFACE_CARD
 ((
¢d_ùl_–em_içû_t
è0è

	)

838 
	#SNDRV_CTL_ELEM_IFACE_HWDEP
 ((
¢d_ùl_–em_içû_t
è1è

	)

839 
	#SNDRV_CTL_ELEM_IFACE_MIXER
 ((
¢d_ùl_–em_içû_t
è2è

	)

840 
	#SNDRV_CTL_ELEM_IFACE_PCM
 ((
¢d_ùl_–em_içû_t
è3è

	)

841 
	#SNDRV_CTL_ELEM_IFACE_RAWMIDI
 ((
¢d_ùl_–em_içû_t
è4è

	)

842 
	#SNDRV_CTL_ELEM_IFACE_TIMER
 ((
¢d_ùl_–em_içû_t
è5è

	)

843 
	#SNDRV_CTL_ELEM_IFACE_SEQUENCER
 ((
¢d_ùl_–em_içû_t
è6è

	)

844 
	#SNDRV_CTL_ELEM_IFACE_LAST
 
SNDRV_CTL_ELEM_IFACE_SEQUENCER


	)

846 
	#SNDRV_CTL_ELEM_ACCESS_READ
 (1<<0)

	)

847 
	#SNDRV_CTL_ELEM_ACCESS_WRITE
 (1<<1)

	)

848 
	#SNDRV_CTL_ELEM_ACCESS_READWRITE
 (
SNDRV_CTL_ELEM_ACCESS_READ
|
SNDRV_CTL_ELEM_ACCESS_WRITE
)

	)

849 
	#SNDRV_CTL_ELEM_ACCESS_VOLATILE
 (1<<2è

	)

850 
	#SNDRV_CTL_ELEM_ACCESS_TIMESTAMP
 (1<<3è

	)

851 
	#SNDRV_CTL_ELEM_ACCESS_TLV_READ
 (1<<4è

	)

852 
	#SNDRV_CTL_ELEM_ACCESS_TLV_WRITE
 (1<<5è

	)

853 
	#SNDRV_CTL_ELEM_ACCESS_TLV_READWRITE
 (
SNDRV_CTL_ELEM_ACCESS_TLV_READ
|
SNDRV_CTL_ELEM_ACCESS_TLV_WRITE
)

	)

854 
	#SNDRV_CTL_ELEM_ACCESS_TLV_COMMAND
 (1<<6è

	)

855 
	#SNDRV_CTL_ELEM_ACCESS_INACTIVE
 (1<<8è

	)

856 
	#SNDRV_CTL_ELEM_ACCESS_LOCK
 (1<<9è

	)

857 
	#SNDRV_CTL_ELEM_ACCESS_OWNER
 (1<<10è

	)

858 
	#SNDRV_CTL_ELEM_ACCESS_TLV_CALLBACK
 (1<<28è

	)

859 
	#SNDRV_CTL_ELEM_ACCESS_USER
 (1<<29è

	)

863 
	#SNDRV_CTL_POWER_D0
 0x0000

	)

864 
	#SNDRV_CTL_POWER_D1
 0x0100

	)

865 
	#SNDRV_CTL_POWER_D2
 0x0200

	)

866 
	#SNDRV_CTL_POWER_D3
 0x0300

	)

867 
	#SNDRV_CTL_POWER_D3hÙ
 (
SNDRV_CTL_POWER_D3
|0x0000è

	)

868 
	#SNDRV_CTL_POWER_D3cŞd
 (
SNDRV_CTL_POWER_D3
|0x0001è

	)

870 
	#SNDRV_CTL_ELEM_ID_NAME_MAXLEN
 44

	)

872 
	s¢d_ùl_–em_id
 {

873 
	mnumid
;

874 
¢d_ùl_–em_içû_t
 
	miçû
;

875 
	mdeviû
;

876 
	msubdeviû
;

877 
	mÇme
[
SNDRV_CTL_ELEM_ID_NAME_MAXLEN
];

878 
	mšdex
;

881 
	s¢d_ùl_–em_li¡
 {

882 
	moff£t
;

883 
	m¥aû
;

884 
	mu£d
;

885 
	mcouÁ
;

886 
¢d_ùl_–em_id
 *
	mpids
;

887 
	m»£rved
[50];

890 
	s¢d_ùl_–em_šfo
 {

891 
¢d_ùl_–em_id
 
	mid
;

892 
¢d_ùl_–em_ty³_t
 
	mty³
;

893 
	macûss
;

894 
	mcouÁ
;

895 
__k”Ãl_pid_t
 
	mowÃr
;

898 
	mmš
;

899 
	mmax
;

900 
	m¡•
;

901 } 
	mš‹g”
;

903 
	mmš
;

904 
	mmax
;

905 
	m¡•
;

906 } 
	mš‹g”64
;

908 
	m™ems
;

909 
	m™em
;

910 
	mÇme
[64];

911 
__u64
 
	mÇmes_±r
;

912 
	mÇmes_Ëngth
;

913 } 
	m’um”©ed
;

914 
	m»£rved
[128];

915 } 
	mv®ue
;

917 
	md
[4];

918 *
	md_±r
;

919 } 
	mdim’
;

920 
	m»£rved
[64-4*()];

923 
	s¢d_ùl_–em_v®ue
 {

924 
¢d_ùl_–em_id
 
	mid
;

925 
	mšdœeù
: 1;

928 
	mv®ue
[128];

929 *
	mv®ue_±r
;

930 } 
	mš‹g”
;

932 
	mv®ue
[64];

933 *
	mv®ue_±r
;

934 } 
	mš‹g”64
;

936 
	m™em
[128];

937 *
	m™em_±r
;

938 } 
	m’um”©ed
;

940 
	md©a
[512];

941 *
	md©a_±r
;

942 } 
	mby‹s
;

943 
¢d_«s_›c958
 
	m›c958
;

944 } 
	mv®ue
;

945 
time¥ec
 
	mt¡amp
;

946 
	m»£rved
[128-(
time¥ec
)];

949 
	s¢d_ùl_v
 {

950 
	mnumid
;

951 
	mËngth
;

952 
	mv
[0];

955 
	#SNDRV_CTL_IOCTL_PVERSION
 
	`_IOR
('U', 0x00, )

	)

956 
	#SNDRV_CTL_IOCTL_CARD_INFO
 
	`_IOR
('U', 0x01, 
¢d_ùl_ÿrd_šfo
)

	)

957 
	#SNDRV_CTL_IOCTL_ELEM_LIST
 
	`_IOWR
('U', 0x10, 
¢d_ùl_–em_li¡
)

	)

958 
	#SNDRV_CTL_IOCTL_ELEM_INFO
 
	`_IOWR
('U', 0x11, 
¢d_ùl_–em_šfo
)

	)

959 
	#SNDRV_CTL_IOCTL_ELEM_READ
 
	`_IOWR
('U', 0x12, 
¢d_ùl_–em_v®ue
)

	)

960 
	#SNDRV_CTL_IOCTL_ELEM_WRITE
 
	`_IOWR
('U', 0x13, 
¢d_ùl_–em_v®ue
)

	)

961 
	#SNDRV_CTL_IOCTL_ELEM_LOCK
 
	`_IOW
('U', 0x14, 
¢d_ùl_–em_id
)

	)

962 
	#SNDRV_CTL_IOCTL_ELEM_UNLOCK
 
	`_IOW
('U', 0x15, 
¢d_ùl_–em_id
)

	)

963 
	#SNDRV_CTL_IOCTL_SUBSCRIBE_EVENTS
 
	`_IOWR
('U', 0x16, )

	)

964 
	#SNDRV_CTL_IOCTL_ELEM_ADD
 
	`_IOWR
('U', 0x17, 
¢d_ùl_–em_šfo
)

	)

965 
	#SNDRV_CTL_IOCTL_ELEM_REPLACE
 
	`_IOWR
('U', 0x18, 
¢d_ùl_–em_šfo
)

	)

966 
	#SNDRV_CTL_IOCTL_ELEM_REMOVE
 
	`_IOWR
('U', 0x19, 
¢d_ùl_–em_id
)

	)

967 
	#SNDRV_CTL_IOCTL_TLV_READ
 
	`_IOWR
('U', 0x1a, 
¢d_ùl_v
)

	)

968 
	#SNDRV_CTL_IOCTL_TLV_WRITE
 
	`_IOWR
('U', 0x1b, 
¢d_ùl_v
)

	)

969 
	#SNDRV_CTL_IOCTL_TLV_COMMAND
 
	`_IOWR
('U', 0x1c, 
¢d_ùl_v
)

	)

970 
	#SNDRV_CTL_IOCTL_HWDEP_NEXT_DEVICE
 
	`_IOWR
('U', 0x20, )

	)

971 
	#SNDRV_CTL_IOCTL_HWDEP_INFO
 
	`_IOR
('U', 0x21, 
¢d_hwd•_šfo
)

	)

972 
	#SNDRV_CTL_IOCTL_PCM_NEXT_DEVICE
 
	`_IOR
('U', 0x30, )

	)

973 
	#SNDRV_CTL_IOCTL_PCM_INFO
 
	`_IOWR
('U', 0x31, 
¢d_pcm_šfo
)

	)

974 
	#SNDRV_CTL_IOCTL_PCM_PREFER_SUBDEVICE
 
	`_IOW
('U', 0x32, )

	)

975 
	#SNDRV_CTL_IOCTL_RAWMIDI_NEXT_DEVICE
 
	`_IOWR
('U', 0x40, )

	)

976 
	#SNDRV_CTL_IOCTL_RAWMIDI_INFO
 
	`_IOWR
('U', 0x41, 
¢d_¿wmidi_šfo
)

	)

977 
	#SNDRV_CTL_IOCTL_RAWMIDI_PREFER_SUBDEVICE
 
	`_IOW
('U', 0x42, )

	)

978 
	#SNDRV_CTL_IOCTL_POWER
 
	`_IOWR
('U', 0xd0, )

	)

979 
	#SNDRV_CTL_IOCTL_POWER_STATE
 
	`_IOR
('U', 0xd1, )

	)

985 
	e¢drv_ùl_ev’t_ty³
 {

986 
	mSNDRV_CTL_EVENT_ELEM
 = 0,

987 
	mSNDRV_CTL_EVENT_LAST
 = 
SNDRV_CTL_EVENT_ELEM
,

990 
	#SNDRV_CTL_EVENT_MASK_VALUE
 (1<<0è

	)

991 
	#SNDRV_CTL_EVENT_MASK_INFO
 (1<<1è

	)

992 
	#SNDRV_CTL_EVENT_MASK_ADD
 (1<<2è

	)

993 
	#SNDRV_CTL_EVENT_MASK_TLV
 (1<<3è

	)

994 
	#SNDRV_CTL_EVENT_MASK_REMOVE
 (~0Uè

	)

996 
	s¢d_ùl_ev’t
 {

997 
	mty³
;

1000 
	mmask
;

1001 
¢d_ùl_–em_id
 
	mid
;

1002 } 
	m–em
;

1003 
	md©a8
[60];

1004 } 
	md©a
;

1011 
	#SNDRV_CTL_NAME_NONE
 ""

	)

1012 
	#SNDRV_CTL_NAME_PLAYBACK
 "PÏyback "

	)

1013 
	#SNDRV_CTL_NAME_CAPTURE
 "C­tu» "

	)

1015 
	#SNDRV_CTL_NAME_IEC958_NONE
 ""

	)

1016 
	#SNDRV_CTL_NAME_IEC958_SWITCH
 "Sw™ch"

	)

1017 
	#SNDRV_CTL_NAME_IEC958_VOLUME
 "VŞume"

	)

1018 
	#SNDRV_CTL_NAME_IEC958_DEFAULT
 "DeçuÉ"

	)

1019 
	#SNDRV_CTL_NAME_IEC958_MASK
 "Mask"

	)

1020 
	#SNDRV_CTL_NAME_IEC958_CON_MASK
 "CÚ Mask"

	)

1021 
	#SNDRV_CTL_NAME_IEC958_PRO_MASK
 "PrØMask"

	)

1022 
	#SNDRV_CTL_NAME_IEC958_PCM_STREAM
 "PCM SŒ—m"

	)

1023 
	#SNDRV_CTL_NAME_IEC958
(
ex¶
,
dœeùiÚ
,
wh©
è"IEC958 "ƒx¶ 
SNDRV_CTL_NAME_
##dœeùiÚ 
SNDRV_CTL_NAME_IEC958_
##
	)
what

	@/usr/include/sound/tlv.h

14 #iâdeà
__UAPI_SOUND_TLV_H


15 
	#__UAPI_SOUND_TLV_H


	)

17 
	#SNDRV_CTL_TLVT_CONTAINER
 0

	)

18 
	#SNDRV_CTL_TLVT_DB_SCALE
 1

	)

19 
	#SNDRV_CTL_TLVT_DB_LINEAR
 2

	)

20 
	#SNDRV_CTL_TLVT_DB_RANGE
 3

	)

21 
	#SNDRV_CTL_TLVT_DB_MINMAX
 4

	)

22 
	#SNDRV_CTL_TLVT_DB_MINMAX_MUTE
 5

	)

28 
	#SNDRV_CTL_TLVT_CHMAP_FIXED
 0x101

	)

29 
	#SNDRV_CTL_TLVT_CHMAP_VAR
 0x102

	)

30 
	#SNDRV_CTL_TLVT_CHMAP_PAIRED
 0x103

	)

40 
	#SNDRV_CTL_TLVD_ITEM
(
ty³
, ...) \

41 (
ty³
), 
	`SNDRV_CTL_TLVD_LENGTH
(
__VA_ARGS__
), 
	)
__VA_ARGS__

42 
	#SNDRV_CTL_TLVD_LENGTH
(...) \

43 (()((cÚ¡ []è{ 
__VA_ARGS__
 }))

	)

45 
	#SNDRV_CTL_TLVD_CONTAINER_ITEM
(...) \

46 
	`SNDRV_CTL_TLVD_ITEM
(
SNDRV_CTL_TLVT_CONTAINER
, 
__VA_ARGS__
)

	)

47 
	#SNDRV_CTL_TLVD_DECLARE_CONTAINER
(
Çme
, ...) \

48 
Çme
[] = { \

49 
	`SNDRV_CTL_TLVD_CONTAINER_ITEM
(
__VA_ARGS__
) \

50 }

	)

52 
	#SNDRV_CTL_TLVD_DB_SCALE_MASK
 0xffff

	)

53 
	#SNDRV_CTL_TLVD_DB_SCALE_MUTE
 0x10000

	)

54 
	#SNDRV_CTL_TLVD_DB_SCALE_ITEM
(
mš
, 
¡•
, 
mu‹
) \

55 
	`SNDRV_CTL_TLVD_ITEM
(
SNDRV_CTL_TLVT_DB_SCALE
, \

56 (
mš
), \

57 ((
¡•
è& 
SNDRV_CTL_TLVD_DB_SCALE_MASK
) | \

58 ((
mu‹
è? 
SNDRV_CTL_TLVD_DB_SCALE_MUTE
 : 0))

	)

59 
	#SNDRV_CTL_TLVD_DECLARE_DB_SCALE
(
Çme
, 
mš
, 
¡•
, 
mu‹
) \

60 
Çme
[] = { \

61 
	`SNDRV_CTL_TLVD_DB_SCALE_ITEM
(
mš
, 
¡•
, 
mu‹
) \

62 }

	)

65 
	#SNDRV_CTL_TLVD_DB_MINMAX_ITEM
(
mš_dB
, 
max_dB
) \

66 
	`SNDRV_CTL_TLVD_ITEM
(
SNDRV_CTL_TLVT_DB_MINMAX
, (
mš_dB
), (
max_dB
))

	)

67 
	#SNDRV_CTL_TLVD_DB_MINMAX_MUTE_ITEM
(
mš_dB
, 
max_dB
) \

68 
	`SNDRV_CTL_TLVD_ITEM
(
SNDRV_CTL_TLVT_DB_MINMAX_MUTE
, (
mš_dB
), (
max_dB
))

	)

69 
	#SNDRV_CTL_TLVD_DECLARE_DB_MINMAX
(
Çme
, 
mš_dB
, 
max_dB
) \

70 
Çme
[] = { \

71 
	`SNDRV_CTL_TLVD_DB_MINMAX_ITEM
(
mš_dB
, 
max_dB
) \

72 }

	)

73 
	#SNDRV_CTL_TLVD_DECLARE_DB_MINMAX_MUTE
(
Çme
, 
mš_dB
, 
max_dB
) \

74 
Çme
[] = { \

75 
	`SNDRV_CTL_TLVD_DB_MINMAX_MUTE_ITEM
(
mš_dB
, 
max_dB
) \

76 }

	)

79 
	#SNDRV_CTL_TLVD_DB_LINEAR_ITEM
(
mš_dB
, 
max_dB
) \

80 
	`SNDRV_CTL_TLVD_ITEM
(
SNDRV_CTL_TLVT_DB_LINEAR
, (
mš_dB
), (
max_dB
))

	)

81 
	#SNDRV_CTL_TLVD_DECLARE_DB_LINEAR
(
Çme
, 
mš_dB
, 
max_dB
) \

82 
Çme
[] = { \

83 
	`SNDRV_CTL_TLVD_DB_LINEAR_ITEM
(
mš_dB
, 
max_dB
) \

84 }

	)

92 
	#SNDRV_CTL_TLVD_DB_RANGE_ITEM
(...) \

93 
	`SNDRV_CTL_TLVD_ITEM
(
SNDRV_CTL_TLVT_DB_RANGE
, 
__VA_ARGS__
)

	)

94 
	#SNDRV_CTL_TLVD_DECLARE_DB_RANGE
(
Çme
, ...) \

95 
Çme
[] = { \

96 
	`SNDRV_CTL_TLVD_DB_RANGE_ITEM
(
__VA_ARGS__
) \

97 }

	)

99 
	#SNDRV_CTL_TLVD_DB_GAIN_MUTE
 -9999999

	)

	@/usr/include/stdint.h

22 #iâdeà
_STDINT_H


23 
	#_STDINT_H
 1

	)

25 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

26 
	~<b™s/libc-h—d”-¡¬t.h
>

27 
	~<b™s/ty³s.h
>

28 
	~<b™s/wch¬.h
>

29 
	~<b™s/wÜdsize.h
>

34 
	~<b™s/¡dšt-šŠ.h
>

37 
	~<b™s/¡dšt-ušŠ.h
>

43 sigÃd 
	tšt_Ëa¡8_t
;

44 
	tšt_Ëa¡16_t
;

45 
	tšt_Ëa¡32_t
;

46 #ià
__WORDSIZE
 == 64

47 
	tšt_Ëa¡64_t
;

49 
__ex‹nsiÚ__


50 
	tšt_Ëa¡64_t
;

54 
	tušt_Ëa¡8_t
;

55 
	tušt_Ëa¡16_t
;

56 
	tušt_Ëa¡32_t
;

57 #ià
__WORDSIZE
 == 64

58 
	tušt_Ëa¡64_t
;

60 
__ex‹nsiÚ__


61 
	tušt_Ëa¡64_t
;

68 sigÃd 
	tšt_ç¡8_t
;

69 #ià
__WORDSIZE
 == 64

70 
	tšt_ç¡16_t
;

71 
	tšt_ç¡32_t
;

72 
	tšt_ç¡64_t
;

74 
	tšt_ç¡16_t
;

75 
	tšt_ç¡32_t
;

76 
__ex‹nsiÚ__


77 
	tšt_ç¡64_t
;

81 
	tušt_ç¡8_t
;

82 #ià
__WORDSIZE
 == 64

83 
	tušt_ç¡16_t
;

84 
	tušt_ç¡32_t
;

85 
	tušt_ç¡64_t
;

87 
	tušt_ç¡16_t
;

88 
	tušt_ç¡32_t
;

89 
__ex‹nsiÚ__


90 
	tušt_ç¡64_t
;

95 #ià
__WORDSIZE
 == 64

96 #iâdeà
__šŒ_t_defšed


97 
	tšŒ_t
;

98 
	#__šŒ_t_defšed


	)

100 
	tušŒ_t
;

102 #iâdeà
__šŒ_t_defšed


103 
	tšŒ_t
;

104 
	#__šŒ_t_defšed


	)

106 
	tušŒ_t
;

111 
__štmax_t
 
	tštmax_t
;

112 
__uštmax_t
 
	tuštmax_t
;

115 #ià
__WORDSIZE
 == 64

116 
	#__INT64_C
(
c
èø## 
L


	)

117 
	#__UINT64_C
(
c
èø## 
UL


	)

119 
	#__INT64_C
(
c
èø## 
LL


	)

120 
	#__UINT64_C
(
c
èø## 
ULL


	)

126 
	#INT8_MIN
 (-128)

	)

127 
	#INT16_MIN
 (-32767-1)

	)

128 
	#INT32_MIN
 (-2147483647-1)

	)

129 
	#INT64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

131 
	#INT8_MAX
 (127)

	)

132 
	#INT16_MAX
 (32767)

	)

133 
	#INT32_MAX
 (2147483647)

	)

134 
	#INT64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

137 
	#UINT8_MAX
 (255)

	)

138 
	#UINT16_MAX
 (65535)

	)

139 
	#UINT32_MAX
 (4294967295U)

	)

140 
	#UINT64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

144 
	#INT_LEAST8_MIN
 (-128)

	)

145 
	#INT_LEAST16_MIN
 (-32767-1)

	)

146 
	#INT_LEAST32_MIN
 (-2147483647-1)

	)

147 
	#INT_LEAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

149 
	#INT_LEAST8_MAX
 (127)

	)

150 
	#INT_LEAST16_MAX
 (32767)

	)

151 
	#INT_LEAST32_MAX
 (2147483647)

	)

152 
	#INT_LEAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

155 
	#UINT_LEAST8_MAX
 (255)

	)

156 
	#UINT_LEAST16_MAX
 (65535)

	)

157 
	#UINT_LEAST32_MAX
 (4294967295U)

	)

158 
	#UINT_LEAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

162 
	#INT_FAST8_MIN
 (-128)

	)

163 #ià
__WORDSIZE
 == 64

164 
	#INT_FAST16_MIN
 (-9223372036854775807L-1)

	)

165 
	#INT_FAST32_MIN
 (-9223372036854775807L-1)

	)

167 
	#INT_FAST16_MIN
 (-2147483647-1)

	)

168 
	#INT_FAST32_MIN
 (-2147483647-1)

	)

170 
	#INT_FAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

172 
	#INT_FAST8_MAX
 (127)

	)

173 #ià
__WORDSIZE
 == 64

174 
	#INT_FAST16_MAX
 (9223372036854775807L)

	)

175 
	#INT_FAST32_MAX
 (9223372036854775807L)

	)

177 
	#INT_FAST16_MAX
 (2147483647)

	)

178 
	#INT_FAST32_MAX
 (2147483647)

	)

180 
	#INT_FAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

183 
	#UINT_FAST8_MAX
 (255)

	)

184 #ià
__WORDSIZE
 == 64

185 
	#UINT_FAST16_MAX
 (18446744073709551615UL)

	)

186 
	#UINT_FAST32_MAX
 (18446744073709551615UL)

	)

188 
	#UINT_FAST16_MAX
 (4294967295U)

	)

189 
	#UINT_FAST32_MAX
 (4294967295U)

	)

191 
	#UINT_FAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

195 #ià
__WORDSIZE
 == 64

196 
	#INTPTR_MIN
 (-9223372036854775807L-1)

	)

197 
	#INTPTR_MAX
 (9223372036854775807L)

	)

198 
	#UINTPTR_MAX
 (18446744073709551615UL)

	)

200 
	#INTPTR_MIN
 (-2147483647-1)

	)

201 
	#INTPTR_MAX
 (2147483647)

	)

202 
	#UINTPTR_MAX
 (4294967295U)

	)

207 
	#INTMAX_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

209 
	#INTMAX_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

212 
	#UINTMAX_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

218 #ià
__WORDSIZE
 == 64

219 
	#PTRDIFF_MIN
 (-9223372036854775807L-1)

	)

220 
	#PTRDIFF_MAX
 (9223372036854775807L)

	)

222 #ià
__WORDSIZE32_PTRDIFF_LONG


223 
	#PTRDIFF_MIN
 (-2147483647L-1)

	)

224 
	#PTRDIFF_MAX
 (2147483647L)

	)

226 
	#PTRDIFF_MIN
 (-2147483647-1)

	)

227 
	#PTRDIFF_MAX
 (2147483647)

	)

232 
	#SIG_ATOMIC_MIN
 (-2147483647-1)

	)

233 
	#SIG_ATOMIC_MAX
 (2147483647)

	)

236 #ià
__WORDSIZE
 == 64

237 
	#SIZE_MAX
 (18446744073709551615UL)

	)

239 #ià
__WORDSIZE32_SIZE_ULONG


240 
	#SIZE_MAX
 (4294967295UL)

	)

242 
	#SIZE_MAX
 (4294967295U)

	)

247 #iâdeà
WCHAR_MIN


249 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

250 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

254 
	#WINT_MIN
 (0u)

	)

255 
	#WINT_MAX
 (4294967295u)

	)

258 
	#INT8_C
(
c
è
	)
c

259 
	#INT16_C
(
c
è
	)
c

260 
	#INT32_C
(
c
è
	)
c

261 #ià
__WORDSIZE
 == 64

262 
	#INT64_C
(
c
èø## 
L


	)

264 
	#INT64_C
(
c
èø## 
LL


	)

268 
	#UINT8_C
(
c
è
	)
c

269 
	#UINT16_C
(
c
è
	)
c

270 
	#UINT32_C
(
c
èø## 
U


	)

271 #ià
__WORDSIZE
 == 64

272 
	#UINT64_C
(
c
èø## 
UL


	)

274 
	#UINT64_C
(
c
èø## 
ULL


	)

278 #ià
__WORDSIZE
 == 64

279 
	#INTMAX_C
(
c
èø## 
L


	)

280 
	#UINTMAX_C
(
c
èø## 
UL


	)

282 
	#INTMAX_C
(
c
èø## 
LL


	)

283 
	#UINTMAX_C
(
c
èø## 
ULL


	)

286 #ià
__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

288 
	#INT8_WIDTH
 8

	)

289 
	#UINT8_WIDTH
 8

	)

290 
	#INT16_WIDTH
 16

	)

291 
	#UINT16_WIDTH
 16

	)

292 
	#INT32_WIDTH
 32

	)

293 
	#UINT32_WIDTH
 32

	)

294 
	#INT64_WIDTH
 64

	)

295 
	#UINT64_WIDTH
 64

	)

297 
	#INT_LEAST8_WIDTH
 8

	)

298 
	#UINT_LEAST8_WIDTH
 8

	)

299 
	#INT_LEAST16_WIDTH
 16

	)

300 
	#UINT_LEAST16_WIDTH
 16

	)

301 
	#INT_LEAST32_WIDTH
 32

	)

302 
	#UINT_LEAST32_WIDTH
 32

	)

303 
	#INT_LEAST64_WIDTH
 64

	)

304 
	#UINT_LEAST64_WIDTH
 64

	)

306 
	#INT_FAST8_WIDTH
 8

	)

307 
	#UINT_FAST8_WIDTH
 8

	)

308 
	#INT_FAST16_WIDTH
 
__WORDSIZE


	)

309 
	#UINT_FAST16_WIDTH
 
__WORDSIZE


	)

310 
	#INT_FAST32_WIDTH
 
__WORDSIZE


	)

311 
	#UINT_FAST32_WIDTH
 
__WORDSIZE


	)

312 
	#INT_FAST64_WIDTH
 64

	)

313 
	#UINT_FAST64_WIDTH
 64

	)

315 
	#INTPTR_WIDTH
 
__WORDSIZE


	)

316 
	#UINTPTR_WIDTH
 
__WORDSIZE


	)

318 
	#INTMAX_WIDTH
 64

	)

319 
	#UINTMAX_WIDTH
 64

	)

321 
	#PTRDIFF_WIDTH
 
__WORDSIZE


	)

322 
	#SIG_ATOMIC_WIDTH
 32

	)

323 
	#SIZE_WIDTH
 
__WORDSIZE


	)

324 
	#WCHAR_WIDTH
 32

	)

325 
	#WINT_WIDTH
 32

	)

	@/usr/include/endian.h

18 #iâdef 
_ENDIAN_H


19 
	#_ENDIAN_H
 1

	)

21 
	~<ã©u»s.h
>

31 
	#__LITTLE_ENDIAN
 1234

	)

32 
	#__BIG_ENDIAN
 4321

	)

33 
	#__PDP_ENDIAN
 3412

	)

36 
	~<b™s/’dŸn.h
>

40 #iâdeà
__FLOAT_WORD_ORDER


41 
	#__FLOAT_WORD_ORDER
 
__BYTE_ORDER


	)

44 #ifdef 
__USE_MISC


45 
	#LITTLE_ENDIAN
 
__LITTLE_ENDIAN


	)

46 
	#BIG_ENDIAN
 
__BIG_ENDIAN


	)

47 
	#PDP_ENDIAN
 
__PDP_ENDIAN


	)

48 
	#BYTE_ORDER
 
__BYTE_ORDER


	)

51 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


52 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èLO, 
	)
HI

53 #–ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


54 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èHI, 
	)
LO

58 #ià
defšed
 
__USE_MISC
 && !defšed 
__ASSEMBLER__


60 
	~<b™s/by‹sw­.h
>

61 
	~<b™s/ušŠ-id’t™y.h
>

63 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


64 
	#htobe16
(
x
è
	`__bsw­_16
 (x)

	)

65 
	#htŞe16
(
x
è
	`__ušt16_id’t™y
 (x)

	)

66 
	#be16toh
(
x
è
	`__bsw­_16
 (x)

	)

67 
	#Ë16toh
(
x
è
	`__ušt16_id’t™y
 (x)

	)

69 
	#htobe32
(
x
è
	`__bsw­_32
 (x)

	)

70 
	#htŞe32
(
x
è
	`__ušt32_id’t™y
 (x)

	)

71 
	#be32toh
(
x
è
	`__bsw­_32
 (x)

	)

72 
	#Ë32toh
(
x
è
	`__ušt32_id’t™y
 (x)

	)

74 
	#htobe64
(
x
è
	`__bsw­_64
 (x)

	)

75 
	#htŞe64
(
x
è
	`__ušt64_id’t™y
 (x)

	)

76 
	#be64toh
(
x
è
	`__bsw­_64
 (x)

	)

77 
	#Ë64toh
(
x
è
	`__ušt64_id’t™y
 (x)

	)

80 
	#htobe16
(
x
è
	`__ušt16_id’t™y
 (x)

	)

81 
	#htŞe16
(
x
è
	`__bsw­_16
 (x)

	)

82 
	#be16toh
(
x
è
	`__ušt16_id’t™y
 (x)

	)

83 
	#Ë16toh
(
x
è
	`__bsw­_16
 (x)

	)

85 
	#htobe32
(
x
è
	`__ušt32_id’t™y
 (x)

	)

86 
	#htŞe32
(
x
è
	`__bsw­_32
 (x)

	)

87 
	#be32toh
(
x
è
	`__ušt32_id’t™y
 (x)

	)

88 
	#Ë32toh
(
x
è
	`__bsw­_32
 (x)

	)

90 
	#htobe64
(
x
è
	`__ušt64_id’t™y
 (x)

	)

91 
	#htŞe64
(
x
è
	`__bsw­_64
 (x)

	)

92 
	#be64toh
(
x
è
	`__ušt64_id’t™y
 (x)

	)

93 
	#Ë64toh
(
x
è
	`__bsw­_64
 (x)

	)

	@/usr/include/features.h

18 #iâdef 
_FEATURES_H


19 
	#_FEATURES_H
 1

	)

119 #undeà
__USE_ISOC11


120 #undeà
__USE_ISOC99


121 #undeà
__USE_ISOC95


122 #undeà
__USE_ISOCXX11


123 #undeà
__USE_POSIX


124 #undeà
__USE_POSIX2


125 #undeà
__USE_POSIX199309


126 #undeà
__USE_POSIX199506


127 #undeà
__USE_XOPEN


128 #undeà
__USE_XOPEN_EXTENDED


129 #undeà
__USE_UNIX98


130 #undeà
__USE_XOPEN2K


131 #undeà
__USE_XOPEN2KXSI


132 #undeà
__USE_XOPEN2K8


133 #undeà
__USE_XOPEN2K8XSI


134 #undeà
__USE_LARGEFILE


135 #undeà
__USE_LARGEFILE64


136 #undeà
__USE_FILE_OFFSET64


137 #undeà
__USE_MISC


138 #undeà
__USE_ATFILE


139 #undeà
__USE_GNU


140 #undeà
__USE_FORTIFY_LEVEL


141 #undeà
__KERNEL_STRICT_NAMES


142 #undeà
__GLIBC_USE_DEPRECATED_GETS


146 #iâdeà
_LOOSE_KERNEL_NAMES


147 
	#__KERNEL_STRICT_NAMES


	)

157 #ià
defšed
 
__GNUC__
 && defšed 
__GNUC_MINOR__


158 
	#__GNUC_PREREQ
(
maj
, 
mš
) \

159 ((
__GNUC__
 << 16è+ 
__GNUC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

161 
	#__GNUC_PREREQ
(
maj
, 
mš
è0

	)

168 #ià
defšed
 
__şªg_majÜ__
 && defšed 
__şªg_mšÜ__


169 
	#__glibc_şªg_´”eq
(
maj
, 
mš
) \

170 ((
__şªg_majÜ__
 << 16è+ 
__şªg_mšÜ__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

172 
	#__glibc_şªg_´”eq
(
maj
, 
mš
è0

	)

176 
	#__GLIBC_USE
(
F
è
__GLIBC_USE_
 ## 
	)
F

182 #ià(
defšed
 
_BSD_SOURCE
 || defšed 
_SVID_SOURCE
) \

183 && !
defšed
 
	g_DEFAULT_SOURCE


185 #undeà
_DEFAULT_SOURCE


186 
	#_DEFAULT_SOURCE
 1

	)

190 #ifdeà
_GNU_SOURCE


191 #undeà
_ISOC95_SOURCE


192 
	#_ISOC95_SOURCE
 1

	)

193 #undeà
_ISOC99_SOURCE


194 
	#_ISOC99_SOURCE
 1

	)

195 #undeà
_ISOC11_SOURCE


196 
	#_ISOC11_SOURCE
 1

	)

197 #undeà
_POSIX_SOURCE


198 
	#_POSIX_SOURCE
 1

	)

199 #undeà
_POSIX_C_SOURCE


200 
	#_POSIX_C_SOURCE
 200809L

	)

201 #undeà
_XOPEN_SOURCE


202 
	#_XOPEN_SOURCE
 700

	)

203 #undeà
_XOPEN_SOURCE_EXTENDED


204 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

205 #undeà
_LARGEFILE64_SOURCE


206 
	#_LARGEFILE64_SOURCE
 1

	)

207 #undeà
_DEFAULT_SOURCE


208 
	#_DEFAULT_SOURCE
 1

	)

209 #undeà
_ATFILE_SOURCE


210 
	#_ATFILE_SOURCE
 1

	)

215 #ià(
defšed
 
_DEFAULT_SOURCE
 \

216 || (!
defšed
 
	g__STRICT_ANSI__
 \

217 && !
defšed
 
	g_ISOC99_SOURCE
 \

218 && !
defšed
 
	g_POSIX_SOURCE
 && !defšed 
	g_POSIX_C_SOURCE
 \

219 && !
defšed
 
	g_XOPEN_SOURCE
))

220 #undeà
_DEFAULT_SOURCE


221 
	#_DEFAULT_SOURCE
 1

	)

225 #ià(
defšed
 
_ISOC11_SOURCE
 \

226 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 201112L))

227 
	#__USE_ISOC11
 1

	)

231 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

232 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

233 
	#__USE_ISOC99
 1

	)

237 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

238 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

239 
	#__USE_ISOC95
 1

	)

242 #ifdeà
__ılu¥lus


244 #ià
__ılu¥lus
 >= 201703L

245 
	#__USE_ISOC11
 1

	)

249 #ià
__ılu¥lus
 >ğ201103L || 
defšed
 
__GXX_EXPERIMENTAL_CXX0X__


250 
	#__USE_ISOCXX11
 1

	)

251 
	#__USE_ISOC99
 1

	)

258 #ifdeà
_DEFAULT_SOURCE


259 #ià!
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE


260 
	#__USE_POSIX_IMPLICITLY
 1

	)

262 #undeà
_POSIX_SOURCE


263 
	#_POSIX_SOURCE
 1

	)

264 #undeà
_POSIX_C_SOURCE


265 
	#_POSIX_C_SOURCE
 200809L

	)

268 #ià((!
defšed
 
__STRICT_ANSI__
 \

269 || (
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) >= 500)) \

270 && !
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE
)

271 
	#_POSIX_SOURCE
 1

	)

272 #ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

273 
	#_POSIX_C_SOURCE
 2

	)

274 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

275 
	#_POSIX_C_SOURCE
 199506L

	)

276 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

277 
	#_POSIX_C_SOURCE
 200112L

	)

279 
	#_POSIX_C_SOURCE
 200809L

	)

281 
	#__USE_POSIX_IMPLICITLY
 1

	)

290 #ià((!
defšed
 
_POSIX_C_SOURCE
 || (_POSIX_C_SOURCE - 0) < 199506L) \

291 && (
defšed
 
_REENTRANT
 || defšed 
_THREAD_SAFE
))

292 
	#_POSIX_SOURCE
 1

	)

293 #undeà
_POSIX_C_SOURCE


294 
	#_POSIX_C_SOURCE
 199506L

	)

297 #ià(
defšed
 
_POSIX_SOURCE
 \

298 || (
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >= 1) \

299 || 
defšed
 
_XOPEN_SOURCE
)

300 
	#__USE_POSIX
 1

	)

303 #ià
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >ğ2 || defšed 
_XOPEN_SOURCE


304 
	#__USE_POSIX2
 1

	)

307 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199309L

308 
	#__USE_POSIX199309
 1

	)

311 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199506L

312 
	#__USE_POSIX199506
 1

	)

315 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200112L

316 
	#__USE_XOPEN2K
 1

	)

317 #undeà
__USE_ISOC95


318 
	#__USE_ISOC95
 1

	)

319 #undeà
__USE_ISOC99


320 
	#__USE_ISOC99
 1

	)

323 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200809L

324 
	#__USE_XOPEN2K8
 1

	)

325 #undeà
_ATFILE_SOURCE


326 
	#_ATFILE_SOURCE
 1

	)

329 #ifdef 
_XOPEN_SOURCE


330 
	#__USE_XOPEN
 1

	)

331 #ià(
_XOPEN_SOURCE
 - 0) >= 500

332 
	#__USE_XOPEN_EXTENDED
 1

	)

333 
	#__USE_UNIX98
 1

	)

334 #undeà
_LARGEFILE_SOURCE


335 
	#_LARGEFILE_SOURCE
 1

	)

336 #ià(
_XOPEN_SOURCE
 - 0) >= 600

337 #ià(
_XOPEN_SOURCE
 - 0) >= 700

338 
	#__USE_XOPEN2K8
 1

	)

339 
	#__USE_XOPEN2K8XSI
 1

	)

341 
	#__USE_XOPEN2K
 1

	)

342 
	#__USE_XOPEN2KXSI
 1

	)

343 #undeà
__USE_ISOC95


344 
	#__USE_ISOC95
 1

	)

345 #undeà
__USE_ISOC99


346 
	#__USE_ISOC99
 1

	)

349 #ifdeà
_XOPEN_SOURCE_EXTENDED


350 
	#__USE_XOPEN_EXTENDED
 1

	)

355 #ifdeà
_LARGEFILE_SOURCE


356 
	#__USE_LARGEFILE
 1

	)

359 #ifdeà
_LARGEFILE64_SOURCE


360 
	#__USE_LARGEFILE64
 1

	)

363 #ià
defšed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

364 
	#__USE_FILE_OFFSET64
 1

	)

367 #ià
defšed
 
_DEFAULT_SOURCE


368 
	#__USE_MISC
 1

	)

371 #ifdef 
_ATFILE_SOURCE


372 
	#__USE_ATFILE
 1

	)

375 #ifdef 
_GNU_SOURCE


376 
	#__USE_GNU
 1

	)

379 #ià
defšed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

380 && 
__GNUC_PREREQ
 (4, 1è&& 
defšed
 
	g__OPTIMIZE__
 && __OPTIMIZE__ > 0

381 #ià
_FORTIFY_SOURCE
 > 1

382 
	#__USE_FORTIFY_LEVEL
 2

	)

384 
	#__USE_FORTIFY_LEVEL
 1

	)

387 
	#__USE_FORTIFY_LEVEL
 0

	)

394 #ià
defšed
 
__ılu¥lus
 ? __ılu¥lu >ğ201402L : defšed 
__USE_ISOC11


395 
	#__GLIBC_USE_DEPRECATED_GETS
 0

	)

397 
	#__GLIBC_USE_DEPRECATED_GETS
 1

	)

402 
	~<¡dc-´edef.h
>

410 #undeà
__GNU_LIBRARY__


411 
	#__GNU_LIBRARY__
 6

	)

415 
	#__GLIBC__
 2

	)

416 
	#__GLIBC_MINOR__
 27

	)

418 
	#__GLIBC_PREREQ
(
maj
, 
mš
) \

419 ((
__GLIBC__
 << 16è+ 
__GLIBC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

422 #iâdeà
__ASSEMBLER__


423 #iâdeà
_SYS_CDEFS_H


424 
	~<sys/cdefs.h
>

429 #ià
defšed
 
__USE_FILE_OFFSET64
 && !defšed 
__REDIRECT


430 
	#__USE_LARGEFILE
 1

	)

431 
	#__USE_LARGEFILE64
 1

	)

437 #ià
__GNUC_PREREQ
 (2, 7è&& 
defšed
 
__OPTIMIZE__
 \

438 && !
defšed
 
	g__OPTIMIZE_SIZE__
 && !defšed 
	g__NO_INLINE__
 \

439 && 
defšed
 
	g__ex‹º_šlše


440 
	#__USE_EXTERN_INLINES
 1

	)

448 
	~<gnu/¡ubs.h
>

	@/usr/include/linux/types.h

2 #iâdeà
_LINUX_TYPES_H


3 
	#_LINUX_TYPES_H


	)

5 
	~<asm/ty³s.h
>

7 #iâdeà
__ASSEMBLY__


9 
	~<lšux/posix_ty³s.h
>

17 #ifdeà
__CHECKER__


18 
	#__b™wi£__
 
	`__©Œibu‹__
((
b™wi£
))

	)

20 
	#__b™wi£__


	)

22 
	#__b™wi£
 
__b™wi£__


	)

24 
__u16
 
	t__b™wi£
 
	t__Ë16
;

25 
__u16
 
	t__b™wi£
 
	t__be16
;

26 
__u32
 
	t__b™wi£
 
	t__Ë32
;

27 
__u32
 
	t__b™wi£
 
	t__be32
;

28 
__u64
 
	t__b™wi£
 
	t__Ë64
;

29 
__u64
 
	t__b™wi£
 
	t__be64
;

31 
__u16
 
	t__b™wi£
 
	t__sum16
;

32 
__u32
 
	t__b™wi£
 
	t__wsum
;

43 
	#__®igÃd_u64
 
__u64
 
	`__©Œibu‹__
((
	`®igÃd
(8)))

	)

44 
	#__®igÃd_be64
 
__be64
 
	`__©Œibu‹__
((
	`®igÃd
(8)))

	)

45 
	#__®igÃd_Ë64
 
__Ë64
 
	`__©Œibu‹__
((
	`®igÃd
(8)))

	)

	@/usr/include/stdlib.h

22 #iâdef 
_STDLIB_H


24 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

25 
	~<b™s/libc-h—d”-¡¬t.h
>

28 
	#__Ãed_size_t


	)

29 
	#__Ãed_wch¬_t


	)

30 
	#__Ãed_NULL


	)

31 
	~<¡ddef.h
>

33 
	g__BEGIN_DECLS


35 
	#_STDLIB_H
 1

	)

37 #ià(
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8
è&& !defšed 
_SYS_WAIT_H


39 
	~<b™s/wa™æags.h
>

40 
	~<b™s/wa™¡©us.h
>

43 
	#WEXITSTATUS
(
¡©us
è
	`__WEXITSTATUS
 (¡©us)

	)

44 
	#WTERMSIG
(
¡©us
è
	`__WTERMSIG
 (¡©us)

	)

45 
	#WSTOPSIG
(
¡©us
è
	`__WSTOPSIG
 (¡©us)

	)

46 
	#WIFEXITED
(
¡©us
è
	`__WIFEXITED
 (¡©us)

	)

47 
	#WIFSIGNALED
(
¡©us
è
	`__WIFSIGNALED
 (¡©us)

	)

48 
	#WIFSTOPPED
(
¡©us
è
	`__WIFSTOPPED
 (¡©us)

	)

49 #ifdeà
__WIFCONTINUED


50 
	#WIFCONTINUED
(
¡©us
è
	`__WIFCONTINUED
 (¡©us)

	)

55 
	~<b™s/æßŠ.h
>

60 
	mquÙ
;

61 
	m»m
;

62 } 
	tdiv_t
;

65 #iâdeà
__ldiv_t_defšed


68 
	mquÙ
;

69 
	m»m
;

70 } 
	tldiv_t
;

71 
	#__ldiv_t_defšed
 1

	)

74 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__Îdiv_t_defšed


76 
__ex‹nsiÚ__
 struct

78 
	mquÙ
;

79 
	m»m
;

80 } 
	tÎdiv_t
;

81 
	#__Îdiv_t_defšed
 1

	)

86 
	#RAND_MAX
 2147483647

	)

91 
	#EXIT_FAILURE
 1

	)

92 
	#EXIT_SUCCESS
 0

	)

96 
	#MB_CUR_MAX
 (
	`__ùy³_g‘_mb_cur_max
 ())

	)

97 
size_t
 
	$__ùy³_g‘_mb_cur_max
 (è
__THROW
 
__wur
;

101 
	$©of
 (cÚ¡ *
__ÅŒ
)

102 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

104 
	$©oi
 (cÚ¡ *
__ÅŒ
)

105 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

107 
	$©Ş
 (cÚ¡ *
__ÅŒ
)

108 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

110 #ifdeà
__USE_ISOC99


112 
__ex‹nsiÚ__
 
	$©Şl
 (cÚ¡ *
__ÅŒ
)

113 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

117 
	$¡¹od
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

118 **
__»¡riù
 
__’d±r
)

119 
__THROW
 
	`__nÚnuÎ
 ((1));

121 #ifdef 
__USE_ISOC99


123 
	$¡¹of
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

124 **
__»¡riù
 
__’d±r
è
__THROW
 
	`__nÚnuÎ
 ((1));

126 
	$¡¹Şd
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

127 **
__»¡riù
 
__’d±r
)

128 
__THROW
 
	`__nÚnuÎ
 ((1));

133 #ià
__HAVE_FLOAT16
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

134 
_Flßt16
 
	$¡¹of16
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

135 **
__»¡riù
 
__’d±r
)

136 
__THROW
 
	`__nÚnuÎ
 ((1));

139 #ià
__HAVE_FLOAT32
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

140 
_Flßt32
 
	$¡¹of32
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

141 **
__»¡riù
 
__’d±r
)

142 
__THROW
 
	`__nÚnuÎ
 ((1));

145 #ià
__HAVE_FLOAT64
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

146 
_Flßt64
 
	$¡¹of64
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

147 **
__»¡riù
 
__’d±r
)

148 
__THROW
 
	`__nÚnuÎ
 ((1));

151 #ià
__HAVE_FLOAT128
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

152 
_Flßt128
 
	$¡¹of128
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

153 **
__»¡riù
 
__’d±r
)

154 
__THROW
 
	`__nÚnuÎ
 ((1));

157 #ià
__HAVE_FLOAT32X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

158 
_Flßt32x
 
	$¡¹of32x
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

159 **
__»¡riù
 
__’d±r
)

160 
__THROW
 
	`__nÚnuÎ
 ((1));

163 #ià
__HAVE_FLOAT64X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

164 
_Flßt64x
 
	$¡¹of64x
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

165 **
__»¡riù
 
__’d±r
)

166 
__THROW
 
	`__nÚnuÎ
 ((1));

169 #ià
__HAVE_FLOAT128X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

170 
_Flßt128x
 
	$¡¹of128x
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

171 **
__»¡riù
 
__’d±r
)

172 
__THROW
 
	`__nÚnuÎ
 ((1));

176 
	$¡¹Ş
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

177 **
__»¡riù
 
__’d±r
, 
__ba£
)

178 
__THROW
 
	`__nÚnuÎ
 ((1));

180 
	$¡¹oul
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

181 **
__»¡riù
 
__’d±r
, 
__ba£
)

182 
__THROW
 
	`__nÚnuÎ
 ((1));

184 #ifdeà
__USE_MISC


186 
__ex‹nsiÚ__


187 
	$¡¹oq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

188 **
__»¡riù
 
__’d±r
, 
__ba£
)

189 
__THROW
 
	`__nÚnuÎ
 ((1));

191 
__ex‹nsiÚ__


192 
	$¡¹ouq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

193 **
__»¡riù
 
__’d±r
, 
__ba£
)

194 
__THROW
 
	`__nÚnuÎ
 ((1));

197 #ifdeà
__USE_ISOC99


199 
__ex‹nsiÚ__


200 
	$¡¹Şl
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

201 **
__»¡riù
 
__’d±r
, 
__ba£
)

202 
__THROW
 
	`__nÚnuÎ
 ((1));

204 
__ex‹nsiÚ__


205 
	$¡¹ouÎ
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

206 **
__»¡riù
 
__’d±r
, 
__ba£
)

207 
__THROW
 
	`__nÚnuÎ
 ((1));

211 #ià
	`__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

212 
	$¡räomd
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ *
__fÜm©
,

213 
__f
)

214 
__THROW
 
	`__nÚnuÎ
 ((3));

216 
	$¡räomf
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ *
__fÜm©
,

217 
__f
)

218 
__THROW
 
	`__nÚnuÎ
 ((3));

220 
	$¡räoml
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ *
__fÜm©
,

221 
__f
)

222 
__THROW
 
	`__nÚnuÎ
 ((3));

225 #ià
__HAVE_FLOAT16
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

226 
	$¡räomf16
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

227 
_Flßt16
 
__f
)

228 
__THROW
 
	`__nÚnuÎ
 ((3));

231 #ià
__HAVE_FLOAT32
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

232 
	$¡räomf32
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

233 
_Flßt32
 
__f
)

234 
__THROW
 
	`__nÚnuÎ
 ((3));

237 #ià
__HAVE_FLOAT64
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

238 
	$¡räomf64
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

239 
_Flßt64
 
__f
)

240 
__THROW
 
	`__nÚnuÎ
 ((3));

243 #ià
__HAVE_FLOAT128
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

244 
	$¡räomf128
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

245 
_Flßt128
 
__f
)

246 
__THROW
 
	`__nÚnuÎ
 ((3));

249 #ià
__HAVE_FLOAT32X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

250 
	$¡räomf32x
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

251 
_Flßt32x
 
__f
)

252 
__THROW
 
	`__nÚnuÎ
 ((3));

255 #ià
__HAVE_FLOAT64X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

256 
	$¡räomf64x
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

257 
_Flßt64x
 
__f
)

258 
__THROW
 
	`__nÚnuÎ
 ((3));

261 #ià
__HAVE_FLOAT128X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

262 
	$¡räomf128x
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

263 
_Flßt128x
 
__f
)

264 
__THROW
 
	`__nÚnuÎ
 ((3));

268 #ifdeà
__USE_GNU


272 
	~<b™s/ty³s/loÿË_t.h
>

274 
	$¡¹Ş_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

275 **
__»¡riù
 
__’d±r
, 
__ba£
,

276 
loÿË_t
 
__loc
è
__THROW
 
	`__nÚnuÎ
 ((1, 4));

278 
	$¡¹oul_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

279 **
__»¡riù
 
__’d±r
,

280 
__ba£
, 
loÿË_t
 
__loc
)

281 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

283 
__ex‹nsiÚ__


284 
	$¡¹Şl_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

285 **
__»¡riù
 
__’d±r
, 
__ba£
,

286 
loÿË_t
 
__loc
)

287 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

289 
__ex‹nsiÚ__


290 
	$¡¹ouÎ_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

291 **
__»¡riù
 
__’d±r
,

292 
__ba£
, 
loÿË_t
 
__loc
)

293 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

295 
	$¡¹od_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

296 **
__»¡riù
 
__’d±r
, 
loÿË_t
 
__loc
)

297 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

299 
	$¡¹of_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

300 **
__»¡riù
 
__’d±r
, 
loÿË_t
 
__loc
)

301 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

303 
	$¡¹Şd_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

304 **
__»¡riù
 
__’d±r
,

305 
loÿË_t
 
__loc
)

306 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

308 #ià
__HAVE_FLOAT16


309 
_Flßt16
 
	$¡¹of16_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

310 **
__»¡riù
 
__’d±r
,

311 
loÿË_t
 
__loc
)

312 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

315 #ià
__HAVE_FLOAT32


316 
_Flßt32
 
	$¡¹of32_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

317 **
__»¡riù
 
__’d±r
,

318 
loÿË_t
 
__loc
)

319 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

322 #ià
__HAVE_FLOAT64


323 
_Flßt64
 
	$¡¹of64_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

324 **
__»¡riù
 
__’d±r
,

325 
loÿË_t
 
__loc
)

326 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

329 #ià
__HAVE_FLOAT128


330 
_Flßt128
 
	$¡¹of128_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

331 **
__»¡riù
 
__’d±r
,

332 
loÿË_t
 
__loc
)

333 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

336 #ià
__HAVE_FLOAT32X


337 
_Flßt32x
 
	$¡¹of32x_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

338 **
__»¡riù
 
__’d±r
,

339 
loÿË_t
 
__loc
)

340 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

343 #ià
__HAVE_FLOAT64X


344 
_Flßt64x
 
	$¡¹of64x_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

345 **
__»¡riù
 
__’d±r
,

346 
loÿË_t
 
__loc
)

347 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

350 #ià
__HAVE_FLOAT128X


351 
_Flßt128x
 
	$¡¹of128x_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

352 **
__»¡riù
 
__’d±r
,

353 
loÿË_t
 
__loc
)

354 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

359 #ifdeà
__USE_EXTERN_INLINES


360 
__ex‹º_šlše
 

361 
	`__NTH
 (
	$©oi
 (cÚ¡ *
__ÅŒ
))

363  (è
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

364 
	}
}

365 
__ex‹º_šlše
 

366 
__NTH
 (
	$©Ş
 (cÚ¡ *
__ÅŒ
))

368  
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

369 
	}
}

371 #ifdeà
__USE_ISOC99


372 
__ex‹nsiÚ__
 
__ex‹º_šlše
 

373 
__NTH
 (
	$©Şl
 (cÚ¡ *
__ÅŒ
))

375  
	`¡¹Şl
 (
__ÅŒ
, (**è
NULL
, 10);

376 
	}
}

381 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


385 *
	$l64a
 (
__n
è
__THROW
 
__wur
;

388 
	$a64l
 (cÚ¡ *
__s
)

389 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

393 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


394 
	~<sys/ty³s.h
>

401 
	$¿ndom
 (è
__THROW
;

404 
	$¤ªdom
 (
__£ed
è
__THROW
;

410 *
	$š™¡©e
 (
__£ed
, *
__¡©ebuf
,

411 
size_t
 
__¡©–’
è
__THROW
 
	`__nÚnuÎ
 ((2));

415 *
	$£t¡©e
 (*
__¡©ebuf
è
__THROW
 
	`__nÚnuÎ
 ((1));

418 #ifdeà
__USE_MISC


423 
	s¿ndom_d©a


425 
št32_t
 *
åŒ
;

426 
št32_t
 *
½Œ
;

427 
št32_t
 *
¡©e
;

428 
¿nd_ty³
;

429 
¿nd_deg
;

430 
¿nd_£p
;

431 
št32_t
 *
’d_±r
;

434 
	$¿ndom_r
 (
¿ndom_d©a
 *
__»¡riù
 
__buf
,

435 
št32_t
 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

437 
	$¤ªdom_r
 (
__£ed
, 
¿ndom_d©a
 *
__buf
)

438 
__THROW
 
	`__nÚnuÎ
 ((2));

440 
	$š™¡©e_r
 (
__£ed
, *
__»¡riù
 
__¡©ebuf
,

441 
size_t
 
__¡©–’
,

442 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

443 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

445 
	$£t¡©e_r
 (*
__»¡riù
 
__¡©ebuf
,

446 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

447 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

453 
	$¿nd
 (è
__THROW
;

455 
	$¤ªd
 (
__£ed
è
__THROW
;

457 #ifdeà
__USE_POSIX199506


459 
	$¿nd_r
 (*
__£ed
è
__THROW
;

463 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


467 
	$d¿nd48
 (è
__THROW
;

468 
	$”ªd48
 (
__xsubi
[3]è
__THROW
 
	`__nÚnuÎ
 ((1));

471 
	$Ìªd48
 (è
__THROW
;

472 
	$Äªd48
 (
__xsubi
[3])

473 
__THROW
 
	`__nÚnuÎ
 ((1));

476 
	$m¿nd48
 (è
__THROW
;

477 
	$j¿nd48
 (
__xsubi
[3])

478 
__THROW
 
	`__nÚnuÎ
 ((1));

481 
	$¤ªd48
 (
__£edv®
è
__THROW
;

482 *
	$£ed48
 (
__£ed16v
[3])

483 
__THROW
 
	`__nÚnuÎ
 ((1));

484 
	$lcÚg48
 (
__·¿m
[7]è
__THROW
 
	`__nÚnuÎ
 ((1));

486 #ifdeà
__USE_MISC


490 
	sd¿nd48_d©a


492 
__x
[3];

493 
__Şd_x
[3];

494 
__c
;

495 
__š™
;

496 
__ex‹nsiÚ__
 
__a
;

501 
	$d¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

502 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

503 
	$”ªd48_r
 (
__xsubi
[3],

504 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

505 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

508 
	$Ìªd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

509 *
__»¡riù
 
__»suÉ
)

510 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

511 
	$Äªd48_r
 (
__xsubi
[3],

512 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

513 *
__»¡riù
 
__»suÉ
)

514 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

517 
	$m¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

518 *
__»¡riù
 
__»suÉ
)

519 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

520 
	$j¿nd48_r
 (
__xsubi
[3],

521 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

522 *
__»¡riù
 
__»suÉ
)

523 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

526 
	$¤ªd48_r
 (
__£edv®
, 
d¿nd48_d©a
 *
__bufãr
)

527 
__THROW
 
	`__nÚnuÎ
 ((2));

529 
	$£ed48_r
 (
__£ed16v
[3],

530 
d¿nd48_d©a
 *
__bufãr
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

532 
	$lcÚg48_r
 (
__·¿m
[7],

533 
d¿nd48_d©a
 *
__bufãr
)

534 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

539 *
	$m®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

541 *
	$ÿÎoc
 (
size_t
 
__nmemb
, size_ˆ
__size
)

542 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

549 *
	$»®loc
 (*
__±r
, 
size_t
 
__size
)

550 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

552 #ifdeà
__USE_GNU


558 *
	$»®loÿ¼ay
 (*
__±r
, 
size_t
 
__nmemb
, size_ˆ
__size
)

559 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

563 
	$ä“
 (*
__±r
è
__THROW
;

565 #ifdeà
__USE_MISC


566 
	~<®loÿ.h
>

569 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

570 || 
defšed
 
__USE_MISC


572 *
	$v®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

575 #ifdeà
__USE_XOPEN2K


577 
	$posix_mem®ign
 (**
__mem±r
, 
size_t
 
__®ignm’t
, size_ˆ
__size
)

578 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

581 #ifdeà
__USE_ISOC11


583 *
	$®igÃd_®loc
 (
size_t
 
__®ignm’t
, size_ˆ
__size
)

584 
__THROW
 
__©Œibu‹_m®loc__
 
	`__©Œibu‹_®loc_size__
 ((2)è
__wur
;

588 
	$abÜt
 (è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

592 
	$©ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

594 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


596 #ifdeà
__ılu¥lus


597 "C++" 
	$©_quick_ex™
 ((*
__func
) ())

598 
__THROW
 
	`__asm
 ("©_quick_ex™"è
	`__nÚnuÎ
 ((1));

600 
	$©_quick_ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

604 #ifdef 
__USE_MISC


607 
	$Ú_ex™
 ((*
__func
è(
__¡©us
, *
__¬g
), *__arg)

608 
__THROW
 
	`__nÚnuÎ
 ((1));

614 
	$ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

616 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


620 
	$quick_ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

623 #ifdeà
__USE_ISOC99


626 
	$_Ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

631 *
	$g‘’v
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

633 #ifdeà
__USE_GNU


636 *
	$£cu»_g‘’v
 (cÚ¡ *
__Çme
)

637 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

640 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


644 
	$pu‹nv
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

647 #ifdeà
__USE_XOPEN2K


650 
	$£‹nv
 (cÚ¡ *
__Çme
, cÚ¡ *
__v®ue
, 
__»¶aû
)

651 
__THROW
 
	`__nÚnuÎ
 ((2));

654 
	$un£‹nv
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

657 #ifdef 
__USE_MISC


661 
	$ş—»nv
 (è
__THROW
;

665 #ià
defšed
 
__USE_MISC
 \

666 || (
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
)

672 *
	$mk‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1));

675 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


684 #iâdeà
__USE_FILE_OFFSET64


685 
	$mk¡emp
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

687 #ifdeà
__REDIRECT


688 
	`__REDIRECT
 (
mk¡emp
, (*
__‹m¶©e
), 
mk¡emp64
)

689 
	`__nÚnuÎ
 ((1)è
__wur
;

691 
	#mk¡emp
 
mk¡emp64


	)

694 #ifdeà
__USE_LARGEFILE64


695 
	$mk¡emp64
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

699 #ifdeà
__USE_MISC


706 #iâdeà
__USE_FILE_OFFSET64


707 
	$mk¡emps
 (*
__‹m¶©e
, 
__suffixËn
è
	`__nÚnuÎ
 ((1)è
__wur
;

709 #ifdeà
__REDIRECT


710 
	`__REDIRECT
 (
mk¡emps
, (*
__‹m¶©e
, 
__suffixËn
),

711 
mk¡emps64
è
	`__nÚnuÎ
 ((1)è
__wur
;

713 
	#mk¡emps
 
mk¡emps64


	)

716 #ifdeà
__USE_LARGEFILE64


717 
	$mk¡emps64
 (*
__‹m¶©e
, 
__suffixËn
)

718 
	`__nÚnuÎ
 ((1)è
__wur
;

722 #ifdeà
__USE_XOPEN2K8


728 *
	$mkd‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

731 #ifdeà
__USE_GNU


738 #iâdeà
__USE_FILE_OFFSET64


739 
	$mko¡emp
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

741 #ifdeà
__REDIRECT


742 
	`__REDIRECT
 (
mko¡emp
, (*
__‹m¶©e
, 
__æags
), 
mko¡emp64
)

743 
	`__nÚnuÎ
 ((1)è
__wur
;

745 
	#mko¡emp
 
mko¡emp64


	)

748 #ifdeà
__USE_LARGEFILE64


749 
	$mko¡emp64
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

758 #iâdeà
__USE_FILE_OFFSET64


759 
	$mko¡emps
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

760 
	`__nÚnuÎ
 ((1)è
__wur
;

762 #ifdeà
__REDIRECT


763 
	`__REDIRECT
 (
mko¡emps
, (*
__‹m¶©e
, 
__suffixËn
,

764 
__æags
), 
mko¡emps64
)

765 
	`__nÚnuÎ
 ((1)è
__wur
;

767 
	#mko¡emps
 
mko¡emps64


	)

770 #ifdeà
__USE_LARGEFILE64


771 
	$mko¡emps64
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

772 
	`__nÚnuÎ
 ((1)è
__wur
;

781 
	$sy¡em
 (cÚ¡ *
__commªd
è
__wur
;

784 #ifdef 
__USE_GNU


787 *
	$ÿnÚiÿlize_fe_Çme
 (cÚ¡ *
__Çme
)

788 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

791 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


797 *
	$»®·th
 (cÚ¡ *
__»¡riù
 
__Çme
,

798 *
__»¡riù
 
__»sŞved
è
__THROW
 
__wur
;

803 #iâdeà
__COMPAR_FN_T


804 
	#__COMPAR_FN_T


	)

805 (*
	t__com·r_â_t
) (const *, const *);

807 #ifdef 
__USE_GNU


808 
__com·r_â_t
 
	tcom·risÚ_â_t
;

811 #ifdeà
__USE_GNU


812 (*
	t__com·r_d_â_t
) (const *, const *, *);

817 *
	$b£¬ch
 (cÚ¡ *
__key
, cÚ¡ *
__ba£
,

818 
size_t
 
__nmemb
, size_ˆ
__size
, 
__com·r_â_t
 
__com·r
)

819 
	`__nÚnuÎ
 ((1, 2, 5)è
__wur
;

821 #ifdeà
__USE_EXTERN_INLINES


822 
	~<b™s/¡dlib-b£¬ch.h
>

827 
	$qsÜt
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

828 
__com·r_â_t
 
__com·r
è
	`__nÚnuÎ
 ((1, 4));

829 #ifdeà
__USE_GNU


830 
	$qsÜt_r
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

831 
__com·r_d_â_t
 
__com·r
, *
__¬g
)

832 
	`__nÚnuÎ
 ((1, 4));

837 
	$abs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

838 
	$Ïbs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

840 #ifdeà
__USE_ISOC99


841 
__ex‹nsiÚ__
 
	$Îabs
 (
__x
)

842 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

849 
div_t
 
	$div
 (
__num”
, 
__d’om
)

850 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

851 
ldiv_t
 
	$ldiv
 (
__num”
, 
__d’om
)

852 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

854 #ifdeà
__USE_ISOC99


855 
__ex‹nsiÚ__
 
Îdiv_t
 
	$Îdiv
 (
__num”
,

856 
__d’om
)

857 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

861 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

862 || 
defšed
 
__USE_MISC


869 *
	$ecvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

870 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

875 *
	$fcvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

876 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

881 *
	$gcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

882 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

885 #ifdeà
__USE_MISC


887 *
	$qecvt
 (
__v®ue
, 
__ndig™
,

888 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

889 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

890 *
	$qfcvt
 (
__v®ue
, 
__ndig™
,

891 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

892 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

893 *
	$qgcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

894 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

899 
	$ecvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

900 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

901 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

902 
	$fcvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

903 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

904 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

906 
	$qecvt_r
 (
__v®ue
, 
__ndig™
,

907 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

908 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

909 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

910 
	$qfcvt_r
 (
__v®ue
, 
__ndig™
,

911 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

912 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

913 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

919 
	$mbËn
 (cÚ¡ *
__s
, 
size_t
 
__n
è
__THROW
;

922 
	$mbtowc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

923 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

926 
	$wùomb
 (*
__s
, 
wch¬_t
 
__wch¬
è
__THROW
;

930 
size_t
 
	$mb¡owcs
 (
wch¬_t
 *
__»¡riù
 
__pwcs
,

931 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

933 
size_t
 
	$wc¡ombs
 (*
__»¡riù
 
__s
,

934 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__pwcs
, 
size_t
 
__n
)

935 
__THROW
;

938 #ifdeà
__USE_MISC


943 
	$½m©ch
 (cÚ¡ *
__»¥Ú£
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

947 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


954 
	$g‘subİt
 (**
__»¡riù
 
__İtiÚp
,

955 *cÚ¡ *
__»¡riù
 
__tok’s
,

956 **
__»¡riù
 
__v®u•
)

957 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3)è
__wur
;

961 #ifdeà
__USE_XOPEN


963 
	$£tkey
 (cÚ¡ *
__key
è
__THROW
 
	`__nÚnuÎ
 ((1));

969 #ifdeà
__USE_XOPEN2KXSI


971 
	$posix_İ’±
 (
__oæag
è
__wur
;

974 #ifdeà
__USE_XOPEN_EXTENDED


979 
	$g¿Á±
 (
__fd
è
__THROW
;

983 
	$uÆock±
 (
__fd
è
__THROW
;

988 *
	$±¢ame
 (
__fd
è
__THROW
 
__wur
;

991 #ifdeà
__USE_GNU


995 
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

996 
__THROW
 
	`__nÚnuÎ
 ((2));

999 
	`g‘±
 ();

1002 #ifdeà
__USE_MISC


1006 
	$g‘lßdavg
 (
__lßdavg
[], 
__ÃËm
)

1007 
__THROW
 
	`__nÚnuÎ
 ((1));

1010 #ià
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K


1013 
	$‰y¦Ù
 (è
__THROW
;

1016 
	~<b™s/¡dlib-æßt.h
>

1019 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


1020 
	~<b™s/¡dlib.h
>

1022 #ifdeà
__LDBL_COMPAT


1023 
	~<b™s/¡dlib-ldbl.h
>

1026 
__END_DECLS


	@/usr/include/alloca.h

18 #iâdef 
_ALLOCA_H


19 
	#_ALLOCA_H
 1

	)

21 
	~<ã©u»s.h
>

23 
	#__Ãed_size_t


	)

24 
	~<¡ddef.h
>

26 
	g__BEGIN_DECLS


29 #undeà
®loÿ


32 *
	$®loÿ
 (
size_t
 
__size
è
__THROW
;

34 #ifdef 
__GNUC__


35 
	#®loÿ
(
size
è
	`__butš_®loÿ
 (size)

	)

38 
__END_DECLS


	@/usr/include/linux/posix_types.h

2 #iâdeà
_LINUX_POSIX_TYPES_H


3 
	#_LINUX_POSIX_TYPES_H


	)

5 
	~<lšux/¡ddef.h
>

22 #undeà
__FD_SETSIZE


23 
	#__FD_SETSIZE
 1024

	)

26 
	mfds_b™s
[
__FD_SETSIZE
 / (8 * ())];

27 } 
	t__k”Ãl_fd_£t
;

30 (*
	t__k”Ãl_sighªdËr_t
)();

33 
	t__k”Ãl_key_t
;

34 
	t__k”Ãl_mqd_t
;

36 
	~<asm/posix_ty³s.h
>

	@/usr/include/stdc-predef.h

18 #iâdef 
_STDC_PREDEF_H


19 
	#_STDC_PREDEF_H
 1

	)

36 #ifdeà
__GCC_IEC_559


37 #ià
__GCC_IEC_559
 > 0

38 
	#__STDC_IEC_559__
 1

	)

41 
	#__STDC_IEC_559__
 1

	)

44 #ifdeà
__GCC_IEC_559_COMPLEX


45 #ià
__GCC_IEC_559_COMPLEX
 > 0

46 
	#__STDC_IEC_559_COMPLEX__
 1

	)

49 
	#__STDC_IEC_559_COMPLEX__
 1

	)

58 
	#__STDC_ISO_10646__
 201706L

	)

61 
	#__STDC_NO_THREADS__
 1

	)

	@/usr/include/linux/stddef.h

4 #iâdeà
__®ways_šlše


5 
	#__®ways_šlše
 
__šlše__


	)

	@
1
.
1
/usr/include
25
437
builder.c
channel.c
ctl.c
dapm.c
data.c
elem.c
ops.c
parser.c
pcm.c
text.c
tplg_local.h
/usr/include/ctype.h
/usr/include/limits.h
/usr/include/sound/asoc.h
/usr/include/sound/asound.h
/usr/include/sound/tlv.h
/usr/include/stdint.h
/usr/include/endian.h
/usr/include/features.h
/usr/include/linux/types.h
/usr/include/stdlib.h
/usr/include/alloca.h
/usr/include/linux/posix_types.h
/usr/include/stdc-predef.h
/usr/include/linux/stddef.h
